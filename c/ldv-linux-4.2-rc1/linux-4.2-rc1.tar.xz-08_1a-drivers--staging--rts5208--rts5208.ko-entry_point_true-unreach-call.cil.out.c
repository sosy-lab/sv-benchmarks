extern void __VERIFIER_error() __attribute__ ((__noreturn__));
/* Generated by CIL v. 1.5.1 */
/* print_CIL_Input is false */

#line 20 "include/uapi/asm-generic/int-ll64.h"
typedef unsigned char __u8;
#line 23 "include/uapi/asm-generic/int-ll64.h"
typedef unsigned short __u16;
#line 25 "include/uapi/asm-generic/int-ll64.h"
typedef int __s32;
#line 26 "include/uapi/asm-generic/int-ll64.h"
typedef unsigned int __u32;
#line 30 "include/uapi/asm-generic/int-ll64.h"
typedef unsigned long long __u64;
#line 15 "include/asm-generic/int-ll64.h"
typedef signed char s8;
#line 16 "include/asm-generic/int-ll64.h"
typedef unsigned char u8;
#line 19 "include/asm-generic/int-ll64.h"
typedef unsigned short u16;
#line 21 "include/asm-generic/int-ll64.h"
typedef int s32;
#line 22 "include/asm-generic/int-ll64.h"
typedef unsigned int u32;
#line 24 "include/asm-generic/int-ll64.h"
typedef long long s64;
#line 25 "include/asm-generic/int-ll64.h"
typedef unsigned long long u64;
#line 14 "./include/uapi/asm-generic/posix_types.h"
typedef long __kernel_long_t;
#line 15 "./include/uapi/asm-generic/posix_types.h"
typedef unsigned long __kernel_ulong_t;
#line 27 "./include/uapi/asm-generic/posix_types.h"
typedef int __kernel_pid_t;
#line 48 "./include/uapi/asm-generic/posix_types.h"
typedef unsigned int __kernel_uid32_t;
#line 49 "./include/uapi/asm-generic/posix_types.h"
typedef unsigned int __kernel_gid32_t;
#line 71 "./include/uapi/asm-generic/posix_types.h"
typedef __kernel_ulong_t __kernel_size_t;
#line 72 "./include/uapi/asm-generic/posix_types.h"
typedef __kernel_long_t __kernel_ssize_t;
#line 87 "./include/uapi/asm-generic/posix_types.h"
typedef long long __kernel_loff_t;
#line 88 "./include/uapi/asm-generic/posix_types.h"
typedef __kernel_long_t __kernel_time_t;
#line 89 "./include/uapi/asm-generic/posix_types.h"
typedef __kernel_long_t __kernel_clock_t;
#line 90 "./include/uapi/asm-generic/posix_types.h"
typedef int __kernel_timer_t;
#line 91 "./include/uapi/asm-generic/posix_types.h"
typedef int __kernel_clockid_t;
#line 229 "include/linux/compiler.h"
struct kernel_symbol {
   unsigned long value ;
   char const   *name ;
};
#line 33 "include/linux/export.h"
struct module;
#line 12 "include/linux/types.h"
typedef __u32 __kernel_dev_t;
#line 15 "include/linux/types.h"
typedef __kernel_dev_t dev_t;
#line 18 "include/linux/types.h"
typedef unsigned short umode_t;
#line 21 "include/linux/types.h"
typedef __kernel_pid_t pid_t;
#line 26 "include/linux/types.h"
typedef __kernel_clockid_t clockid_t;
#line 29 "include/linux/types.h"
typedef _Bool bool;
#line 31 "include/linux/types.h"
typedef __kernel_uid32_t uid_t;
#line 32 "include/linux/types.h"
typedef __kernel_gid32_t gid_t;
#line 45 "include/linux/types.h"
typedef __kernel_loff_t loff_t;
#line 54 "include/linux/types.h"
typedef __kernel_size_t size_t;
#line 59 "include/linux/types.h"
typedef __kernel_ssize_t ssize_t;
#line 69 "include/linux/types.h"
typedef __kernel_time_t time_t;
#line 102 "include/linux/types.h"
typedef __s32 int32_t;
#line 108 "include/linux/types.h"
typedef __u32 uint32_t;
#line 133 "include/linux/types.h"
typedef unsigned long sector_t;
#line 134 "include/linux/types.h"
typedef unsigned long blkcnt_t;
#line 152 "include/linux/types.h"
typedef u64 dma_addr_t;
#line 157 "include/linux/types.h"
typedef unsigned int gfp_t;
#line 158 "include/linux/types.h"
typedef unsigned int fmode_t;
#line 159 "include/linux/types.h"
typedef unsigned int oom_flags_t;
#line 162 "include/linux/types.h"
typedef u64 phys_addr_t;
#line 167 "include/linux/types.h"
typedef phys_addr_t resource_size_t;
#line 177 "include/linux/types.h"
struct __anonstruct_atomic_t_6 {
   int counter ;
};
#line 177 "include/linux/types.h"
typedef struct __anonstruct_atomic_t_6 atomic_t;
#line 182 "include/linux/types.h"
struct __anonstruct_atomic64_t_7 {
   long counter ;
};
#line 182 "include/linux/types.h"
typedef struct __anonstruct_atomic64_t_7 atomic64_t;
#line 183 "include/linux/types.h"
struct list_head {
   struct list_head *next ;
   struct list_head *prev ;
};
#line 188
struct hlist_node;
#line 188 "include/linux/types.h"
struct hlist_head {
   struct hlist_node *first ;
};
#line 192 "include/linux/types.h"
struct hlist_node {
   struct hlist_node *next ;
   struct hlist_node **pprev ;
};
#line 203 "include/linux/types.h"
struct callback_head {
   struct callback_head *next ;
   void (*func)(struct callback_head * ) ;
};
#line 67 "./arch/x86/include/asm/page_types.h"
struct pt_regs {
   unsigned long r15 ;
   unsigned long r14 ;
   unsigned long r13 ;
   unsigned long r12 ;
   unsigned long bp ;
   unsigned long bx ;
   unsigned long r11 ;
   unsigned long r10 ;
   unsigned long r9 ;
   unsigned long r8 ;
   unsigned long ax ;
   unsigned long cx ;
   unsigned long dx ;
   unsigned long si ;
   unsigned long di ;
   unsigned long orig_ax ;
   unsigned long ip ;
   unsigned long cs ;
   unsigned long flags ;
   unsigned long sp ;
   unsigned long ss ;
};
#line 66 "./arch/x86/include/asm/ptrace.h"
struct __anonstruct____missing_field_name_9 {
   unsigned int a ;
   unsigned int b ;
};
#line 66 "./arch/x86/include/asm/ptrace.h"
struct __anonstruct____missing_field_name_10 {
   u16 limit0 ;
   u16 base0 ;
   unsigned char base1 ;
   unsigned char type : 4 ;
   unsigned char s : 1 ;
   unsigned char dpl : 2 ;
   unsigned char p : 1 ;
   unsigned char limit : 4 ;
   unsigned char avl : 1 ;
   unsigned char l : 1 ;
   unsigned char d : 1 ;
   unsigned char g : 1 ;
   unsigned char base2 ;
};
#line 66 "./arch/x86/include/asm/ptrace.h"
union __anonunion____missing_field_name_8 {
   struct __anonstruct____missing_field_name_9 __annonCompField4 ;
   struct __anonstruct____missing_field_name_10 __annonCompField5 ;
};
#line 66 "./arch/x86/include/asm/ptrace.h"
struct desc_struct {
   union __anonunion____missing_field_name_8 __annonCompField6 ;
};
#line 12 "./arch/x86/include/asm/pgtable_64_types.h"
typedef unsigned long pteval_t;
#line 15 "./arch/x86/include/asm/pgtable_64_types.h"
typedef unsigned long pgdval_t;
#line 16 "./arch/x86/include/asm/pgtable_64_types.h"
typedef unsigned long pgprotval_t;
#line 18 "./arch/x86/include/asm/pgtable_64_types.h"
struct __anonstruct_pte_t_11 {
   pteval_t pte ;
};
#line 18 "./arch/x86/include/asm/pgtable_64_types.h"
typedef struct __anonstruct_pte_t_11 pte_t;
#line 20 "./arch/x86/include/asm/pgtable_64_types.h"
struct pgprot {
   pgprotval_t pgprot ;
};
#line 218 "./arch/x86/include/asm/pgtable_types.h"
typedef struct pgprot pgprot_t;
#line 220 "./arch/x86/include/asm/pgtable_types.h"
struct __anonstruct_pgd_t_12 {
   pgdval_t pgd ;
};
#line 220 "./arch/x86/include/asm/pgtable_types.h"
typedef struct __anonstruct_pgd_t_12 pgd_t;
#line 361
struct page;
#line 361 "./arch/x86/include/asm/pgtable_types.h"
typedef struct page *pgtable_t;
#line 372
struct file;
#line 385
struct seq_file;
#line 423
struct thread_struct;
#line 425
struct mm_struct;
#line 426
struct task_struct;
#line 427
struct cpumask;
#line 20 "./arch/x86/include/asm/spinlock_types.h"
struct qspinlock {
   atomic_t val ;
};
#line 33 "include/asm-generic/qspinlock_types.h"
typedef struct qspinlock arch_spinlock_t;
#line 34 "include/asm-generic/qspinlock_types.h"
struct qrwlock {
   atomic_t cnts ;
   arch_spinlock_t lock ;
};
#line 14 "include/asm-generic/qrwlock_types.h"
typedef struct qrwlock arch_rwlock_t;
#line 131 "include/linux/init.h"
typedef void (*ctor_fn_t)(void);
#line 234 "include/linux/printk.h"
struct _ddebug {
   char const   *modname ;
   char const   *function ;
   char const   *filename ;
   char const   *format ;
   unsigned int lineno : 18 ;
   unsigned char flags ;
};
#line 48 "include/linux/dynamic_debug.h"
struct device;
#line 420 "include/linux/printk.h"
struct file_operations;
#line 432
struct completion;
#line 555 "./arch/x86/include/asm/percpu.h"
struct bug_entry {
   int bug_addr_disp ;
   int file_disp ;
   unsigned short line ;
   unsigned short flags ;
};
#line 102 "include/linux/bug.h"
struct timespec;
#line 103
struct compat_timespec;
#line 104 "include/linux/bug.h"
struct __anonstruct_futex_16 {
   u32 *uaddr ;
   u32 val ;
   u32 flags ;
   u32 bitset ;
   u64 time ;
   u32 *uaddr2 ;
};
#line 104 "include/linux/bug.h"
struct __anonstruct_nanosleep_17 {
   clockid_t clockid ;
   struct timespec *rmtp ;
   struct compat_timespec *compat_rmtp ;
   u64 expires ;
};
#line 104
struct pollfd;
#line 104 "include/linux/bug.h"
struct __anonstruct_poll_18 {
   struct pollfd *ufds ;
   int nfds ;
   int has_timeout ;
   unsigned long tv_sec ;
   unsigned long tv_nsec ;
};
#line 104 "include/linux/bug.h"
union __anonunion____missing_field_name_15 {
   struct __anonstruct_futex_16 futex ;
   struct __anonstruct_nanosleep_17 nanosleep ;
   struct __anonstruct_poll_18 poll ;
};
#line 104 "include/linux/bug.h"
struct restart_block {
   long (*fn)(struct restart_block * ) ;
   union __anonunion____missing_field_name_15 __annonCompField7 ;
};
#line 127 "./arch/x86/include/uapi/asm/vm86.h"
struct kernel_vm86_regs {
   struct pt_regs pt ;
   unsigned short es ;
   unsigned short __esh ;
   unsigned short ds ;
   unsigned short __dsh ;
   unsigned short fs ;
   unsigned short __fsh ;
   unsigned short gs ;
   unsigned short __gsh ;
};
#line 79 "./arch/x86/include/asm/vm86.h"
union __anonunion____missing_field_name_19 {
   struct pt_regs *regs ;
   struct kernel_vm86_regs *vm86 ;
};
#line 79 "./arch/x86/include/asm/vm86.h"
struct math_emu_info {
   long ___orig_eip ;
   union __anonunion____missing_field_name_19 __annonCompField8 ;
};
#line 328 "include/linux/bitmap.h"
struct cpumask {
   unsigned long bits[128U] ;
};
#line 15 "include/linux/cpumask.h"
typedef struct cpumask cpumask_t;
#line 652 "include/linux/cpumask.h"
typedef struct cpumask *cpumask_var_t;
#line 260 "./arch/x86/include/asm/special_insns.h"
struct fregs_state {
   u32 cwd ;
   u32 swd ;
   u32 twd ;
   u32 fip ;
   u32 fcs ;
   u32 foo ;
   u32 fos ;
   u32 st_space[20U] ;
   u32 status ;
};
#line 26 "./arch/x86/include/asm/fpu/types.h"
struct __anonstruct____missing_field_name_29 {
   u64 rip ;
   u64 rdp ;
};
#line 26 "./arch/x86/include/asm/fpu/types.h"
struct __anonstruct____missing_field_name_30 {
   u32 fip ;
   u32 fcs ;
   u32 foo ;
   u32 fos ;
};
#line 26 "./arch/x86/include/asm/fpu/types.h"
union __anonunion____missing_field_name_28 {
   struct __anonstruct____missing_field_name_29 __annonCompField12 ;
   struct __anonstruct____missing_field_name_30 __annonCompField13 ;
};
#line 26 "./arch/x86/include/asm/fpu/types.h"
union __anonunion____missing_field_name_31 {
   u32 padding1[12U] ;
   u32 sw_reserved[12U] ;
};
#line 26 "./arch/x86/include/asm/fpu/types.h"
struct fxregs_state {
   u16 cwd ;
   u16 swd ;
   u16 twd ;
   u16 fop ;
   union __anonunion____missing_field_name_28 __annonCompField14 ;
   u32 mxcsr ;
   u32 mxcsr_mask ;
   u32 st_space[32U] ;
   u32 xmm_space[64U] ;
   u32 padding[12U] ;
   union __anonunion____missing_field_name_31 __annonCompField15 ;
};
#line 66 "./arch/x86/include/asm/fpu/types.h"
struct swregs_state {
   u32 cwd ;
   u32 swd ;
   u32 twd ;
   u32 fip ;
   u32 fcs ;
   u32 foo ;
   u32 fos ;
   u32 st_space[20U] ;
   u8 ftop ;
   u8 changed ;
   u8 lookahead ;
   u8 no_update ;
   u8 rm ;
   u8 alimit ;
   struct math_emu_info *info ;
   u32 entry_eip ;
};
#line 155 "./arch/x86/include/asm/fpu/types.h"
struct xstate_header {
   u64 xfeatures ;
   u64 xcomp_bv ;
   u64 reserved[6U] ;
};
#line 161 "./arch/x86/include/asm/fpu/types.h"
struct xregs_state {
   struct fxregs_state i387 ;
   struct xstate_header header ;
   u8 __reserved[464U] ;
};
#line 179 "./arch/x86/include/asm/fpu/types.h"
union fpregs_state {
   struct fregs_state fsave ;
   struct fxregs_state fxsave ;
   struct swregs_state soft ;
   struct xregs_state xsave ;
};
#line 193 "./arch/x86/include/asm/fpu/types.h"
struct fpu {
   union fpregs_state state ;
   unsigned int last_cpu ;
   unsigned char fpstate_active ;
   unsigned char fpregs_active ;
   unsigned char counter ;
};
#line 170 "./arch/x86/include/asm/processor.h"
struct seq_operations;
#line 369
struct perf_event;
#line 370 "./arch/x86/include/asm/processor.h"
struct thread_struct {
   struct desc_struct tls_array[3U] ;
   unsigned long sp0 ;
   unsigned long sp ;
   unsigned short es ;
   unsigned short ds ;
   unsigned short fsindex ;
   unsigned short gsindex ;
   unsigned long fs ;
   unsigned long gs ;
   struct fpu fpu ;
   struct perf_event *ptrace_bps[4U] ;
   unsigned long debugreg6 ;
   unsigned long ptrace_dr7 ;
   unsigned long cr2 ;
   unsigned long trap_nr ;
   unsigned long error_code ;
   unsigned long *io_bitmap_ptr ;
   unsigned long iopl ;
   unsigned int io_bitmap_max ;
};
#line 23 "include/asm-generic/atomic-long.h"
typedef atomic64_t atomic_long_t;
#line 33 "include/linux/bottom_half.h"
struct lockdep_map;
#line 55 "include/linux/debug_locks.h"
struct stack_trace {
   unsigned int nr_entries ;
   unsigned int max_entries ;
   unsigned long *entries ;
   int skip ;
};
#line 28 "include/linux/stacktrace.h"
struct lockdep_subclass_key {
   char __one_byte ;
};
#line 53 "include/linux/lockdep.h"
struct lock_class_key {
   struct lockdep_subclass_key subkeys[8U] ;
};
#line 59 "include/linux/lockdep.h"
struct lock_class {
   struct list_head hash_entry ;
   struct list_head lock_entry ;
   struct lockdep_subclass_key *key ;
   unsigned int subclass ;
   unsigned int dep_gen_id ;
   unsigned long usage_mask ;
   struct stack_trace usage_traces[13U] ;
   struct list_head locks_after ;
   struct list_head locks_before ;
   unsigned int version ;
   unsigned long ops ;
   char const   *name ;
   int name_version ;
   unsigned long contention_point[4U] ;
   unsigned long contending_point[4U] ;
};
#line 144 "include/linux/lockdep.h"
struct lockdep_map {
   struct lock_class_key *key ;
   struct lock_class *class_cache[2U] ;
   char const   *name ;
   int cpu ;
   unsigned long ip ;
};
#line 205 "include/linux/lockdep.h"
struct held_lock {
   u64 prev_chain_key ;
   unsigned long acquire_ip ;
   struct lockdep_map *instance ;
   struct lockdep_map *nest_lock ;
   u64 waittime_stamp ;
   u64 holdtime_stamp ;
   unsigned short class_idx : 13 ;
   unsigned char irq_context : 2 ;
   unsigned char trylock : 1 ;
   unsigned char read : 2 ;
   unsigned char check : 1 ;
   unsigned char hardirqs_off : 1 ;
   unsigned short references : 12 ;
   unsigned int pin_count ;
};
#line 546 "include/linux/lockdep.h"
struct raw_spinlock {
   arch_spinlock_t raw_lock ;
   unsigned int magic ;
   unsigned int owner_cpu ;
   void *owner ;
   struct lockdep_map dep_map ;
};
#line 32 "include/linux/spinlock_types.h"
typedef struct raw_spinlock raw_spinlock_t;
#line 33 "include/linux/spinlock_types.h"
struct __anonstruct____missing_field_name_35 {
   u8 __padding[24U] ;
   struct lockdep_map dep_map ;
};
#line 33 "include/linux/spinlock_types.h"
union __anonunion____missing_field_name_34 {
   struct raw_spinlock rlock ;
   struct __anonstruct____missing_field_name_35 __annonCompField17 ;
};
#line 33 "include/linux/spinlock_types.h"
struct spinlock {
   union __anonunion____missing_field_name_34 __annonCompField18 ;
};
#line 76 "include/linux/spinlock_types.h"
typedef struct spinlock spinlock_t;
#line 23 "include/linux/rwlock_types.h"
struct __anonstruct_rwlock_t_36 {
   arch_rwlock_t raw_lock ;
   unsigned int magic ;
   unsigned int owner_cpu ;
   void *owner ;
   struct lockdep_map dep_map ;
};
#line 23 "include/linux/rwlock_types.h"
typedef struct __anonstruct_rwlock_t_36 rwlock_t;
#line 426 "include/linux/spinlock.h"
struct seqcount {
   unsigned int sequence ;
   struct lockdep_map dep_map ;
};
#line 52 "include/linux/seqlock.h"
typedef struct seqcount seqcount_t;
#line 404 "include/linux/seqlock.h"
struct __anonstruct_seqlock_t_45 {
   struct seqcount seqcount ;
   spinlock_t lock ;
};
#line 404 "include/linux/seqlock.h"
typedef struct __anonstruct_seqlock_t_45 seqlock_t;
#line 598 "include/linux/seqlock.h"
struct timespec {
   __kernel_time_t tv_sec ;
   long tv_nsec ;
};
#line 83 "include/linux/highuid.h"
struct user_namespace;
#line 22 "include/linux/uidgid.h"
struct __anonstruct_kuid_t_46 {
   uid_t val ;
};
#line 22 "include/linux/uidgid.h"
typedef struct __anonstruct_kuid_t_46 kuid_t;
#line 27 "include/linux/uidgid.h"
struct __anonstruct_kgid_t_47 {
   gid_t val ;
};
#line 27 "include/linux/uidgid.h"
typedef struct __anonstruct_kgid_t_47 kgid_t;
#line 139 "include/linux/uidgid.h"
struct kstat {
   u64 ino ;
   dev_t dev ;
   umode_t mode ;
   unsigned int nlink ;
   kuid_t uid ;
   kgid_t gid ;
   dev_t rdev ;
   loff_t size ;
   struct timespec atime ;
   struct timespec mtime ;
   struct timespec ctime ;
   unsigned long blksize ;
   unsigned long long blocks ;
};
#line 36 "include/linux/stat.h"
struct vm_area_struct;
#line 12 "include/linux/wait.h"
struct __wait_queue;
#line 12 "include/linux/wait.h"
typedef struct __wait_queue wait_queue_t;
#line 15 "include/linux/wait.h"
struct __wait_queue {
   unsigned int flags ;
   void *private ;
   int (*func)(wait_queue_t * , unsigned int  , int  , void * ) ;
   struct list_head task_list ;
};
#line 38 "include/linux/wait.h"
struct __wait_queue_head {
   spinlock_t lock ;
   struct list_head task_list ;
};
#line 43 "include/linux/wait.h"
typedef struct __wait_queue_head wait_queue_head_t;
#line 95 "include/linux/nodemask.h"
struct __anonstruct_nodemask_t_48 {
   unsigned long bits[16U] ;
};
#line 95 "include/linux/nodemask.h"
typedef struct __anonstruct_nodemask_t_48 nodemask_t;
#line 13 "include/linux/osq_lock.h"
struct optimistic_spin_queue {
   atomic_t tail ;
};
#line 39 "include/linux/osq_lock.h"
struct mutex {
   atomic_t count ;
   spinlock_t wait_lock ;
   struct list_head wait_list ;
   struct task_struct *owner ;
   void *magic ;
   struct lockdep_map dep_map ;
};
#line 67 "include/linux/mutex.h"
struct mutex_waiter {
   struct list_head list ;
   struct task_struct *task ;
   void *magic ;
};
#line 177
struct rw_semaphore;
#line 178 "include/linux/mutex.h"
struct rw_semaphore {
   long count ;
   struct list_head wait_list ;
   raw_spinlock_t wait_lock ;
   struct optimistic_spin_queue osq ;
   struct task_struct *owner ;
   struct lockdep_map dep_map ;
};
#line 172 "include/linux/rwsem.h"
struct completion {
   unsigned int done ;
   wait_queue_head_t wait ;
};
#line 437 "include/linux/jiffies.h"
union ktime {
   s64 tv64 ;
};
#line 41 "include/linux/ktime.h"
typedef union ktime ktime_t;
#line 1121 "include/linux/rcupdate.h"
struct timer_list {
   struct hlist_node entry ;
   unsigned long expires ;
   void (*function)(unsigned long  ) ;
   unsigned long data ;
   u32 flags ;
   int slack ;
   int start_pid ;
   void *start_site ;
   char start_comm[16U] ;
   struct lockdep_map lockdep_map ;
};
#line 238 "include/linux/timer.h"
struct hrtimer;
#line 239
enum hrtimer_restart;
#line 240 "include/linux/timer.h"
struct rb_node {
   unsigned long __rb_parent_color ;
   struct rb_node *rb_right ;
   struct rb_node *rb_left ;
};
#line 41 "include/linux/rbtree.h"
struct rb_root {
   struct rb_node *rb_node ;
};
#line 838 "include/uapi/linux/sysctl.h"
struct nsproxy;
#line 259 "include/linux/timer.h"
struct workqueue_struct;
#line 260
struct work_struct;
#line 54 "include/linux/workqueue.h"
struct work_struct {
   atomic_long_t data ;
   struct list_head entry ;
   void (*func)(struct work_struct * ) ;
   struct lockdep_map lockdep_map ;
};
#line 107 "include/linux/workqueue.h"
struct delayed_work {
   struct work_struct work ;
   struct timer_list timer ;
   struct workqueue_struct *wq ;
   int cpu ;
};
#line 141 "include/linux/workqueue.h"
struct execute_work {
   struct work_struct work ;
};
#line 64 "./arch/x86/include/asm/e820.h"
struct resource {
   resource_size_t start ;
   resource_size_t end ;
   char const   *name ;
   unsigned long flags ;
   struct resource *parent ;
   struct resource *sibling ;
   struct resource *child ;
};
#line 172 "./arch/x86/include/asm/x86_init.h"
struct pci_dev;
#line 58 "include/linux/pm.h"
struct pm_message {
   int event ;
};
#line 64 "include/linux/pm.h"
typedef struct pm_message pm_message_t;
#line 65 "include/linux/pm.h"
struct dev_pm_ops {
   int (*prepare)(struct device * ) ;
   void (*complete)(struct device * ) ;
   int (*suspend)(struct device * ) ;
   int (*resume)(struct device * ) ;
   int (*freeze)(struct device * ) ;
   int (*thaw)(struct device * ) ;
   int (*poweroff)(struct device * ) ;
   int (*restore)(struct device * ) ;
   int (*suspend_late)(struct device * ) ;
   int (*resume_early)(struct device * ) ;
   int (*freeze_late)(struct device * ) ;
   int (*thaw_early)(struct device * ) ;
   int (*poweroff_late)(struct device * ) ;
   int (*restore_early)(struct device * ) ;
   int (*suspend_noirq)(struct device * ) ;
   int (*resume_noirq)(struct device * ) ;
   int (*freeze_noirq)(struct device * ) ;
   int (*thaw_noirq)(struct device * ) ;
   int (*poweroff_noirq)(struct device * ) ;
   int (*restore_noirq)(struct device * ) ;
   int (*runtime_suspend)(struct device * ) ;
   int (*runtime_resume)(struct device * ) ;
   int (*runtime_idle)(struct device * ) ;
};
#line 320
enum rpm_status {
    RPM_ACTIVE = 0,
    RPM_RESUMING = 1,
    RPM_SUSPENDED = 2,
    RPM_SUSPENDING = 3
} ;
#line 327
enum rpm_request {
    RPM_REQ_NONE = 0,
    RPM_REQ_IDLE = 1,
    RPM_REQ_SUSPEND = 2,
    RPM_REQ_AUTOSUSPEND = 3,
    RPM_REQ_RESUME = 4
} ;
#line 335
struct wakeup_source;
#line 336
struct wake_irq;
#line 338 "include/linux/pm.h"
struct pm_subsys_data {
   spinlock_t lock ;
   unsigned int refcount ;
   struct list_head clock_list ;
};
#line 553
struct dev_pm_qos;
#line 553 "include/linux/pm.h"
struct dev_pm_info {
   pm_message_t power_state ;
   unsigned char can_wakeup : 1 ;
   unsigned char async_suspend : 1 ;
   bool is_prepared ;
   bool is_suspended ;
   bool is_noirq_suspended ;
   bool is_late_suspended ;
   bool ignore_children ;
   bool early_init ;
   bool direct_complete ;
   spinlock_t lock ;
   struct list_head entry ;
   struct completion completion ;
   struct wakeup_source *wakeup ;
   bool wakeup_path ;
   bool syscore ;
   struct timer_list suspend_timer ;
   unsigned long timer_expires ;
   struct work_struct work ;
   wait_queue_head_t wait_queue ;
   struct wake_irq *wakeirq ;
   atomic_t usage_count ;
   atomic_t child_count ;
   unsigned char disable_depth : 3 ;
   unsigned char idle_notification : 1 ;
   unsigned char request_pending : 1 ;
   unsigned char deferred_resume : 1 ;
   unsigned char run_wake : 1 ;
   unsigned char runtime_auto : 1 ;
   unsigned char no_callbacks : 1 ;
   unsigned char irq_safe : 1 ;
   unsigned char use_autosuspend : 1 ;
   unsigned char timer_autosuspends : 1 ;
   unsigned char memalloc_noio : 1 ;
   enum rpm_request request ;
   enum rpm_status runtime_status ;
   int runtime_error ;
   int autosuspend_delay ;
   unsigned long last_busy ;
   unsigned long active_jiffies ;
   unsigned long suspended_jiffies ;
   unsigned long accounting_timestamp ;
   struct pm_subsys_data *subsys_data ;
   void (*set_latency_tolerance)(struct device * , s32  ) ;
   struct dev_pm_qos *qos ;
};
#line 615 "include/linux/pm.h"
struct dev_pm_domain {
   struct dev_pm_ops ops ;
   void (*detach)(struct device * , bool  ) ;
   int (*activate)(struct device * ) ;
   void (*sync)(struct device * ) ;
   void (*dismiss)(struct device * ) ;
};
#line 133 "./arch/x86/include/asm/topology.h"
struct pci_bus;
#line 24 "./arch/x86/include/asm/mmu.h"
struct __anonstruct_mm_context_t_115 {
   void *ldt ;
   int size ;
   unsigned short ia32_compat ;
   struct mutex lock ;
   void *vdso ;
   atomic_t perf_rdpmc_allowed ;
};
#line 24 "./arch/x86/include/asm/mmu.h"
typedef struct __anonstruct_mm_context_t_115 mm_context_t;
#line 22 "include/xen/features.h"
struct bio_vec;
#line 1281 "include/linux/mmzone.h"
struct llist_node;
#line 64 "include/linux/llist.h"
struct llist_node {
   struct llist_node *next ;
};
#line 17 "include/linux/smp.h"
struct call_single_data {
   struct llist_node llist ;
   void (*func)(void * ) ;
   void *info ;
   unsigned int flags ;
};
#line 37 "include/linux/kmod.h"
struct cred;
#line 19 "./arch/x86/include/asm/elf.h"
struct inode;
#line 58 "./arch/x86/include/asm/uprobes.h"
struct arch_uprobe_task {
   unsigned long saved_scratch_register ;
   unsigned int saved_trap_nr ;
   unsigned int saved_tf ;
};
#line 66
enum uprobe_task_state {
    UTASK_RUNNING = 0,
    UTASK_SSTEP = 1,
    UTASK_SSTEP_ACK = 2,
    UTASK_SSTEP_TRAPPED = 3
} ;
#line 73 "./arch/x86/include/asm/uprobes.h"
struct __anonstruct____missing_field_name_148 {
   struct arch_uprobe_task autask ;
   unsigned long vaddr ;
};
#line 73 "./arch/x86/include/asm/uprobes.h"
struct __anonstruct____missing_field_name_149 {
   struct callback_head dup_xol_work ;
   unsigned long dup_xol_addr ;
};
#line 73 "./arch/x86/include/asm/uprobes.h"
union __anonunion____missing_field_name_147 {
   struct __anonstruct____missing_field_name_148 __annonCompField33 ;
   struct __anonstruct____missing_field_name_149 __annonCompField34 ;
};
#line 73
struct uprobe;
#line 73
struct return_instance;
#line 73 "./arch/x86/include/asm/uprobes.h"
struct uprobe_task {
   enum uprobe_task_state state ;
   union __anonunion____missing_field_name_147 __annonCompField35 ;
   struct uprobe *active_uprobe ;
   unsigned long xol_vaddr ;
   struct return_instance *return_instances ;
   unsigned int depth ;
};
#line 94 "include/linux/uprobes.h"
struct xol_area;
#line 95 "include/linux/uprobes.h"
struct uprobes_state {
   struct xol_area *xol_area ;
};
#line 133
struct address_space;
#line 134
struct mem_cgroup;
#line 31 "include/linux/mm_types.h"
typedef void compound_page_dtor(struct page * );
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_150 {
   struct address_space *mapping ;
   void *s_mem ;
};
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_152 {
   unsigned long index ;
   void *freelist ;
   bool pfmemalloc ;
};
#line 32 "include/linux/mm_types.h"
struct __anonstruct____missing_field_name_156 {
   unsigned short inuse ;
   unsigned short objects : 15 ;
   unsigned char frozen : 1 ;
};
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_155 {
   atomic_t _mapcount ;
   struct __anonstruct____missing_field_name_156 __annonCompField38 ;
   int units ;
};
#line 32 "include/linux/mm_types.h"
struct __anonstruct____missing_field_name_154 {
   union __anonunion____missing_field_name_155 __annonCompField39 ;
   atomic_t _count ;
};
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_153 {
   unsigned long counters ;
   struct __anonstruct____missing_field_name_154 __annonCompField40 ;
   unsigned int active ;
};
#line 32 "include/linux/mm_types.h"
struct __anonstruct____missing_field_name_151 {
   union __anonunion____missing_field_name_152 __annonCompField37 ;
   union __anonunion____missing_field_name_153 __annonCompField41 ;
};
#line 32 "include/linux/mm_types.h"
struct __anonstruct____missing_field_name_158 {
   struct page *next ;
   int pages ;
   int pobjects ;
};
#line 32
struct slab;
#line 32 "include/linux/mm_types.h"
struct __anonstruct____missing_field_name_159 {
   compound_page_dtor *compound_dtor ;
   unsigned long compound_order ;
};
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_157 {
   struct list_head lru ;
   struct __anonstruct____missing_field_name_158 __annonCompField43 ;
   struct slab *slab_page ;
   struct callback_head callback_head ;
   struct __anonstruct____missing_field_name_159 __annonCompField44 ;
   pgtable_t pmd_huge_pte ;
};
#line 32
struct kmem_cache;
#line 32 "include/linux/mm_types.h"
union __anonunion____missing_field_name_160 {
   unsigned long private ;
   spinlock_t *ptl ;
   struct kmem_cache *slab_cache ;
   struct page *first_page ;
};
#line 32 "include/linux/mm_types.h"
struct page {
   unsigned long flags ;
   union __anonunion____missing_field_name_150 __annonCompField36 ;
   struct __anonstruct____missing_field_name_151 __annonCompField42 ;
   union __anonunion____missing_field_name_157 __annonCompField45 ;
   union __anonunion____missing_field_name_160 __annonCompField46 ;
   struct mem_cgroup *mem_cgroup ;
};
#line 181 "include/linux/mm_types.h"
struct page_frag {
   struct page *page ;
   __u32 offset ;
   __u32 size ;
};
#line 266 "include/linux/mm_types.h"
struct __anonstruct_shared_161 {
   struct rb_node rb ;
   unsigned long rb_subtree_last ;
};
#line 266
struct anon_vma;
#line 266
struct vm_operations_struct;
#line 266
struct mempolicy;
#line 266 "include/linux/mm_types.h"
struct vm_area_struct {
   unsigned long vm_start ;
   unsigned long vm_end ;
   struct vm_area_struct *vm_next ;
   struct vm_area_struct *vm_prev ;
   struct rb_node vm_rb ;
   unsigned long rb_subtree_gap ;
   struct mm_struct *vm_mm ;
   pgprot_t vm_page_prot ;
   unsigned long vm_flags ;
   struct __anonstruct_shared_161 shared ;
   struct list_head anon_vma_chain ;
   struct anon_vma *anon_vma ;
   struct vm_operations_struct  const  *vm_ops ;
   unsigned long vm_pgoff ;
   struct file *vm_file ;
   void *vm_private_data ;
   struct mempolicy *vm_policy ;
};
#line 334 "include/linux/mm_types.h"
struct core_thread {
   struct task_struct *task ;
   struct core_thread *next ;
};
#line 340 "include/linux/mm_types.h"
struct core_state {
   atomic_t nr_threads ;
   struct core_thread dumper ;
   struct completion startup ;
};
#line 353 "include/linux/mm_types.h"
struct task_rss_stat {
   int events ;
   int count[3U] ;
};
#line 361 "include/linux/mm_types.h"
struct mm_rss_stat {
   atomic_long_t count[3U] ;
};
#line 366
struct kioctx_table;
#line 367
struct linux_binfmt;
#line 367
struct mmu_notifier_mm;
#line 367 "include/linux/mm_types.h"
struct mm_struct {
   struct vm_area_struct *mmap ;
   struct rb_root mm_rb ;
   u32 vmacache_seqnum ;
   unsigned long (*get_unmapped_area)(struct file * , unsigned long  , unsigned long  ,
                                      unsigned long  , unsigned long  ) ;
   unsigned long mmap_base ;
   unsigned long mmap_legacy_base ;
   unsigned long task_size ;
   unsigned long highest_vm_end ;
   pgd_t *pgd ;
   atomic_t mm_users ;
   atomic_t mm_count ;
   atomic_long_t nr_ptes ;
   atomic_long_t nr_pmds ;
   int map_count ;
   spinlock_t page_table_lock ;
   struct rw_semaphore mmap_sem ;
   struct list_head mmlist ;
   unsigned long hiwater_rss ;
   unsigned long hiwater_vm ;
   unsigned long total_vm ;
   unsigned long locked_vm ;
   unsigned long pinned_vm ;
   unsigned long shared_vm ;
   unsigned long exec_vm ;
   unsigned long stack_vm ;
   unsigned long def_flags ;
   unsigned long start_code ;
   unsigned long end_code ;
   unsigned long start_data ;
   unsigned long end_data ;
   unsigned long start_brk ;
   unsigned long brk ;
   unsigned long start_stack ;
   unsigned long arg_start ;
   unsigned long arg_end ;
   unsigned long env_start ;
   unsigned long env_end ;
   unsigned long saved_auxv[46U] ;
   struct mm_rss_stat rss_stat ;
   struct linux_binfmt *binfmt ;
   cpumask_var_t cpu_vm_mask_var ;
   mm_context_t context ;
   unsigned long flags ;
   struct core_state *core_state ;
   spinlock_t ioctx_lock ;
   struct kioctx_table *ioctx_table ;
   struct task_struct *owner ;
   struct file *exe_file ;
   struct mmu_notifier_mm *mmu_notifier_mm ;
   struct cpumask cpumask_allocation ;
   unsigned long numa_next_scan ;
   unsigned long numa_scan_offset ;
   int numa_scan_seq ;
   bool tlb_flush_pending ;
   struct uprobes_state uprobes_state ;
   void *bd_addr ;
};
#line 15 "include/uapi/linux/elf.h"
typedef __u64 Elf64_Addr;
#line 16 "include/uapi/linux/elf.h"
typedef __u16 Elf64_Half;
#line 20 "include/uapi/linux/elf.h"
typedef __u32 Elf64_Word;
#line 21 "include/uapi/linux/elf.h"
typedef __u64 Elf64_Xword;
#line 190 "include/uapi/linux/elf.h"
struct elf64_sym {
   Elf64_Word st_name ;
   unsigned char st_info ;
   unsigned char st_other ;
   Elf64_Half st_shndx ;
   Elf64_Addr st_value ;
   Elf64_Xword st_size ;
};
#line 198 "include/uapi/linux/elf.h"
typedef struct elf64_sym Elf64_Sym;
#line 53 "include/linux/elf.h"
union __anonunion____missing_field_name_166 {
   unsigned long bitmap[4U] ;
   struct callback_head callback_head ;
};
#line 53 "include/linux/elf.h"
struct idr_layer {
   int prefix ;
   int layer ;
   struct idr_layer *ary[256U] ;
   int count ;
   union __anonunion____missing_field_name_166 __annonCompField47 ;
};
#line 41 "include/linux/idr.h"
struct idr {
   struct idr_layer *hint ;
   struct idr_layer *top ;
   int layers ;
   int cur ;
   spinlock_t lock ;
   int id_free_cnt ;
   struct idr_layer *id_free ;
};
#line 124 "include/linux/idr.h"
struct ida_bitmap {
   long nr_busy ;
   unsigned long bitmap[15U] ;
};
#line 153 "include/linux/idr.h"
struct ida {
   struct idr idr ;
   struct ida_bitmap *free_bitmap ;
};
#line 185
struct dentry;
#line 186
struct iattr;
#line 187
struct super_block;
#line 188
struct file_system_type;
#line 189
struct kernfs_open_node;
#line 190
struct kernfs_iattrs;
#line 213
struct kernfs_root;
#line 213 "include/linux/idr.h"
struct kernfs_elem_dir {
   unsigned long subdirs ;
   struct rb_root children ;
   struct kernfs_root *root ;
};
#line 85 "include/linux/kernfs.h"
struct kernfs_node;
#line 85 "include/linux/kernfs.h"
struct kernfs_elem_symlink {
   struct kernfs_node *target_kn ;
};
#line 89
struct kernfs_ops;
#line 89 "include/linux/kernfs.h"
struct kernfs_elem_attr {
   struct kernfs_ops  const  *ops ;
   struct kernfs_open_node *open ;
   loff_t size ;
   struct kernfs_node *notify_next ;
};
#line 96 "include/linux/kernfs.h"
union __anonunion____missing_field_name_171 {
   struct kernfs_elem_dir dir ;
   struct kernfs_elem_symlink symlink ;
   struct kernfs_elem_attr attr ;
};
#line 96 "include/linux/kernfs.h"
struct kernfs_node {
   atomic_t count ;
   atomic_t active ;
   struct lockdep_map dep_map ;
   struct kernfs_node *parent ;
   char const   *name ;
   struct rb_node rb ;
   void const   *ns ;
   unsigned int hash ;
   union __anonunion____missing_field_name_171 __annonCompField48 ;
   void *priv ;
   unsigned short flags ;
   umode_t mode ;
   unsigned int ino ;
   struct kernfs_iattrs *iattr ;
};
#line 138 "include/linux/kernfs.h"
struct kernfs_syscall_ops {
   int (*remount_fs)(struct kernfs_root * , int * , char * ) ;
   int (*show_options)(struct seq_file * , struct kernfs_root * ) ;
   int (*mkdir)(struct kernfs_node * , char const   * , umode_t  ) ;
   int (*rmdir)(struct kernfs_node * ) ;
   int (*rename)(struct kernfs_node * , struct kernfs_node * , char const   * ) ;
};
#line 155 "include/linux/kernfs.h"
struct kernfs_root {
   struct kernfs_node *kn ;
   unsigned int flags ;
   struct ida ino_ida ;
   struct kernfs_syscall_ops *syscall_ops ;
   struct list_head supers ;
   wait_queue_head_t deactivate_waitq ;
};
#line 171 "include/linux/kernfs.h"
struct kernfs_open_file {
   struct kernfs_node *kn ;
   struct file *file ;
   void *priv ;
   struct mutex mutex ;
   int event ;
   struct list_head list ;
   char *prealloc_buf ;
   size_t atomic_write_len ;
   bool mmapped ;
   struct vm_operations_struct  const  *vm_ops ;
};
#line 188 "include/linux/kernfs.h"
struct kernfs_ops {
   int (*seq_show)(struct seq_file * , void * ) ;
   void *(*seq_start)(struct seq_file * , loff_t * ) ;
   void *(*seq_next)(struct seq_file * , void * , loff_t * ) ;
   void (*seq_stop)(struct seq_file * , void * ) ;
   ssize_t (*read)(struct kernfs_open_file * , char * , size_t  , loff_t  ) ;
   size_t atomic_write_len ;
   bool prealloc ;
   ssize_t (*write)(struct kernfs_open_file * , char * , size_t  , loff_t  ) ;
   int (*mmap)(struct kernfs_open_file * , struct vm_area_struct * ) ;
   struct lock_class_key lockdep_key ;
};
#line 477
struct sock;
#line 478
struct kobject;
#line 479
enum kobj_ns_type {
    KOBJ_NS_TYPE_NONE = 0,
    KOBJ_NS_TYPE_NET = 1,
    KOBJ_NS_TYPES = 2
} ;
#line 485 "include/linux/kernfs.h"
struct kobj_ns_type_operations {
   enum kobj_ns_type type ;
   bool (*current_may_mount)(void) ;
   void *(*grab_current_ns)(void) ;
   void const   *(*netlink_ns)(struct sock * ) ;
   void const   *(*initial_ns)(void) ;
   void (*drop_ns)(void * ) ;
};
#line 59 "include/linux/kobject_ns.h"
struct bin_attribute;
#line 60 "include/linux/kobject_ns.h"
struct attribute {
   char const   *name ;
   umode_t mode ;
   bool ignore_lockdep ;
   struct lock_class_key *key ;
   struct lock_class_key skey ;
};
#line 37 "include/linux/sysfs.h"
struct attribute_group {
   char const   *name ;
   umode_t (*is_visible)(struct kobject * , struct attribute * , int  ) ;
   struct attribute **attrs ;
   struct bin_attribute **bin_attrs ;
};
#line 82 "include/linux/sysfs.h"
struct bin_attribute {
   struct attribute attr ;
   size_t size ;
   void *private ;
   ssize_t (*read)(struct file * , struct kobject * , struct bin_attribute * , char * ,
                   loff_t  , size_t  ) ;
   ssize_t (*write)(struct file * , struct kobject * , struct bin_attribute * , char * ,
                    loff_t  , size_t  ) ;
   int (*mmap)(struct file * , struct kobject * , struct bin_attribute * , struct vm_area_struct * ) ;
};
#line 155 "include/linux/sysfs.h"
struct sysfs_ops {
   ssize_t (*show)(struct kobject * , struct attribute * , char * ) ;
   ssize_t (*store)(struct kobject * , struct attribute * , char const   * , size_t  ) ;
};
#line 509 "include/linux/sysfs.h"
struct kref {
   atomic_t refcount ;
};
#line 52 "include/linux/kobject.h"
struct kset;
#line 52
struct kobj_type;
#line 52 "include/linux/kobject.h"
struct kobject {
   char const   *name ;
   struct list_head entry ;
   struct kobject *parent ;
   struct kset *kset ;
   struct kobj_type *ktype ;
   struct kernfs_node *sd ;
   struct kref kref ;
   struct delayed_work release ;
   unsigned char state_initialized : 1 ;
   unsigned char state_in_sysfs : 1 ;
   unsigned char state_add_uevent_sent : 1 ;
   unsigned char state_remove_uevent_sent : 1 ;
   unsigned char uevent_suppress : 1 ;
};
#line 114 "include/linux/kobject.h"
struct kobj_type {
   void (*release)(struct kobject * ) ;
   struct sysfs_ops  const  *sysfs_ops ;
   struct attribute **default_attrs ;
   struct kobj_ns_type_operations  const  *(*child_ns_type)(struct kobject * ) ;
   void const   *(*namespace)(struct kobject * ) ;
};
#line 122 "include/linux/kobject.h"
struct kobj_uevent_env {
   char *argv[3U] ;
   char *envp[32U] ;
   int envp_idx ;
   char buf[2048U] ;
   int buflen ;
};
#line 130 "include/linux/kobject.h"
struct kset_uevent_ops {
   int (* const  filter)(struct kset * , struct kobject * ) ;
   char const   *(* const  name)(struct kset * , struct kobject * ) ;
   int (* const  uevent)(struct kset * , struct kobject * , struct kobj_uevent_env * ) ;
};
#line 147 "include/linux/kobject.h"
struct kset {
   struct list_head list ;
   spinlock_t list_lock ;
   struct kobject kobj ;
   struct kset_uevent_ops  const  *uevent_ops ;
};
#line 222
struct kernel_param;
#line 227 "include/linux/kobject.h"
struct kernel_param_ops {
   unsigned int flags ;
   int (*set)(char const   * , struct kernel_param  const  * ) ;
   int (*get)(char * , struct kernel_param  const  * ) ;
   void (*free)(void * ) ;
};
#line 62 "include/linux/moduleparam.h"
struct kparam_string;
#line 62
struct kparam_array;
#line 62 "include/linux/moduleparam.h"
union __anonunion____missing_field_name_172 {
   void *arg ;
   struct kparam_string  const  *str ;
   struct kparam_array  const  *arr ;
};
#line 62 "include/linux/moduleparam.h"
struct kernel_param {
   char const   *name ;
   struct module *mod ;
   struct kernel_param_ops  const  *ops ;
   u16 const   perm ;
   s8 level ;
   u8 flags ;
   union __anonunion____missing_field_name_172 __annonCompField49 ;
};
#line 83 "include/linux/moduleparam.h"
struct kparam_string {
   unsigned int maxlen ;
   char *string ;
};
#line 89 "include/linux/moduleparam.h"
struct kparam_array {
   unsigned int max ;
   unsigned int elemsize ;
   unsigned int *num ;
   struct kernel_param_ops  const  *ops ;
   void *elem ;
};
#line 469 "include/linux/moduleparam.h"
struct latch_tree_node {
   struct rb_node node[2U] ;
};
#line 211 "include/linux/rbtree_latch.h"
struct mod_arch_specific {

};
#line 37 "include/linux/module.h"
struct module_param_attrs;
#line 37 "include/linux/module.h"
struct module_kobject {
   struct kobject kobj ;
   struct module *mod ;
   struct kobject *drivers_dir ;
   struct module_param_attrs *mp ;
   struct completion *kobj_completion ;
};
#line 47 "include/linux/module.h"
struct module_attribute {
   struct attribute attr ;
   ssize_t (*show)(struct module_attribute * , struct module_kobject * , char * ) ;
   ssize_t (*store)(struct module_attribute * , struct module_kobject * , char const   * ,
                    size_t  ) ;
   void (*setup)(struct module * , char const   * ) ;
   int (*test)(struct module * ) ;
   void (*free)(struct module * ) ;
};
#line 73
struct exception_table_entry;
#line 206
enum module_state {
    MODULE_STATE_LIVE = 0,
    MODULE_STATE_COMING = 1,
    MODULE_STATE_GOING = 2,
    MODULE_STATE_UNFORMED = 3
} ;
#line 213 "include/linux/module.h"
struct mod_tree_node {
   struct module *mod ;
   struct latch_tree_node node ;
};
#line 220
struct module_sect_attrs;
#line 220
struct module_notes_attrs;
#line 220
struct tracepoint;
#line 220
struct trace_event_call;
#line 220
struct trace_enum_map;
#line 220 "include/linux/module.h"
struct module {
   enum module_state state ;
   struct list_head list ;
   char name[56U] ;
   struct module_kobject mkobj ;
   struct module_attribute *modinfo_attrs ;
   char const   *version ;
   char const   *srcversion ;
   struct kobject *holders_dir ;
   struct kernel_symbol  const  *syms ;
   unsigned long const   *crcs ;
   unsigned int num_syms ;
   struct mutex param_lock ;
   struct kernel_param *kp ;
   unsigned int num_kp ;
   unsigned int num_gpl_syms ;
   struct kernel_symbol  const  *gpl_syms ;
   unsigned long const   *gpl_crcs ;
   struct kernel_symbol  const  *unused_syms ;
   unsigned long const   *unused_crcs ;
   unsigned int num_unused_syms ;
   unsigned int num_unused_gpl_syms ;
   struct kernel_symbol  const  *unused_gpl_syms ;
   unsigned long const   *unused_gpl_crcs ;
   bool sig_ok ;
   bool async_probe_requested ;
   struct kernel_symbol  const  *gpl_future_syms ;
   unsigned long const   *gpl_future_crcs ;
   unsigned int num_gpl_future_syms ;
   unsigned int num_exentries ;
   struct exception_table_entry *extable ;
   int (*init)(void) ;
   void *module_init ;
   void *module_core ;
   unsigned int init_size ;
   unsigned int core_size ;
   unsigned int init_text_size ;
   unsigned int core_text_size ;
   struct mod_tree_node mtn_core ;
   struct mod_tree_node mtn_init ;
   unsigned int init_ro_size ;
   unsigned int core_ro_size ;
   struct mod_arch_specific arch ;
   unsigned int taints ;
   unsigned int num_bugs ;
   struct list_head bug_list ;
   struct bug_entry *bug_table ;
   Elf64_Sym *symtab ;
   Elf64_Sym *core_symtab ;
   unsigned int num_symtab ;
   unsigned int core_num_syms ;
   char *strtab ;
   char *core_strtab ;
   struct module_sect_attrs *sect_attrs ;
   struct module_notes_attrs *notes_attrs ;
   char *args ;
   void *percpu ;
   unsigned int percpu_size ;
   unsigned int num_tracepoints ;
   struct tracepoint * const  *tracepoints_ptrs ;
   unsigned int num_trace_bprintk_fmt ;
   char const   **trace_bprintk_fmt_start ;
   struct trace_event_call **trace_events ;
   unsigned int num_trace_events ;
   struct trace_enum_map **trace_enums ;
   unsigned int num_trace_enums ;
   unsigned int num_ftrace_callsites ;
   unsigned long *ftrace_callsites ;
   bool klp_alive ;
   struct list_head source_list ;
   struct list_head target_list ;
   void (*exit)(void) ;
   atomic_t refcnt ;
   ctor_fn_t (**ctors)(void) ;
   unsigned int num_ctors ;
};
#line 22 "include/linux/capability.h"
struct kernel_cap_struct {
   __u32 cap[2U] ;
};
#line 25 "include/linux/capability.h"
typedef struct kernel_cap_struct kernel_cap_t;
#line 84 "include/linux/plist.h"
struct plist_node {
   int prio ;
   struct list_head prio_list ;
   struct list_head node_list ;
};
#line 4 "include/asm-generic/cputime_jiffies.h"
typedef unsigned long cputime_t;
#line 25 "include/linux/sem.h"
struct sem_undo_list;
#line 25 "include/linux/sem.h"
struct sysv_sem {
   struct sem_undo_list *undo_list ;
};
#line 78 "include/uapi/linux/shm.h"
struct user_struct;
#line 26 "include/linux/shm.h"
struct sysv_shm {
   struct list_head shm_clist ;
};
#line 24 "./arch/x86/include/asm/signal.h"
struct __anonstruct_sigset_t_180 {
   unsigned long sig[1U] ;
};
#line 24 "./arch/x86/include/asm/signal.h"
typedef struct __anonstruct_sigset_t_180 sigset_t;
#line 25
struct siginfo;
#line 17 "./include/uapi/asm-generic/signal-defs.h"
typedef void __signalfn_t(int  );
#line 18 "./include/uapi/asm-generic/signal-defs.h"
typedef __signalfn_t *__sighandler_t;
#line 20 "./include/uapi/asm-generic/signal-defs.h"
typedef void __restorefn_t(void);
#line 21 "./include/uapi/asm-generic/signal-defs.h"
typedef __restorefn_t *__sigrestore_t;
#line 34 "./arch/x86/include/asm/signal.h"
union sigval {
   int sival_int ;
   void *sival_ptr ;
};
#line 10 "include/uapi/asm-generic/siginfo.h"
typedef union sigval sigval_t;
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__kill_182 {
   __kernel_pid_t _pid ;
   __kernel_uid32_t _uid ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__timer_183 {
   __kernel_timer_t _tid ;
   int _overrun ;
   char _pad[0U] ;
   sigval_t _sigval ;
   int _sys_private ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__rt_184 {
   __kernel_pid_t _pid ;
   __kernel_uid32_t _uid ;
   sigval_t _sigval ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__sigchld_185 {
   __kernel_pid_t _pid ;
   __kernel_uid32_t _uid ;
   int _status ;
   __kernel_clock_t _utime ;
   __kernel_clock_t _stime ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__addr_bnd_187 {
   void *_lower ;
   void *_upper ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__sigfault_186 {
   void *_addr ;
   short _addr_lsb ;
   struct __anonstruct__addr_bnd_187 _addr_bnd ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__sigpoll_188 {
   long _band ;
   int _fd ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct __anonstruct__sigsys_189 {
   void *_call_addr ;
   int _syscall ;
   unsigned int _arch ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
union __anonunion__sifields_181 {
   int _pad[28U] ;
   struct __anonstruct__kill_182 _kill ;
   struct __anonstruct__timer_183 _timer ;
   struct __anonstruct__rt_184 _rt ;
   struct __anonstruct__sigchld_185 _sigchld ;
   struct __anonstruct__sigfault_186 _sigfault ;
   struct __anonstruct__sigpoll_188 _sigpoll ;
   struct __anonstruct__sigsys_189 _sigsys ;
};
#line 11 "include/uapi/asm-generic/siginfo.h"
struct siginfo {
   int si_signo ;
   int si_errno ;
   int si_code ;
   union __anonunion__sifields_181 _sifields ;
};
#line 113 "include/uapi/asm-generic/siginfo.h"
typedef struct siginfo siginfo_t;
#line 22 "include/linux/signal.h"
struct sigpending {
   struct list_head list ;
   sigset_t signal ;
};
#line 243 "include/linux/signal.h"
struct sigaction {
   __sighandler_t sa_handler ;
   unsigned long sa_flags ;
   __sigrestore_t sa_restorer ;
   sigset_t sa_mask ;
};
#line 257 "include/linux/signal.h"
struct k_sigaction {
   struct sigaction sa ;
};
#line 443
enum pid_type {
    PIDTYPE_PID = 0,
    PIDTYPE_PGID = 1,
    PIDTYPE_SID = 2,
    PIDTYPE_MAX = 3
} ;
#line 450
struct pid_namespace;
#line 450 "include/linux/signal.h"
struct upid {
   int nr ;
   struct pid_namespace *ns ;
   struct hlist_node pid_chain ;
};
#line 56 "include/linux/pid.h"
struct pid {
   atomic_t count ;
   unsigned int level ;
   struct hlist_head tasks[3U] ;
   struct callback_head rcu ;
   struct upid numbers[1U] ;
};
#line 68 "include/linux/pid.h"
struct pid_link {
   struct hlist_node node ;
   struct pid *pid ;
};
#line 174 "include/linux/pid.h"
struct percpu_counter {
   raw_spinlock_t lock ;
   s64 count ;
   struct list_head list ;
   s32 *counters ;
};
#line 53 "include/uapi/linux/seccomp.h"
struct seccomp_filter;
#line 54 "include/uapi/linux/seccomp.h"
struct seccomp {
   int mode ;
   struct seccomp_filter *filter ;
};
#line 40 "include/linux/rtmutex.h"
struct rt_mutex_waiter;
#line 41 "include/uapi/linux/resource.h"
struct rlimit {
   __kernel_ulong_t rlim_cur ;
   __kernel_ulong_t rlim_max ;
};
#line 11 "include/linux/resource.h"
struct timerqueue_node {
   struct rb_node node ;
   ktime_t expires ;
};
#line 12 "include/linux/timerqueue.h"
struct timerqueue_head {
   struct rb_root head ;
   struct timerqueue_node *next ;
};
#line 50
struct hrtimer_clock_base;
#line 51
struct hrtimer_cpu_base;
#line 60
enum hrtimer_restart {
    HRTIMER_NORESTART = 0,
    HRTIMER_RESTART = 1
} ;
#line 65 "include/linux/timerqueue.h"
struct hrtimer {
   struct timerqueue_node node ;
   ktime_t _softexpires ;
   enum hrtimer_restart (*function)(struct hrtimer * ) ;
   struct hrtimer_clock_base *base ;
   unsigned long state ;
   int start_pid ;
   void *start_site ;
   char start_comm[16U] ;
};
#line 123 "include/linux/hrtimer.h"
struct hrtimer_clock_base {
   struct hrtimer_cpu_base *cpu_base ;
   int index ;
   clockid_t clockid ;
   struct timerqueue_head active ;
   ktime_t (*get_time)(void) ;
   ktime_t offset ;
};
#line 156 "include/linux/hrtimer.h"
struct hrtimer_cpu_base {
   raw_spinlock_t lock ;
   seqcount_t seq ;
   struct hrtimer *running ;
   unsigned int cpu ;
   unsigned int active_bases ;
   unsigned int clock_was_set_seq ;
   bool migration_enabled ;
   bool nohz_active ;
   unsigned char in_hrtirq : 1 ;
   unsigned char hres_active : 1 ;
   unsigned char hang_detected : 1 ;
   ktime_t expires_next ;
   struct hrtimer *next_timer ;
   unsigned int nr_events ;
   unsigned int nr_retries ;
   unsigned int nr_hangs ;
   unsigned int max_hang_time ;
   struct hrtimer_clock_base clock_base[4U] ;
};
#line 466 "include/linux/hrtimer.h"
struct task_io_accounting {
   u64 rchar ;
   u64 wchar ;
   u64 syscr ;
   u64 syscw ;
   u64 read_bytes ;
   u64 write_bytes ;
   u64 cancelled_write_bytes ;
};
#line 45 "include/linux/task_io_accounting.h"
struct latency_record {
   unsigned long backtrace[12U] ;
   unsigned int count ;
   unsigned long time ;
   unsigned long max ;
};
#line 39 "include/linux/latencytop.h"
struct assoc_array_ptr;
#line 39 "include/linux/latencytop.h"
struct assoc_array {
   struct assoc_array_ptr *root ;
   unsigned long nr_leaves_on_tree ;
};
#line 31 "include/linux/key.h"
typedef int32_t key_serial_t;
#line 34 "include/linux/key.h"
typedef uint32_t key_perm_t;
#line 35
struct key;
#line 36
struct signal_struct;
#line 37
struct key_type;
#line 41 "include/linux/key.h"
struct keyring_index_key {
   struct key_type *type ;
   char const   *description ;
   size_t desc_len ;
};
#line 123 "include/linux/key.h"
union __anonunion____missing_field_name_196 {
   struct list_head graveyard_link ;
   struct rb_node serial_node ;
};
#line 123
struct key_user;
#line 123 "include/linux/key.h"
union __anonunion____missing_field_name_197 {
   time_t expiry ;
   time_t revoked_at ;
};
#line 123 "include/linux/key.h"
struct __anonstruct____missing_field_name_199 {
   struct key_type *type ;
   char *description ;
};
#line 123 "include/linux/key.h"
union __anonunion____missing_field_name_198 {
   struct keyring_index_key index_key ;
   struct __anonstruct____missing_field_name_199 __annonCompField52 ;
};
#line 123 "include/linux/key.h"
union __anonunion_type_data_200 {
   struct list_head link ;
   unsigned long x[2U] ;
   void *p[2U] ;
   int reject_error ;
};
#line 123 "include/linux/key.h"
union __anonunion_payload_202 {
   unsigned long value ;
   void *rcudata ;
   void *data ;
   void *data2[2U] ;
};
#line 123 "include/linux/key.h"
union __anonunion____missing_field_name_201 {
   union __anonunion_payload_202 payload ;
   struct assoc_array keys ;
};
#line 123 "include/linux/key.h"
struct key {
   atomic_t usage ;
   key_serial_t serial ;
   union __anonunion____missing_field_name_196 __annonCompField50 ;
   struct rw_semaphore sem ;
   struct key_user *user ;
   void *security ;
   union __anonunion____missing_field_name_197 __annonCompField51 ;
   time_t last_used_at ;
   kuid_t uid ;
   kgid_t gid ;
   key_perm_t perm ;
   unsigned short quotalen ;
   unsigned short datalen ;
   unsigned long flags ;
   union __anonunion____missing_field_name_198 __annonCompField53 ;
   union __anonunion_type_data_200 type_data ;
   union __anonunion____missing_field_name_201 __annonCompField54 ;
};
#line 358
struct audit_context;
#line 27 "include/linux/selinux.h"
struct group_info {
   atomic_t usage ;
   int ngroups ;
   int nblocks ;
   kgid_t small_block[32U] ;
   kgid_t *blocks[0U] ;
};
#line 90 "include/linux/cred.h"
struct cred {
   atomic_t usage ;
   atomic_t subscribers ;
   void *put_addr ;
   unsigned int magic ;
   kuid_t uid ;
   kgid_t gid ;
   kuid_t suid ;
   kgid_t sgid ;
   kuid_t euid ;
   kgid_t egid ;
   kuid_t fsuid ;
   kgid_t fsgid ;
   unsigned int securebits ;
   kernel_cap_t cap_inheritable ;
   kernel_cap_t cap_permitted ;
   kernel_cap_t cap_effective ;
   kernel_cap_t cap_bset ;
   unsigned char jit_keyring ;
   struct key *session_keyring ;
   struct key *process_keyring ;
   struct key *thread_keyring ;
   struct key *request_key_auth ;
   void *security ;
   struct user_struct *user ;
   struct user_namespace *user_ns ;
   struct group_info *group_info ;
   struct callback_head rcu ;
};
#line 369
struct percpu_ref;
#line 55 "include/linux/percpu-refcount.h"
typedef void percpu_ref_func_t(struct percpu_ref * );
#line 68 "include/linux/percpu-refcount.h"
struct percpu_ref {
   atomic_long_t count ;
   unsigned long percpu_count_ptr ;
   percpu_ref_func_t *release ;
   percpu_ref_func_t *confirm_switch ;
   bool force_atomic ;
   struct callback_head rcu ;
};
#line 27 "include/linux/percpu-rwsem.h"
struct cgroup;
#line 28
struct cgroup_root;
#line 29
struct cgroup_subsys;
#line 30
struct cgroup_taskset;
#line 72 "include/linux/percpu-rwsem.h"
struct cgroup_subsys_state {
   struct cgroup *cgroup ;
   struct cgroup_subsys *ss ;
   struct percpu_ref refcnt ;
   struct cgroup_subsys_state *parent ;
   struct list_head sibling ;
   struct list_head children ;
   int id ;
   unsigned int flags ;
   u64 serial_nr ;
   struct callback_head callback_head ;
   struct work_struct destroy_work ;
};
#line 124 "include/linux/cgroup-defs.h"
struct css_set {
   atomic_t refcount ;
   struct hlist_node hlist ;
   struct list_head tasks ;
   struct list_head mg_tasks ;
   struct list_head cgrp_links ;
   struct cgroup *dfl_cgrp ;
   struct cgroup_subsys_state *subsys[12U] ;
   struct list_head mg_preload_node ;
   struct list_head mg_node ;
   struct cgroup *mg_src_cgrp ;
   struct css_set *mg_dst_cset ;
   struct list_head e_cset_node[12U] ;
   struct callback_head callback_head ;
};
#line 197 "include/linux/cgroup-defs.h"
struct cgroup {
   struct cgroup_subsys_state self ;
   unsigned long flags ;
   int id ;
   int populated_cnt ;
   struct kernfs_node *kn ;
   struct kernfs_node *procs_kn ;
   struct kernfs_node *populated_kn ;
   unsigned int subtree_control ;
   unsigned int child_subsys_mask ;
   struct cgroup_subsys_state *subsys[12U] ;
   struct cgroup_root *root ;
   struct list_head cset_links ;
   struct list_head e_csets[12U] ;
   struct list_head pidlists ;
   struct mutex pidlist_mutex ;
   wait_queue_head_t offline_waitq ;
   struct work_struct release_agent_work ;
};
#line 270 "include/linux/cgroup-defs.h"
struct cgroup_root {
   struct kernfs_root *kf_root ;
   unsigned int subsys_mask ;
   int hierarchy_id ;
   struct cgroup cgrp ;
   atomic_t nr_cgrps ;
   struct list_head root_list ;
   unsigned int flags ;
   struct idr cgroup_idr ;
   char release_agent_path[4096U] ;
   char name[64U] ;
};
#line 306 "include/linux/cgroup-defs.h"
struct cftype {
   char name[64U] ;
   int private ;
   umode_t mode ;
   size_t max_write_len ;
   unsigned int flags ;
   struct cgroup_subsys *ss ;
   struct list_head node ;
   struct kernfs_ops *kf_ops ;
   u64 (*read_u64)(struct cgroup_subsys_state * , struct cftype * ) ;
   s64 (*read_s64)(struct cgroup_subsys_state * , struct cftype * ) ;
   int (*seq_show)(struct seq_file * , void * ) ;
   void *(*seq_start)(struct seq_file * , loff_t * ) ;
   void *(*seq_next)(struct seq_file * , void * , loff_t * ) ;
   void (*seq_stop)(struct seq_file * , void * ) ;
   int (*write_u64)(struct cgroup_subsys_state * , struct cftype * , u64  ) ;
   int (*write_s64)(struct cgroup_subsys_state * , struct cftype * , s64  ) ;
   ssize_t (*write)(struct kernfs_open_file * , char * , size_t  , loff_t  ) ;
   struct lock_class_key lockdep_key ;
};
#line 388 "include/linux/cgroup-defs.h"
struct cgroup_subsys {
   struct cgroup_subsys_state *(*css_alloc)(struct cgroup_subsys_state * ) ;
   int (*css_online)(struct cgroup_subsys_state * ) ;
   void (*css_offline)(struct cgroup_subsys_state * ) ;
   void (*css_released)(struct cgroup_subsys_state * ) ;
   void (*css_free)(struct cgroup_subsys_state * ) ;
   void (*css_reset)(struct cgroup_subsys_state * ) ;
   void (*css_e_css_changed)(struct cgroup_subsys_state * ) ;
   int (*can_attach)(struct cgroup_subsys_state * , struct cgroup_taskset * ) ;
   void (*cancel_attach)(struct cgroup_subsys_state * , struct cgroup_taskset * ) ;
   void (*attach)(struct cgroup_subsys_state * , struct cgroup_taskset * ) ;
   void (*fork)(struct task_struct * ) ;
   void (*exit)(struct cgroup_subsys_state * , struct cgroup_subsys_state * , struct task_struct * ) ;
   void (*bind)(struct cgroup_subsys_state * ) ;
   int disabled ;
   int early_init ;
   bool broken_hierarchy ;
   bool warned_broken_hierarchy ;
   int id ;
   char const   *name ;
   struct cgroup_root *root ;
   struct idr css_idr ;
   struct list_head cfts ;
   struct cftype *dfl_cftypes ;
   struct cftype *legacy_cftypes ;
   unsigned int depends_on ;
};
#line 128 "include/linux/sched.h"
struct futex_pi_state;
#line 129
struct robust_list_head;
#line 130
struct bio_list;
#line 131
struct fs_struct;
#line 132
struct perf_event_context;
#line 133
struct blk_plug;
#line 135
struct nameidata;
#line 188
struct cfs_rq;
#line 189
struct task_group;
#line 477 "include/linux/sched.h"
struct sighand_struct {
   atomic_t count ;
   struct k_sigaction action[64U] ;
   spinlock_t siglock ;
   wait_queue_head_t signalfd_wqh ;
};
#line 516 "include/linux/sched.h"
struct pacct_struct {
   int ac_flag ;
   long ac_exitcode ;
   unsigned long ac_mem ;
   cputime_t ac_utime ;
   cputime_t ac_stime ;
   unsigned long ac_minflt ;
   unsigned long ac_majflt ;
};
#line 524 "include/linux/sched.h"
struct cpu_itimer {
   cputime_t expires ;
   cputime_t incr ;
   u32 error ;
   u32 incr_error ;
};
#line 531 "include/linux/sched.h"
struct cputime {
   cputime_t utime ;
   cputime_t stime ;
};
#line 543 "include/linux/sched.h"
struct task_cputime {
   cputime_t utime ;
   cputime_t stime ;
   unsigned long long sum_exec_runtime ;
};
#line 563 "include/linux/sched.h"
struct task_cputime_atomic {
   atomic64_t utime ;
   atomic64_t stime ;
   atomic64_t sum_exec_runtime ;
};
#line 584 "include/linux/sched.h"
struct thread_group_cputimer {
   struct task_cputime_atomic cputime_atomic ;
   int running ;
};
#line 620
struct autogroup;
#line 621
struct tty_struct;
#line 621
struct taskstats;
#line 621
struct tty_audit_buf;
#line 621 "include/linux/sched.h"
struct signal_struct {
   atomic_t sigcnt ;
   atomic_t live ;
   int nr_threads ;
   struct list_head thread_head ;
   wait_queue_head_t wait_chldexit ;
   struct task_struct *curr_target ;
   struct sigpending shared_pending ;
   int group_exit_code ;
   int notify_count ;
   struct task_struct *group_exit_task ;
   int group_stop_count ;
   unsigned int flags ;
   unsigned char is_child_subreaper : 1 ;
   unsigned char has_child_subreaper : 1 ;
   int posix_timer_id ;
   struct list_head posix_timers ;
   struct hrtimer real_timer ;
   struct pid *leader_pid ;
   ktime_t it_real_incr ;
   struct cpu_itimer it[2U] ;
   struct thread_group_cputimer cputimer ;
   struct task_cputime cputime_expires ;
   struct list_head cpu_timers[3U] ;
   struct pid *tty_old_pgrp ;
   int leader ;
   struct tty_struct *tty ;
   struct autogroup *autogroup ;
   seqlock_t stats_lock ;
   cputime_t utime ;
   cputime_t stime ;
   cputime_t cutime ;
   cputime_t cstime ;
   cputime_t gtime ;
   cputime_t cgtime ;
   struct cputime prev_cputime ;
   unsigned long nvcsw ;
   unsigned long nivcsw ;
   unsigned long cnvcsw ;
   unsigned long cnivcsw ;
   unsigned long min_flt ;
   unsigned long maj_flt ;
   unsigned long cmin_flt ;
   unsigned long cmaj_flt ;
   unsigned long inblock ;
   unsigned long oublock ;
   unsigned long cinblock ;
   unsigned long coublock ;
   unsigned long maxrss ;
   unsigned long cmaxrss ;
   struct task_io_accounting ioac ;
   unsigned long long sum_sched_runtime ;
   struct rlimit rlim[16U] ;
   struct pacct_struct pacct ;
   struct taskstats *stats ;
   unsigned int audit_tty ;
   unsigned int audit_tty_log_passwd ;
   struct tty_audit_buf *tty_audit_buf ;
   oom_flags_t oom_flags ;
   short oom_score_adj ;
   short oom_score_adj_min ;
   struct mutex cred_guard_mutex ;
};
#line 790 "include/linux/sched.h"
struct user_struct {
   atomic_t __count ;
   atomic_t processes ;
   atomic_t sigpending ;
   atomic_t inotify_watches ;
   atomic_t inotify_devs ;
   atomic_t fanotify_listeners ;
   atomic_long_t epoll_watches ;
   unsigned long mq_bytes ;
   unsigned long locked_shm ;
   struct key *uid_keyring ;
   struct key *session_keyring ;
   struct hlist_node uidhash_node ;
   kuid_t uid ;
   atomic_long_t locked_vm ;
};
#line 833
struct backing_dev_info;
#line 834
struct reclaim_state;
#line 835 "include/linux/sched.h"
struct sched_info {
   unsigned long pcount ;
   unsigned long long run_delay ;
   unsigned long long last_arrival ;
   unsigned long long last_queued ;
};
#line 849 "include/linux/sched.h"
struct task_delay_info {
   spinlock_t lock ;
   unsigned int flags ;
   u64 blkio_start ;
   u64 blkio_delay ;
   u64 swapin_delay ;
   u32 blkio_count ;
   u32 swapin_count ;
   u64 freepages_start ;
   u64 freepages_delay ;
   u32 freepages_count ;
};
#line 897 "include/linux/sched.h"
struct wake_q_node {
   struct wake_q_node *next ;
};
#line 1126
struct io_context;
#line 1160
struct pipe_inode_info;
#line 1162 "include/linux/sched.h"
struct load_weight {
   unsigned long weight ;
   u32 inv_weight ;
};
#line 1169 "include/linux/sched.h"
struct sched_avg {
   u64 last_runnable_update ;
   s64 decay_count ;
   unsigned long load_avg_contrib ;
   unsigned long utilization_avg_contrib ;
   u32 runnable_avg_sum ;
   u32 avg_period ;
   u32 running_avg_sum ;
};
#line 1194 "include/linux/sched.h"
struct sched_statistics {
   u64 wait_start ;
   u64 wait_max ;
   u64 wait_count ;
   u64 wait_sum ;
   u64 iowait_count ;
   u64 iowait_sum ;
   u64 sleep_start ;
   u64 sleep_max ;
   s64 sum_sleep_runtime ;
   u64 block_start ;
   u64 block_max ;
   u64 exec_max ;
   u64 slice_max ;
   u64 nr_migrations_cold ;
   u64 nr_failed_migrations_affine ;
   u64 nr_failed_migrations_running ;
   u64 nr_failed_migrations_hot ;
   u64 nr_forced_migrations ;
   u64 nr_wakeups ;
   u64 nr_wakeups_sync ;
   u64 nr_wakeups_migrate ;
   u64 nr_wakeups_local ;
   u64 nr_wakeups_remote ;
   u64 nr_wakeups_affine ;
   u64 nr_wakeups_affine_attempts ;
   u64 nr_wakeups_passive ;
   u64 nr_wakeups_idle ;
};
#line 1229 "include/linux/sched.h"
struct sched_entity {
   struct load_weight load ;
   struct rb_node run_node ;
   struct list_head group_node ;
   unsigned int on_rq ;
   u64 exec_start ;
   u64 sum_exec_runtime ;
   u64 vruntime ;
   u64 prev_sum_exec_runtime ;
   u64 nr_migrations ;
   struct sched_statistics statistics ;
   int depth ;
   struct sched_entity *parent ;
   struct cfs_rq *cfs_rq ;
   struct cfs_rq *my_q ;
   struct sched_avg avg ;
};
#line 1261
struct rt_rq;
#line 1261 "include/linux/sched.h"
struct sched_rt_entity {
   struct list_head run_list ;
   unsigned long timeout ;
   unsigned long watchdog_stamp ;
   unsigned int time_slice ;
   struct sched_rt_entity *back ;
   struct sched_rt_entity *parent ;
   struct rt_rq *rt_rq ;
   struct rt_rq *my_q ;
};
#line 1277 "include/linux/sched.h"
struct sched_dl_entity {
   struct rb_node rb_node ;
   u64 dl_runtime ;
   u64 dl_deadline ;
   u64 dl_period ;
   u64 dl_bw ;
   s64 runtime ;
   u64 deadline ;
   unsigned int flags ;
   int dl_throttled ;
   int dl_new ;
   int dl_boosted ;
   int dl_yielded ;
   struct hrtimer dl_timer ;
};
#line 1343 "include/linux/sched.h"
struct memcg_oom_info {
   struct mem_cgroup *memcg ;
   gfp_t gfp_mask ;
   int order ;
   unsigned char may_oom : 1 ;
};
#line 1769
struct sched_class;
#line 1769
struct files_struct;
#line 1769
struct compat_robust_list_head;
#line 1769
struct numa_group;
#line 1769
struct ftrace_ret_stack;
#line 1769 "include/linux/sched.h"
struct task_struct {
   long volatile   state ;
   void *stack ;
   atomic_t usage ;
   unsigned int flags ;
   unsigned int ptrace ;
   struct llist_node wake_entry ;
   int on_cpu ;
   struct task_struct *last_wakee ;
   unsigned long wakee_flips ;
   unsigned long wakee_flip_decay_ts ;
   int wake_cpu ;
   int on_rq ;
   int prio ;
   int static_prio ;
   int normal_prio ;
   unsigned int rt_priority ;
   struct sched_class  const  *sched_class ;
   struct sched_entity se ;
   struct sched_rt_entity rt ;
   struct task_group *sched_task_group ;
   struct sched_dl_entity dl ;
   struct hlist_head preempt_notifiers ;
   unsigned int btrace_seq ;
   unsigned int policy ;
   int nr_cpus_allowed ;
   cpumask_t cpus_allowed ;
   unsigned long rcu_tasks_nvcsw ;
   bool rcu_tasks_holdout ;
   struct list_head rcu_tasks_holdout_list ;
   int rcu_tasks_idle_cpu ;
   struct sched_info sched_info ;
   struct list_head tasks ;
   struct plist_node pushable_tasks ;
   struct rb_node pushable_dl_tasks ;
   struct mm_struct *mm ;
   struct mm_struct *active_mm ;
   u32 vmacache_seqnum ;
   struct vm_area_struct *vmacache[4U] ;
   struct task_rss_stat rss_stat ;
   int exit_state ;
   int exit_code ;
   int exit_signal ;
   int pdeath_signal ;
   unsigned long jobctl ;
   unsigned int personality ;
   unsigned char in_execve : 1 ;
   unsigned char in_iowait : 1 ;
   unsigned char sched_reset_on_fork : 1 ;
   unsigned char sched_contributes_to_load : 1 ;
   unsigned char sched_migrated : 1 ;
   unsigned char memcg_kmem_skip_account : 1 ;
   unsigned char brk_randomized : 1 ;
   unsigned long atomic_flags ;
   struct restart_block restart_block ;
   pid_t pid ;
   pid_t tgid ;
   struct task_struct *real_parent ;
   struct task_struct *parent ;
   struct list_head children ;
   struct list_head sibling ;
   struct task_struct *group_leader ;
   struct list_head ptraced ;
   struct list_head ptrace_entry ;
   struct pid_link pids[3U] ;
   struct list_head thread_group ;
   struct list_head thread_node ;
   struct completion *vfork_done ;
   int *set_child_tid ;
   int *clear_child_tid ;
   cputime_t utime ;
   cputime_t stime ;
   cputime_t utimescaled ;
   cputime_t stimescaled ;
   cputime_t gtime ;
   struct cputime prev_cputime ;
   unsigned long nvcsw ;
   unsigned long nivcsw ;
   u64 start_time ;
   u64 real_start_time ;
   unsigned long min_flt ;
   unsigned long maj_flt ;
   struct task_cputime cputime_expires ;
   struct list_head cpu_timers[3U] ;
   struct cred  const  *real_cred ;
   struct cred  const  *cred ;
   char comm[16U] ;
   struct nameidata *nameidata ;
   struct sysv_sem sysvsem ;
   struct sysv_shm sysvshm ;
   unsigned long last_switch_count ;
   struct thread_struct thread ;
   struct fs_struct *fs ;
   struct files_struct *files ;
   struct nsproxy *nsproxy ;
   struct signal_struct *signal ;
   struct sighand_struct *sighand ;
   sigset_t blocked ;
   sigset_t real_blocked ;
   sigset_t saved_sigmask ;
   struct sigpending pending ;
   unsigned long sas_ss_sp ;
   size_t sas_ss_size ;
   int (*notifier)(void * ) ;
   void *notifier_data ;
   sigset_t *notifier_mask ;
   struct callback_head *task_works ;
   struct audit_context *audit_context ;
   kuid_t loginuid ;
   unsigned int sessionid ;
   struct seccomp seccomp ;
   u32 parent_exec_id ;
   u32 self_exec_id ;
   spinlock_t alloc_lock ;
   raw_spinlock_t pi_lock ;
   struct wake_q_node wake_q ;
   struct rb_root pi_waiters ;
   struct rb_node *pi_waiters_leftmost ;
   struct rt_mutex_waiter *pi_blocked_on ;
   struct mutex_waiter *blocked_on ;
   unsigned int irq_events ;
   unsigned long hardirq_enable_ip ;
   unsigned long hardirq_disable_ip ;
   unsigned int hardirq_enable_event ;
   unsigned int hardirq_disable_event ;
   int hardirqs_enabled ;
   int hardirq_context ;
   unsigned long softirq_disable_ip ;
   unsigned long softirq_enable_ip ;
   unsigned int softirq_disable_event ;
   unsigned int softirq_enable_event ;
   int softirqs_enabled ;
   int softirq_context ;
   u64 curr_chain_key ;
   int lockdep_depth ;
   unsigned int lockdep_recursion ;
   struct held_lock held_locks[48U] ;
   gfp_t lockdep_reclaim_gfp ;
   void *journal_info ;
   struct bio_list *bio_list ;
   struct blk_plug *plug ;
   struct reclaim_state *reclaim_state ;
   struct backing_dev_info *backing_dev_info ;
   struct io_context *io_context ;
   unsigned long ptrace_message ;
   siginfo_t *last_siginfo ;
   struct task_io_accounting ioac ;
   u64 acct_rss_mem1 ;
   u64 acct_vm_mem1 ;
   cputime_t acct_timexpd ;
   nodemask_t mems_allowed ;
   seqcount_t mems_allowed_seq ;
   int cpuset_mem_spread_rotor ;
   int cpuset_slab_spread_rotor ;
   struct css_set *cgroups ;
   struct list_head cg_list ;
   struct robust_list_head *robust_list ;
   struct compat_robust_list_head *compat_robust_list ;
   struct list_head pi_state_list ;
   struct futex_pi_state *pi_state_cache ;
   struct perf_event_context *perf_event_ctxp[2U] ;
   struct mutex perf_event_mutex ;
   struct list_head perf_event_list ;
   struct mempolicy *mempolicy ;
   short il_next ;
   short pref_node_fork ;
   int numa_scan_seq ;
   unsigned int numa_scan_period ;
   unsigned int numa_scan_period_max ;
   int numa_preferred_nid ;
   unsigned long numa_migrate_retry ;
   u64 node_stamp ;
   u64 last_task_numa_placement ;
   u64 last_sum_exec_runtime ;
   struct callback_head numa_work ;
   struct list_head numa_entry ;
   struct numa_group *numa_group ;
   unsigned long *numa_faults ;
   unsigned long total_numa_faults ;
   unsigned long numa_faults_locality[3U] ;
   unsigned long numa_pages_migrated ;
   struct callback_head rcu ;
   struct pipe_inode_info *splice_pipe ;
   struct page_frag task_frag ;
   struct task_delay_info *delays ;
   int make_it_fail ;
   int nr_dirtied ;
   int nr_dirtied_pause ;
   unsigned long dirty_paused_when ;
   int latency_record_count ;
   struct latency_record latency_record[32U] ;
   unsigned long timer_slack_ns ;
   unsigned long default_timer_slack_ns ;
   unsigned int kasan_depth ;
   int curr_ret_stack ;
   struct ftrace_ret_stack *ret_stack ;
   unsigned long long ftrace_timestamp ;
   atomic_t trace_overrun ;
   atomic_t tracing_graph_pause ;
   unsigned long trace ;
   unsigned long trace_recursion ;
   struct memcg_oom_info memcg_oom ;
   struct uprobe_task *utask ;
   unsigned int sequential_io ;
   unsigned int sequential_io_avg ;
   unsigned long task_state_change ;
   int pagefault_disabled ;
};
#line 599 "include/linux/slab.h"
enum irqreturn {
    IRQ_NONE = 0,
    IRQ_HANDLED = 1,
    IRQ_WAKE_THREAD = 2
} ;
#line 16 "include/linux/irqreturn.h"
typedef enum irqreturn irqreturn_t;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct Scsi_Host;
#line 37
struct scsi_cmnd;
#line 42
struct scsi_device;
#line 24 "include/linux/genhd.h"
struct device_type;
#line 26
struct class;
#line 50
struct klist_node;
#line 37 "include/linux/klist.h"
struct klist_node {
   void *n_klist ;
   struct list_head n_node ;
   struct kref n_ref ;
};
#line 67
struct path;
#line 68 "include/linux/klist.h"
struct seq_file {
   char *buf ;
   size_t size ;
   size_t from ;
   size_t count ;
   size_t pad_until ;
   loff_t index ;
   loff_t read_pos ;
   u64 version ;
   struct mutex lock ;
   struct seq_operations  const  *op ;
   int poll_event ;
   struct user_namespace *user_ns ;
   void *private ;
};
#line 35 "include/linux/seq_file.h"
struct seq_operations {
   void *(*start)(struct seq_file * , loff_t * ) ;
   void (*stop)(struct seq_file * , void * ) ;
   void *(*next)(struct seq_file * , void * , loff_t * ) ;
   int (*show)(struct seq_file * , void * ) ;
};
#line 187
struct pinctrl;
#line 188
struct pinctrl_state;
#line 194 "include/linux/pinctrl/consumer.h"
struct dev_pin_info {
   struct pinctrl *p ;
   struct pinctrl_state *default_state ;
   struct pinctrl_state *sleep_state ;
   struct pinctrl_state *idle_state ;
};
#line 48 "include/linux/ratelimit.h"
struct dma_map_ops;
#line 48 "include/linux/ratelimit.h"
struct dev_archdata {
   struct dma_map_ops *dma_ops ;
   void *iommu ;
};
#line 14 "./arch/x86/include/asm/device.h"
struct device_private;
#line 15
struct device_driver;
#line 16
struct driver_private;
#line 17
struct subsys_private;
#line 18
struct bus_type;
#line 19
struct device_node;
#line 20
struct fwnode_handle;
#line 21
struct iommu_ops;
#line 22
struct iommu_group;
#line 61 "include/linux/device.h"
struct device_attribute;
#line 61 "include/linux/device.h"
struct bus_type {
   char const   *name ;
   char const   *dev_name ;
   struct device *dev_root ;
   struct device_attribute *dev_attrs ;
   struct attribute_group  const  **bus_groups ;
   struct attribute_group  const  **dev_groups ;
   struct attribute_group  const  **drv_groups ;
   int (*match)(struct device * , struct device_driver * ) ;
   int (*uevent)(struct device * , struct kobj_uevent_env * ) ;
   int (*probe)(struct device * ) ;
   int (*remove)(struct device * ) ;
   void (*shutdown)(struct device * ) ;
   int (*online)(struct device * ) ;
   int (*offline)(struct device * ) ;
   int (*suspend)(struct device * , pm_message_t  ) ;
   int (*resume)(struct device * ) ;
   struct dev_pm_ops  const  *pm ;
   struct iommu_ops  const  *iommu_ops ;
   struct subsys_private *p ;
   struct lock_class_key lock_key ;
};
#line 197
enum probe_type {
    PROBE_DEFAULT_STRATEGY = 0,
    PROBE_PREFER_ASYNCHRONOUS = 1,
    PROBE_FORCE_SYNCHRONOUS = 2
} ;
#line 203
struct of_device_id;
#line 203
struct acpi_device_id;
#line 203 "include/linux/device.h"
struct device_driver {
   char const   *name ;
   struct bus_type *bus ;
   struct module *owner ;
   char const   *mod_name ;
   bool suppress_bind_attrs ;
   enum probe_type probe_type ;
   struct of_device_id  const  *of_match_table ;
   struct acpi_device_id  const  *acpi_match_table ;
   int (*probe)(struct device * ) ;
   int (*remove)(struct device * ) ;
   void (*shutdown)(struct device * ) ;
   int (*suspend)(struct device * , pm_message_t  ) ;
   int (*resume)(struct device * ) ;
   struct attribute_group  const  **groups ;
   struct dev_pm_ops  const  *pm ;
   struct driver_private *p ;
};
#line 353
struct class_attribute;
#line 353 "include/linux/device.h"
struct class {
   char const   *name ;
   struct module *owner ;
   struct class_attribute *class_attrs ;
   struct attribute_group  const  **dev_groups ;
   struct kobject *dev_kobj ;
   int (*dev_uevent)(struct device * , struct kobj_uevent_env * ) ;
   char *(*devnode)(struct device * , umode_t * ) ;
   void (*class_release)(struct class * ) ;
   void (*dev_release)(struct device * ) ;
   int (*suspend)(struct device * , pm_message_t  ) ;
   int (*resume)(struct device * ) ;
   struct kobj_ns_type_operations  const  *ns_type ;
   void const   *(*namespace)(struct device * ) ;
   struct dev_pm_ops  const  *pm ;
   struct subsys_private *p ;
};
#line 446 "include/linux/device.h"
struct class_attribute {
   struct attribute attr ;
   ssize_t (*show)(struct class * , struct class_attribute * , char * ) ;
   ssize_t (*store)(struct class * , struct class_attribute * , char const   * , size_t  ) ;
};
#line 514 "include/linux/device.h"
struct device_type {
   char const   *name ;
   struct attribute_group  const  **groups ;
   int (*uevent)(struct device * , struct kobj_uevent_env * ) ;
   char *(*devnode)(struct device * , umode_t * , kuid_t * , kgid_t * ) ;
   void (*release)(struct device * ) ;
   struct dev_pm_ops  const  *pm ;
};
#line 542 "include/linux/device.h"
struct device_attribute {
   struct attribute attr ;
   ssize_t (*show)(struct device * , struct device_attribute * , char * ) ;
   ssize_t (*store)(struct device * , struct device_attribute * , char const   * ,
                    size_t  ) ;
};
#line 674 "include/linux/device.h"
struct device_dma_parameters {
   unsigned int max_segment_size ;
   unsigned long segment_boundary_mask ;
};
#line 683
struct dma_coherent_mem;
#line 683
struct cma;
#line 683 "include/linux/device.h"
struct device {
   struct device *parent ;
   struct device_private *p ;
   struct kobject kobj ;
   char const   *init_name ;
   struct device_type  const  *type ;
   struct mutex mutex ;
   struct bus_type *bus ;
   struct device_driver *driver ;
   void *platform_data ;
   void *driver_data ;
   struct dev_pm_info power ;
   struct dev_pm_domain *pm_domain ;
   struct dev_pin_info *pins ;
   int numa_node ;
   u64 *dma_mask ;
   u64 coherent_dma_mask ;
   unsigned long dma_pfn_offset ;
   struct device_dma_parameters *dma_parms ;
   struct list_head dma_pools ;
   struct dma_coherent_mem *dma_mem ;
   struct cma *cma_area ;
   struct dev_archdata archdata ;
   struct device_node *of_node ;
   struct fwnode_handle *fwnode ;
   dev_t devt ;
   u32 id ;
   spinlock_t devres_lock ;
   struct list_head devres_head ;
   struct klist_node knode_class ;
   struct class *class ;
   struct attribute_group  const  **groups ;
   void (*release)(struct device * ) ;
   struct iommu_group *iommu_group ;
   bool offline_disabled ;
   bool offline ;
};
#line 829 "include/linux/device.h"
struct wakeup_source {
   char const   *name ;
   struct list_head entry ;
   spinlock_t lock ;
   struct wake_irq *wakeirq ;
   struct timer_list timer ;
   unsigned long timer_expires ;
   ktime_t total_time ;
   ktime_t max_time ;
   ktime_t last_time ;
   ktime_t start_prevent_time ;
   ktime_t prevent_sleep_time ;
   unsigned long event_count ;
   unsigned long active_count ;
   unsigned long relax_count ;
   unsigned long expire_count ;
   unsigned long wakeup_count ;
   bool active ;
   bool autosleep_enabled ;
};
#line 93 "include/linux/bit_spinlock.h"
struct hlist_bl_node;
#line 93 "include/linux/bit_spinlock.h"
struct hlist_bl_head {
   struct hlist_bl_node *first ;
};
#line 36 "include/linux/list_bl.h"
struct hlist_bl_node {
   struct hlist_bl_node *next ;
   struct hlist_bl_node **pprev ;
};
#line 114 "include/linux/rculist_bl.h"
struct __anonstruct____missing_field_name_220 {
   spinlock_t lock ;
   int count ;
};
#line 114 "include/linux/rculist_bl.h"
union __anonunion____missing_field_name_219 {
   struct __anonstruct____missing_field_name_220 __annonCompField58 ;
};
#line 114 "include/linux/rculist_bl.h"
struct lockref {
   union __anonunion____missing_field_name_219 __annonCompField59 ;
};
#line 50 "include/linux/lockref.h"
struct vfsmount;
#line 51 "include/linux/lockref.h"
struct __anonstruct____missing_field_name_222 {
   u32 hash ;
   u32 len ;
};
#line 51 "include/linux/lockref.h"
union __anonunion____missing_field_name_221 {
   struct __anonstruct____missing_field_name_222 __annonCompField60 ;
   u64 hash_len ;
};
#line 51 "include/linux/lockref.h"
struct qstr {
   union __anonunion____missing_field_name_221 __annonCompField61 ;
   unsigned char const   *name ;
};
#line 90 "include/linux/dcache.h"
struct dentry_operations;
#line 90 "include/linux/dcache.h"
union __anonunion_d_u_223 {
   struct hlist_node d_alias ;
   struct callback_head d_rcu ;
};
#line 90 "include/linux/dcache.h"
struct dentry {
   unsigned int d_flags ;
   seqcount_t d_seq ;
   struct hlist_bl_node d_hash ;
   struct dentry *d_parent ;
   struct qstr d_name ;
   struct inode *d_inode ;
   unsigned char d_iname[32U] ;
   struct lockref d_lockref ;
   struct dentry_operations  const  *d_op ;
   struct super_block *d_sb ;
   unsigned long d_time ;
   void *d_fsdata ;
   struct list_head d_lru ;
   struct list_head d_child ;
   struct list_head d_subdirs ;
   union __anonunion_d_u_223 d_u ;
};
#line 142 "include/linux/dcache.h"
struct dentry_operations {
   int (*d_revalidate)(struct dentry * , unsigned int  ) ;
   int (*d_weak_revalidate)(struct dentry * , unsigned int  ) ;
   int (*d_hash)(struct dentry  const  * , struct qstr * ) ;
   int (*d_compare)(struct dentry  const  * , struct dentry  const  * , unsigned int  ,
                    char const   * , struct qstr  const  * ) ;
   int (*d_delete)(struct dentry  const  * ) ;
   void (*d_release)(struct dentry * ) ;
   void (*d_prune)(struct dentry * ) ;
   void (*d_iput)(struct dentry * , struct inode * ) ;
   char *(*d_dname)(struct dentry * , char * , int  ) ;
   struct vfsmount *(*d_automount)(struct path * ) ;
   int (*d_manage)(struct dentry * , bool  ) ;
   struct inode *(*d_select_inode)(struct dentry * , unsigned int  ) ;
};
#line 585 "include/linux/dcache.h"
struct path {
   struct vfsmount *mnt ;
   struct dentry *dentry ;
};
#line 19 "include/linux/path.h"
struct shrink_control {
   gfp_t gfp_mask ;
   unsigned long nr_to_scan ;
   int nid ;
   struct mem_cgroup *memcg ;
};
#line 27 "include/linux/shrinker.h"
struct shrinker {
   unsigned long (*count_objects)(struct shrinker * , struct shrink_control * ) ;
   unsigned long (*scan_objects)(struct shrinker * , struct shrink_control * ) ;
   int seeks ;
   long batch ;
   unsigned long flags ;
   struct list_head list ;
   atomic_long_t *nr_deferred ;
};
#line 80 "include/linux/shrinker.h"
struct list_lru_one {
   struct list_head list ;
   long nr_items ;
};
#line 32 "include/linux/list_lru.h"
struct list_lru_memcg {
   struct list_lru_one *lru[0U] ;
};
#line 37 "include/linux/list_lru.h"
struct list_lru_node {
   spinlock_t lock ;
   struct list_lru_one lru ;
   struct list_lru_memcg *memcg_lrus ;
};
#line 47 "include/linux/list_lru.h"
struct list_lru {
   struct list_lru_node *node ;
   struct list_head list ;
};
#line 58 "include/linux/radix-tree.h"
struct __anonstruct____missing_field_name_227 {
   struct radix_tree_node *parent ;
   void *private_data ;
};
#line 58 "include/linux/radix-tree.h"
union __anonunion____missing_field_name_226 {
   struct __anonstruct____missing_field_name_227 __annonCompField62 ;
   struct callback_head callback_head ;
};
#line 58 "include/linux/radix-tree.h"
struct radix_tree_node {
   unsigned int path ;
   unsigned int count ;
   union __anonunion____missing_field_name_226 __annonCompField63 ;
   struct list_head private_list ;
   void *slots[64U] ;
   unsigned long tags[3U][1U] ;
};
#line 105 "include/linux/radix-tree.h"
struct radix_tree_root {
   unsigned int height ;
   gfp_t gfp_mask ;
   struct radix_tree_node *rnode ;
};
#line 45 "include/linux/semaphore.h"
struct fiemap_extent {
   __u64 fe_logical ;
   __u64 fe_physical ;
   __u64 fe_length ;
   __u64 fe_reserved64[2U] ;
   __u32 fe_flags ;
   __u32 fe_reserved[3U] ;
};
#line 38 "./include/uapi/linux/fiemap.h"
enum migrate_mode {
    MIGRATE_ASYNC = 0,
    MIGRATE_SYNC_LIGHT = 1,
    MIGRATE_SYNC = 2
} ;
#line 44
struct bio_set;
#line 45
struct bio;
#line 46
struct bio_integrity_payload;
#line 47
struct block_device;
#line 17 "include/linux/blk_types.h"
typedef void bio_end_io_t(struct bio * , int  );
#line 19 "include/linux/blk_types.h"
struct bio_vec {
   struct page *bv_page ;
   unsigned int bv_len ;
   unsigned int bv_offset ;
};
#line 28 "include/linux/blk_types.h"
struct bvec_iter {
   sector_t bi_sector ;
   unsigned int bi_size ;
   unsigned int bi_idx ;
   unsigned int bi_bvec_done ;
};
#line 40 "include/linux/blk_types.h"
union __anonunion____missing_field_name_230 {
   struct bio_integrity_payload *bi_integrity ;
};
#line 40 "include/linux/blk_types.h"
struct bio {
   struct bio *bi_next ;
   struct block_device *bi_bdev ;
   unsigned long bi_flags ;
   unsigned long bi_rw ;
   struct bvec_iter bi_iter ;
   unsigned int bi_phys_segments ;
   unsigned int bi_seg_front_size ;
   unsigned int bi_seg_back_size ;
   atomic_t __bi_remaining ;
   bio_end_io_t *bi_end_io ;
   void *bi_private ;
   struct io_context *bi_ioc ;
   struct cgroup_subsys_state *bi_css ;
   union __anonunion____missing_field_name_230 __annonCompField64 ;
   unsigned short bi_vcnt ;
   unsigned short bi_max_vecs ;
   atomic_t __bi_cnt ;
   struct bio_vec *bi_io_vec ;
   struct bio_set *bi_pool ;
   struct bio_vec bi_inline_vecs[0U] ;
};
#line 60 "include/uapi/linux/fs.h"
struct bdi_writeback;
#line 61
struct export_operations;
#line 62
struct hd_geometry;
#line 64
struct kiocb;
#line 65
struct poll_table_struct;
#line 66
struct kstatfs;
#line 67
struct swap_info_struct;
#line 68
struct iov_iter;
#line 69
struct vm_fault;
#line 74 "include/linux/fs.h"
struct iattr {
   unsigned int ia_valid ;
   umode_t ia_mode ;
   kuid_t ia_uid ;
   kgid_t ia_gid ;
   loff_t ia_size ;
   struct timespec ia_atime ;
   struct timespec ia_mtime ;
   struct timespec ia_ctime ;
   struct file *ia_file ;
};
#line 212 "./include/uapi/linux/dqblk_xfs.h"
struct dquot;
#line 19 "include/linux/projid.h"
typedef __kernel_uid32_t projid_t;
#line 23 "include/linux/projid.h"
struct __anonstruct_kprojid_t_231 {
   projid_t val ;
};
#line 23 "include/linux/projid.h"
typedef struct __anonstruct_kprojid_t_231 kprojid_t;
#line 166 "include/uapi/linux/quota.h"
enum quota_type {
    USRQUOTA = 0,
    GRPQUOTA = 1,
    PRJQUOTA = 2
} ;
#line 66 "include/linux/quota.h"
typedef long long qsize_t;
#line 67 "include/linux/quota.h"
union __anonunion____missing_field_name_232 {
   kuid_t uid ;
   kgid_t gid ;
   kprojid_t projid ;
};
#line 67 "include/linux/quota.h"
struct kqid {
   union __anonunion____missing_field_name_232 __annonCompField65 ;
   enum quota_type type ;
};
#line 184 "include/linux/quota.h"
struct mem_dqblk {
   qsize_t dqb_bhardlimit ;
   qsize_t dqb_bsoftlimit ;
   qsize_t dqb_curspace ;
   qsize_t dqb_rsvspace ;
   qsize_t dqb_ihardlimit ;
   qsize_t dqb_isoftlimit ;
   qsize_t dqb_curinodes ;
   time_t dqb_btime ;
   time_t dqb_itime ;
};
#line 206
struct quota_format_type;
#line 207 "include/linux/quota.h"
struct mem_dqinfo {
   struct quota_format_type *dqi_format ;
   int dqi_fmt_id ;
   struct list_head dqi_dirty_list ;
   unsigned long dqi_flags ;
   unsigned int dqi_bgrace ;
   unsigned int dqi_igrace ;
   qsize_t dqi_max_spc_limit ;
   qsize_t dqi_max_ino_limit ;
   void *dqi_priv ;
};
#line 272 "include/linux/quota.h"
struct dquot {
   struct hlist_node dq_hash ;
   struct list_head dq_inuse ;
   struct list_head dq_free ;
   struct list_head dq_dirty ;
   struct mutex dq_lock ;
   atomic_t dq_count ;
   wait_queue_head_t dq_wait_unused ;
   struct super_block *dq_sb ;
   struct kqid dq_id ;
   loff_t dq_off ;
   unsigned long dq_flags ;
   struct mem_dqblk dq_dqb ;
};
#line 299 "include/linux/quota.h"
struct quota_format_ops {
   int (*check_quota_file)(struct super_block * , int  ) ;
   int (*read_file_info)(struct super_block * , int  ) ;
   int (*write_file_info)(struct super_block * , int  ) ;
   int (*free_file_info)(struct super_block * , int  ) ;
   int (*read_dqblk)(struct dquot * ) ;
   int (*commit_dqblk)(struct dquot * ) ;
   int (*release_dqblk)(struct dquot * ) ;
};
#line 310 "include/linux/quota.h"
struct dquot_operations {
   int (*write_dquot)(struct dquot * ) ;
   struct dquot *(*alloc_dquot)(struct super_block * , int  ) ;
   void (*destroy_dquot)(struct dquot * ) ;
   int (*acquire_dquot)(struct dquot * ) ;
   int (*release_dquot)(struct dquot * ) ;
   int (*mark_dirty)(struct dquot * ) ;
   int (*write_info)(struct super_block * , int  ) ;
   qsize_t *(*get_reserved_space)(struct inode * ) ;
   int (*get_projid)(struct inode * , kprojid_t * ) ;
};
#line 325 "include/linux/quota.h"
struct qc_dqblk {
   int d_fieldmask ;
   u64 d_spc_hardlimit ;
   u64 d_spc_softlimit ;
   u64 d_ino_hardlimit ;
   u64 d_ino_softlimit ;
   u64 d_space ;
   u64 d_ino_count ;
   s64 d_ino_timer ;
   s64 d_spc_timer ;
   int d_ino_warns ;
   int d_spc_warns ;
   u64 d_rt_spc_hardlimit ;
   u64 d_rt_spc_softlimit ;
   u64 d_rt_space ;
   s64 d_rt_spc_timer ;
   int d_rt_spc_warns ;
};
#line 348 "include/linux/quota.h"
struct qc_type_state {
   unsigned int flags ;
   unsigned int spc_timelimit ;
   unsigned int ino_timelimit ;
   unsigned int rt_spc_timelimit ;
   unsigned int spc_warnlimit ;
   unsigned int ino_warnlimit ;
   unsigned int rt_spc_warnlimit ;
   unsigned long long ino ;
   blkcnt_t blocks ;
   blkcnt_t nextents ;
};
#line 394 "include/linux/quota.h"
struct qc_state {
   unsigned int s_incoredqs ;
   struct qc_type_state s_state[3U] ;
};
#line 405 "include/linux/quota.h"
struct qc_info {
   int i_fieldmask ;
   unsigned int i_flags ;
   unsigned int i_spc_timelimit ;
   unsigned int i_ino_timelimit ;
   unsigned int i_rt_spc_timelimit ;
   unsigned int i_spc_warnlimit ;
   unsigned int i_ino_warnlimit ;
   unsigned int i_rt_spc_warnlimit ;
};
#line 418 "include/linux/quota.h"
struct quotactl_ops {
   int (*quota_on)(struct super_block * , int  , int  , struct path * ) ;
   int (*quota_off)(struct super_block * , int  ) ;
   int (*quota_enable)(struct super_block * , unsigned int  ) ;
   int (*quota_disable)(struct super_block * , unsigned int  ) ;
   int (*quota_sync)(struct super_block * , int  ) ;
   int (*set_info)(struct super_block * , int  , struct qc_info * ) ;
   int (*get_dqblk)(struct super_block * , struct kqid  , struct qc_dqblk * ) ;
   int (*set_dqblk)(struct super_block * , struct kqid  , struct qc_dqblk * ) ;
   int (*get_state)(struct super_block * , struct qc_state * ) ;
   int (*rm_xquota)(struct super_block * , unsigned int  ) ;
};
#line 432 "include/linux/quota.h"
struct quota_format_type {
   int qf_fmt_id ;
   struct quota_format_ops  const  *qf_ops ;
   struct module *qf_owner ;
   struct quota_format_type *qf_next ;
};
#line 496 "include/linux/quota.h"
struct quota_info {
   unsigned int flags ;
   struct mutex dqio_mutex ;
   struct mutex dqonoff_mutex ;
   struct inode *files[3U] ;
   struct mem_dqinfo info[3U] ;
   struct quota_format_ops  const  *ops[3U] ;
};
#line 526
struct writeback_control;
#line 527 "include/linux/quota.h"
struct kiocb {
   struct file *ki_filp ;
   loff_t ki_pos ;
   void (*ki_complete)(struct kiocb * , long  , long  ) ;
   void *private ;
   int ki_flags ;
};
#line 365 "include/linux/fs.h"
struct address_space_operations {
   int (*writepage)(struct page * , struct writeback_control * ) ;
   int (*readpage)(struct file * , struct page * ) ;
   int (*writepages)(struct address_space * , struct writeback_control * ) ;
   int (*set_page_dirty)(struct page * ) ;
   int (*readpages)(struct file * , struct address_space * , struct list_head * ,
                    unsigned int  ) ;
   int (*write_begin)(struct file * , struct address_space * , loff_t  , unsigned int  ,
                      unsigned int  , struct page ** , void ** ) ;
   int (*write_end)(struct file * , struct address_space * , loff_t  , unsigned int  ,
                    unsigned int  , struct page * , void * ) ;
   sector_t (*bmap)(struct address_space * , sector_t  ) ;
   void (*invalidatepage)(struct page * , unsigned int  , unsigned int  ) ;
   int (*releasepage)(struct page * , gfp_t  ) ;
   void (*freepage)(struct page * ) ;
   ssize_t (*direct_IO)(struct kiocb * , struct iov_iter * , loff_t  ) ;
   int (*migratepage)(struct address_space * , struct page * , struct page * , enum migrate_mode  ) ;
   int (*launder_page)(struct page * ) ;
   int (*is_partially_uptodate)(struct page * , unsigned long  , unsigned long  ) ;
   void (*is_dirty_writeback)(struct page * , bool * , bool * ) ;
   int (*error_remove_page)(struct address_space * , struct page * ) ;
   int (*swap_activate)(struct swap_info_struct * , struct file * , sector_t * ) ;
   void (*swap_deactivate)(struct file * ) ;
};
#line 422 "include/linux/fs.h"
struct address_space {
   struct inode *host ;
   struct radix_tree_root page_tree ;
   spinlock_t tree_lock ;
   atomic_t i_mmap_writable ;
   struct rb_root i_mmap ;
   struct rw_semaphore i_mmap_rwsem ;
   unsigned long nrpages ;
   unsigned long nrshadows ;
   unsigned long writeback_index ;
   struct address_space_operations  const  *a_ops ;
   unsigned long flags ;
   spinlock_t private_lock ;
   struct list_head private_list ;
   void *private_data ;
};
#line 442
struct request_queue;
#line 443
struct hd_struct;
#line 443
struct gendisk;
#line 443 "include/linux/fs.h"
struct block_device {
   dev_t bd_dev ;
   int bd_openers ;
   struct inode *bd_inode ;
   struct super_block *bd_super ;
   struct mutex bd_mutex ;
   struct list_head bd_inodes ;
   void *bd_claiming ;
   void *bd_holder ;
   int bd_holders ;
   bool bd_write_holder ;
   struct list_head bd_holder_disks ;
   struct block_device *bd_contains ;
   unsigned int bd_block_size ;
   struct hd_struct *bd_part ;
   unsigned int bd_part_count ;
   int bd_invalidated ;
   struct gendisk *bd_disk ;
   struct request_queue *bd_queue ;
   struct list_head bd_list ;
   unsigned long bd_private ;
   int bd_fsfreeze_count ;
   struct mutex bd_fsfreeze_mutex ;
};
#line 559
struct posix_acl;
#line 560
struct inode_operations;
#line 560 "include/linux/fs.h"
union __anonunion____missing_field_name_235 {
   unsigned int const   i_nlink ;
   unsigned int __i_nlink ;
};
#line 560 "include/linux/fs.h"
union __anonunion____missing_field_name_236 {
   struct hlist_head i_dentry ;
   struct callback_head i_rcu ;
};
#line 560
struct file_lock_context;
#line 560
struct cdev;
#line 560 "include/linux/fs.h"
union __anonunion____missing_field_name_237 {
   struct pipe_inode_info *i_pipe ;
   struct block_device *i_bdev ;
   struct cdev *i_cdev ;
   char *i_link ;
};
#line 560 "include/linux/fs.h"
struct inode {
   umode_t i_mode ;
   unsigned short i_opflags ;
   kuid_t i_uid ;
   kgid_t i_gid ;
   unsigned int i_flags ;
   struct posix_acl *i_acl ;
   struct posix_acl *i_default_acl ;
   struct inode_operations  const  *i_op ;
   struct super_block *i_sb ;
   struct address_space *i_mapping ;
   void *i_security ;
   unsigned long i_ino ;
   union __anonunion____missing_field_name_235 __annonCompField66 ;
   dev_t i_rdev ;
   loff_t i_size ;
   struct timespec i_atime ;
   struct timespec i_mtime ;
   struct timespec i_ctime ;
   spinlock_t i_lock ;
   unsigned short i_bytes ;
   unsigned int i_blkbits ;
   blkcnt_t i_blocks ;
   unsigned long i_state ;
   struct mutex i_mutex ;
   unsigned long dirtied_when ;
   unsigned long dirtied_time_when ;
   struct hlist_node i_hash ;
   struct list_head i_wb_list ;
   struct bdi_writeback *i_wb ;
   int i_wb_frn_winner ;
   u16 i_wb_frn_avg_time ;
   u16 i_wb_frn_history ;
   struct list_head i_lru ;
   struct list_head i_sb_list ;
   union __anonunion____missing_field_name_236 __annonCompField67 ;
   u64 i_version ;
   atomic_t i_count ;
   atomic_t i_dio_count ;
   atomic_t i_writecount ;
   atomic_t i_readcount ;
   struct file_operations  const  *i_fop ;
   struct file_lock_context *i_flctx ;
   struct address_space i_data ;
   struct list_head i_devices ;
   union __anonunion____missing_field_name_237 __annonCompField68 ;
   __u32 i_generation ;
   __u32 i_fsnotify_mask ;
   struct hlist_head i_fsnotify_marks ;
   void *i_private ;
};
#line 806 "include/linux/fs.h"
struct fown_struct {
   rwlock_t lock ;
   struct pid *pid ;
   enum pid_type pid_type ;
   kuid_t uid ;
   kuid_t euid ;
   int signum ;
};
#line 814 "include/linux/fs.h"
struct file_ra_state {
   unsigned long start ;
   unsigned int size ;
   unsigned int async_size ;
   unsigned int ra_pages ;
   unsigned int mmap_miss ;
   loff_t prev_pos ;
};
#line 837 "include/linux/fs.h"
union __anonunion_f_u_238 {
   struct llist_node fu_llist ;
   struct callback_head fu_rcuhead ;
};
#line 837 "include/linux/fs.h"
struct file {
   union __anonunion_f_u_238 f_u ;
   struct path f_path ;
   struct inode *f_inode ;
   struct file_operations  const  *f_op ;
   spinlock_t f_lock ;
   atomic_long_t f_count ;
   unsigned int f_flags ;
   fmode_t f_mode ;
   struct mutex f_pos_lock ;
   loff_t f_pos ;
   struct fown_struct f_owner ;
   struct cred  const  *f_cred ;
   struct file_ra_state f_ra ;
   u64 f_version ;
   void *f_security ;
   void *private_data ;
   struct list_head f_ep_links ;
   struct list_head f_tfile_llink ;
   struct address_space *f_mapping ;
};
#line 922 "include/linux/fs.h"
typedef void *fl_owner_t;
#line 923
struct file_lock;
#line 924 "include/linux/fs.h"
struct file_lock_operations {
   void (*fl_copy_lock)(struct file_lock * , struct file_lock * ) ;
   void (*fl_release_private)(struct file_lock * ) ;
};
#line 930 "include/linux/fs.h"
struct lock_manager_operations {
   int (*lm_compare_owner)(struct file_lock * , struct file_lock * ) ;
   unsigned long (*lm_owner_key)(struct file_lock * ) ;
   fl_owner_t (*lm_get_owner)(fl_owner_t  ) ;
   void (*lm_put_owner)(fl_owner_t  ) ;
   void (*lm_notify)(struct file_lock * ) ;
   int (*lm_grant)(struct file_lock * , int  ) ;
   bool (*lm_break)(struct file_lock * ) ;
   int (*lm_change)(struct file_lock * , int  , struct list_head * ) ;
   void (*lm_setup)(struct file_lock * , void ** ) ;
};
#line 951
struct nlm_lockowner;
#line 952 "include/linux/fs.h"
struct nfs_lock_info {
   u32 state ;
   struct nlm_lockowner *owner ;
   struct list_head list ;
};
#line 14 "include/linux/nfs_fs_i.h"
struct nfs4_lock_state;
#line 15 "include/linux/nfs_fs_i.h"
struct nfs4_lock_info {
   struct nfs4_lock_state *owner ;
};
#line 19
struct fasync_struct;
#line 19 "include/linux/nfs_fs_i.h"
struct __anonstruct_afs_240 {
   struct list_head link ;
   int state ;
};
#line 19 "include/linux/nfs_fs_i.h"
union __anonunion_fl_u_239 {
   struct nfs_lock_info nfs_fl ;
   struct nfs4_lock_info nfs4_fl ;
   struct __anonstruct_afs_240 afs ;
};
#line 19 "include/linux/nfs_fs_i.h"
struct file_lock {
   struct file_lock *fl_next ;
   struct list_head fl_list ;
   struct hlist_node fl_link ;
   struct list_head fl_block ;
   fl_owner_t fl_owner ;
   unsigned int fl_flags ;
   unsigned char fl_type ;
   unsigned int fl_pid ;
   int fl_link_cpu ;
   struct pid *fl_nspid ;
   wait_queue_head_t fl_wait ;
   struct file *fl_file ;
   loff_t fl_start ;
   loff_t fl_end ;
   struct fasync_struct *fl_fasync ;
   unsigned long fl_break_time ;
   unsigned long fl_downgrade_time ;
   struct file_lock_operations  const  *fl_ops ;
   struct lock_manager_operations  const  *fl_lmops ;
   union __anonunion_fl_u_239 fl_u ;
};
#line 1004 "include/linux/fs.h"
struct file_lock_context {
   spinlock_t flc_lock ;
   struct list_head flc_flock ;
   struct list_head flc_posix ;
   struct list_head flc_lease ;
};
#line 1062 "include/linux/fs.h"
struct fasync_struct {
   spinlock_t fa_lock ;
   int magic ;
   int fa_fd ;
   struct fasync_struct *fa_next ;
   struct file *fa_file ;
   struct callback_head fa_rcu ;
};
#line 1240 "include/linux/fs.h"
struct sb_writers {
   struct percpu_counter counter[3U] ;
   wait_queue_head_t wait ;
   int frozen ;
   wait_queue_head_t wait_unfrozen ;
   struct lockdep_map lock_map[3U] ;
};
#line 1271
struct super_operations;
#line 1271
struct xattr_handler;
#line 1271
struct mtd_info;
#line 1271 "include/linux/fs.h"
struct super_block {
   struct list_head s_list ;
   dev_t s_dev ;
   unsigned char s_blocksize_bits ;
   unsigned long s_blocksize ;
   loff_t s_maxbytes ;
   struct file_system_type *s_type ;
   struct super_operations  const  *s_op ;
   struct dquot_operations  const  *dq_op ;
   struct quotactl_ops  const  *s_qcop ;
   struct export_operations  const  *s_export_op ;
   unsigned long s_flags ;
   unsigned long s_iflags ;
   unsigned long s_magic ;
   struct dentry *s_root ;
   struct rw_semaphore s_umount ;
   int s_count ;
   atomic_t s_active ;
   void *s_security ;
   struct xattr_handler  const  **s_xattr ;
   struct list_head s_inodes ;
   struct hlist_bl_head s_anon ;
   struct list_head s_mounts ;
   struct block_device *s_bdev ;
   struct backing_dev_info *s_bdi ;
   struct mtd_info *s_mtd ;
   struct hlist_node s_instances ;
   unsigned int s_quota_types ;
   struct quota_info s_dquot ;
   struct sb_writers s_writers ;
   char s_id[32U] ;
   u8 s_uuid[16U] ;
   void *s_fs_info ;
   unsigned int s_max_links ;
   fmode_t s_mode ;
   u32 s_time_gran ;
   struct mutex s_vfs_rename_mutex ;
   char *s_subtype ;
   char *s_options ;
   struct dentry_operations  const  *s_d_op ;
   int cleancache_poolid ;
   struct shrinker s_shrink ;
   atomic_long_t s_remove_count ;
   int s_readonly_remount ;
   struct workqueue_struct *s_dio_done_wq ;
   struct hlist_head s_pins ;
   struct list_lru s_dentry_lru ;
   struct list_lru s_inode_lru ;
   struct callback_head rcu ;
   int s_stack_depth ;
};
#line 1510 "include/linux/fs.h"
struct fiemap_extent_info {
   unsigned int fi_flags ;
   unsigned int fi_extents_mapped ;
   unsigned int fi_extents_max ;
   struct fiemap_extent *fi_extents_start ;
};
#line 1524
struct dir_context;
#line 1549 "include/linux/fs.h"
struct dir_context {
   int (*actor)(struct dir_context * , char const   * , int  , loff_t  , u64  , unsigned int  ) ;
   loff_t pos ;
};
#line 1555
struct block_device_operations;
#line 1556 "include/linux/fs.h"
struct file_operations {
   struct module *owner ;
   loff_t (*llseek)(struct file * , loff_t  , int  ) ;
   ssize_t (*read)(struct file * , char * , size_t  , loff_t * ) ;
   ssize_t (*write)(struct file * , char const   * , size_t  , loff_t * ) ;
   ssize_t (*read_iter)(struct kiocb * , struct iov_iter * ) ;
   ssize_t (*write_iter)(struct kiocb * , struct iov_iter * ) ;
   int (*iterate)(struct file * , struct dir_context * ) ;
   unsigned int (*poll)(struct file * , struct poll_table_struct * ) ;
   long (*unlocked_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   long (*compat_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   int (*mmap)(struct file * , struct vm_area_struct * ) ;
   int (*mremap)(struct file * , struct vm_area_struct * ) ;
   int (*open)(struct inode * , struct file * ) ;
   int (*flush)(struct file * , fl_owner_t  ) ;
   int (*release)(struct inode * , struct file * ) ;
   int (*fsync)(struct file * , loff_t  , loff_t  , int  ) ;
   int (*aio_fsync)(struct kiocb * , int  ) ;
   int (*fasync)(int  , struct file * , int  ) ;
   int (*lock)(struct file * , int  , struct file_lock * ) ;
   ssize_t (*sendpage)(struct file * , struct page * , int  , size_t  , loff_t * ,
                       int  ) ;
   unsigned long (*get_unmapped_area)(struct file * , unsigned long  , unsigned long  ,
                                      unsigned long  , unsigned long  ) ;
   int (*check_flags)(int  ) ;
   int (*flock)(struct file * , int  , struct file_lock * ) ;
   ssize_t (*splice_write)(struct pipe_inode_info * , struct file * , loff_t * , size_t  ,
                           unsigned int  ) ;
   ssize_t (*splice_read)(struct file * , loff_t * , struct pipe_inode_info * , size_t  ,
                          unsigned int  ) ;
   int (*setlease)(struct file * , long  , struct file_lock ** , void ** ) ;
   long (*fallocate)(struct file * , int  , loff_t  , loff_t  ) ;
   void (*show_fdinfo)(struct seq_file * , struct file * ) ;
};
#line 1617 "include/linux/fs.h"
struct inode_operations {
   struct dentry *(*lookup)(struct inode * , struct dentry * , unsigned int  ) ;
   char const   *(*follow_link)(struct dentry * , void ** ) ;
   int (*permission)(struct inode * , int  ) ;
   struct posix_acl *(*get_acl)(struct inode * , int  ) ;
   int (*readlink)(struct dentry * , char * , int  ) ;
   void (*put_link)(struct inode * , void * ) ;
   int (*create)(struct inode * , struct dentry * , umode_t  , bool  ) ;
   int (*link)(struct dentry * , struct inode * , struct dentry * ) ;
   int (*unlink)(struct inode * , struct dentry * ) ;
   int (*symlink)(struct inode * , struct dentry * , char const   * ) ;
   int (*mkdir)(struct inode * , struct dentry * , umode_t  ) ;
   int (*rmdir)(struct inode * , struct dentry * ) ;
   int (*mknod)(struct inode * , struct dentry * , umode_t  , dev_t  ) ;
   int (*rename)(struct inode * , struct dentry * , struct inode * , struct dentry * ) ;
   int (*rename2)(struct inode * , struct dentry * , struct inode * , struct dentry * ,
                  unsigned int  ) ;
   int (*setattr)(struct dentry * , struct iattr * ) ;
   int (*getattr)(struct vfsmount * , struct dentry * , struct kstat * ) ;
   int (*setxattr)(struct dentry * , char const   * , void const   * , size_t  , int  ) ;
   ssize_t (*getxattr)(struct dentry * , char const   * , void * , size_t  ) ;
   ssize_t (*listxattr)(struct dentry * , char * , size_t  ) ;
   int (*removexattr)(struct dentry * , char const   * ) ;
   int (*fiemap)(struct inode * , struct fiemap_extent_info * , u64  , u64  ) ;
   int (*update_time)(struct inode * , struct timespec * , int  ) ;
   int (*atomic_open)(struct inode * , struct dentry * , struct file * , unsigned int  ,
                      umode_t  , int * ) ;
   int (*tmpfile)(struct inode * , struct dentry * , umode_t  ) ;
   int (*set_acl)(struct inode * , struct posix_acl * , int  ) ;
};
#line 1671 "include/linux/fs.h"
struct super_operations {
   struct inode *(*alloc_inode)(struct super_block * ) ;
   void (*destroy_inode)(struct inode * ) ;
   void (*dirty_inode)(struct inode * , int  ) ;
   int (*write_inode)(struct inode * , struct writeback_control * ) ;
   int (*drop_inode)(struct inode * ) ;
   void (*evict_inode)(struct inode * ) ;
   void (*put_super)(struct super_block * ) ;
   int (*sync_fs)(struct super_block * , int  ) ;
   int (*freeze_super)(struct super_block * ) ;
   int (*freeze_fs)(struct super_block * ) ;
   int (*thaw_super)(struct super_block * ) ;
   int (*unfreeze_fs)(struct super_block * ) ;
   int (*statfs)(struct dentry * , struct kstatfs * ) ;
   int (*remount_fs)(struct super_block * , int * , char * ) ;
   void (*umount_begin)(struct super_block * ) ;
   int (*show_options)(struct seq_file * , struct dentry * ) ;
   int (*show_devname)(struct seq_file * , struct dentry * ) ;
   int (*show_path)(struct seq_file * , struct dentry * ) ;
   int (*show_stats)(struct seq_file * , struct dentry * ) ;
   ssize_t (*quota_read)(struct super_block * , int  , char * , size_t  , loff_t  ) ;
   ssize_t (*quota_write)(struct super_block * , int  , char const   * , size_t  ,
                          loff_t  ) ;
   struct dquot **(*get_dquots)(struct inode * ) ;
   int (*bdev_try_to_free_page)(struct super_block * , struct page * , gfp_t  ) ;
   long (*nr_cached_objects)(struct super_block * , struct shrink_control * ) ;
   long (*free_cached_objects)(struct super_block * , struct shrink_control * ) ;
};
#line 1910 "include/linux/fs.h"
struct file_system_type {
   char const   *name ;
   int fs_flags ;
   struct dentry *(*mount)(struct file_system_type * , int  , char const   * , void * ) ;
   void (*kill_sb)(struct super_block * ) ;
   struct module *owner ;
   struct file_system_type *next ;
   struct hlist_head fs_supers ;
   struct lock_class_key s_lock_key ;
   struct lock_class_key s_umount_key ;
   struct lock_class_key s_vfs_rename_key ;
   struct lock_class_key s_writers_key[3U] ;
   struct lock_class_key i_lock_key ;
   struct lock_class_key i_mutex_key ;
   struct lock_class_key i_mutex_dir_key ;
};
#line 80 "include/linux/genhd.h"
struct disk_stats {
   unsigned long sectors[2U] ;
   unsigned long ios[2U] ;
   unsigned long merges[2U] ;
   unsigned long ticks[2U] ;
   unsigned long io_ticks ;
   unsigned long time_in_queue ;
};
#line 89 "include/linux/genhd.h"
struct partition_meta_info {
   char uuid[37U] ;
   u8 volname[64U] ;
};
#line 101 "include/linux/genhd.h"
struct hd_struct {
   sector_t start_sect ;
   sector_t nr_sects ;
   seqcount_t nr_sects_seq ;
   sector_t alignment_offset ;
   unsigned int discard_alignment ;
   struct device __dev ;
   struct kobject *holder_dir ;
   int policy ;
   int partno ;
   struct partition_meta_info *info ;
   int make_it_fail ;
   unsigned long stamp ;
   atomic_t in_flight[2U] ;
   struct disk_stats *dkstats ;
   atomic_t ref ;
   struct callback_head callback_head ;
};
#line 155 "include/linux/genhd.h"
struct disk_part_tbl {
   struct callback_head callback_head ;
   int len ;
   struct hd_struct *last_lookup ;
   struct hd_struct *part[] ;
};
#line 162
struct disk_events;
#line 163
struct timer_rand_state;
#line 163
struct blk_integrity;
#line 163 "include/linux/genhd.h"
struct gendisk {
   int major ;
   int first_minor ;
   int minors ;
   char disk_name[32U] ;
   char *(*devnode)(struct gendisk * , umode_t * ) ;
   unsigned int events ;
   unsigned int async_events ;
   struct disk_part_tbl *part_tbl ;
   struct hd_struct part0 ;
   struct block_device_operations  const  *fops ;
   struct request_queue *queue ;
   void *private_data ;
   int flags ;
   struct device *driverfs_dev ;
   struct kobject *slave_dir ;
   struct timer_rand_state *random ;
   atomic_t sync_io ;
   struct disk_events *ev ;
   struct blk_integrity *integrity ;
   int node_id ;
};
#line 207 "include/linux/mm.h"
struct vm_fault {
   unsigned int flags ;
   unsigned long pgoff ;
   void *virtual_address ;
   struct page *cow_page ;
   struct page *page ;
   unsigned long max_pgoff ;
   pte_t *pte ;
};
#line 239 "include/linux/mm.h"
struct vm_operations_struct {
   void (*open)(struct vm_area_struct * ) ;
   void (*close)(struct vm_area_struct * ) ;
   int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
   void (*map_pages)(struct vm_area_struct * , struct vm_fault * ) ;
   int (*page_mkwrite)(struct vm_area_struct * , struct vm_fault * ) ;
   int (*pfn_mkwrite)(struct vm_area_struct * , struct vm_fault * ) ;
   int (*access)(struct vm_area_struct * , unsigned long  , void * , int  , int  ) ;
   char const   *(*name)(struct vm_area_struct * ) ;
   int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
   struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
   struct page *(*find_special_page)(struct vm_area_struct * , unsigned long  ) ;
};
#line 62 "./arch/x86/include/asm/uaccess.h"
struct exception_table_entry {
   int insn ;
   int fixup ;
};
#line 398 "include/linux/irq.h"
struct proc_dir_entry;
#line 72 "include/linux/flex_proportions.h"
struct fprop_local_percpu {
   struct percpu_counter events ;
   unsigned int period ;
   raw_spinlock_t lock ;
};
#line 32 "include/linux/backing-dev-defs.h"
typedef int congested_fn(void * , int  );
#line 41 "include/linux/backing-dev-defs.h"
struct bdi_writeback_congested {
   unsigned long state ;
   atomic_t refcnt ;
   struct backing_dev_info *bdi ;
   int blkcg_id ;
   struct rb_node rb_node ;
};
#line 60 "include/linux/backing-dev-defs.h"
union __anonunion____missing_field_name_249 {
   struct work_struct release_work ;
   struct callback_head rcu ;
};
#line 60 "include/linux/backing-dev-defs.h"
struct bdi_writeback {
   struct backing_dev_info *bdi ;
   unsigned long state ;
   unsigned long last_old_flush ;
   struct list_head b_dirty ;
   struct list_head b_io ;
   struct list_head b_more_io ;
   struct list_head b_dirty_time ;
   spinlock_t list_lock ;
   struct percpu_counter stat[4U] ;
   struct bdi_writeback_congested *congested ;
   unsigned long bw_time_stamp ;
   unsigned long dirtied_stamp ;
   unsigned long written_stamp ;
   unsigned long write_bandwidth ;
   unsigned long avg_write_bandwidth ;
   unsigned long dirty_ratelimit ;
   unsigned long balanced_dirty_ratelimit ;
   struct fprop_local_percpu completions ;
   int dirty_exceeded ;
   spinlock_t work_lock ;
   struct list_head work_list ;
   struct delayed_work dwork ;
   struct percpu_ref refcnt ;
   struct fprop_local_percpu memcg_completions ;
   struct cgroup_subsys_state *memcg_css ;
   struct cgroup_subsys_state *blkcg_css ;
   struct list_head memcg_node ;
   struct list_head blkcg_node ;
   union __anonunion____missing_field_name_249 __annonCompField76 ;
};
#line 132 "include/linux/backing-dev-defs.h"
struct backing_dev_info {
   struct list_head bdi_list ;
   unsigned long ra_pages ;
   unsigned int capabilities ;
   congested_fn *congested_fn ;
   void *congested_data ;
   char *name ;
   unsigned int min_ratio ;
   unsigned int max_ratio ;
   unsigned int max_prop_frac ;
   atomic_long_t tot_write_bandwidth ;
   struct bdi_writeback wb ;
   struct radix_tree_root cgwb_tree ;
   struct rb_root cgwb_congested_tree ;
   atomic_t usage_cnt ;
   wait_queue_head_t wb_waitq ;
   struct device *dev ;
   struct timer_list laptop_mode_wb_timer ;
   struct dentry *debug_dir ;
   struct dentry *debug_stats ;
};
#line 11 "include/linux/mempool.h"
typedef void *mempool_alloc_t(gfp_t  , void * );
#line 12 "include/linux/mempool.h"
typedef void mempool_free_t(void * , void * );
#line 13 "include/linux/mempool.h"
struct mempool_s {
   spinlock_t lock ;
   int min_nr ;
   int curr_nr ;
   void **elements ;
   void *pool_data ;
   mempool_alloc_t *alloc ;
   mempool_free_t *free ;
   wait_queue_head_t wait ;
};
#line 24 "include/linux/mempool.h"
typedef struct mempool_s mempool_t;
#line 78 "include/linux/mempool.h"
union __anonunion____missing_field_name_250 {
   struct list_head q_node ;
   struct kmem_cache *__rcu_icq_cache ;
};
#line 78 "include/linux/mempool.h"
union __anonunion____missing_field_name_251 {
   struct hlist_node ioc_node ;
   struct callback_head __rcu_head ;
};
#line 78 "include/linux/mempool.h"
struct io_cq {
   struct request_queue *q ;
   struct io_context *ioc ;
   union __anonunion____missing_field_name_250 __annonCompField77 ;
   union __anonunion____missing_field_name_251 __annonCompField78 ;
   unsigned int flags ;
};
#line 92 "include/linux/iocontext.h"
struct io_context {
   atomic_long_t refcount ;
   atomic_t active_ref ;
   atomic_t nr_tasks ;
   spinlock_t lock ;
   unsigned short ioprio ;
   int nr_batch_requests ;
   unsigned long last_waited ;
   struct radix_tree_root icq_tree ;
   struct io_cq *icq_hint ;
   struct hlist_head icq_list ;
   struct work_struct release_work ;
};
#line 326 "include/linux/bio.h"
struct bio_integrity_payload {
   struct bio *bip_bio ;
   struct bvec_iter bip_iter ;
   bio_end_io_t *bip_end_io ;
   unsigned short bip_slab ;
   unsigned short bip_vcnt ;
   unsigned short bip_max_vcnt ;
   unsigned short bip_flags ;
   struct work_struct bip_work ;
   struct bio_vec *bip_vec ;
   struct bio_vec bip_inline_vecs[0U] ;
};
#line 541 "include/linux/bio.h"
struct bio_list {
   struct bio *head ;
   struct bio *tail ;
};
#line 662 "include/linux/bio.h"
struct bio_set {
   struct kmem_cache *bio_slab ;
   unsigned int front_pad ;
   mempool_t *bio_pool ;
   mempool_t *bvec_pool ;
   mempool_t *bio_integrity_pool ;
   mempool_t *bvec_integrity_pool ;
   spinlock_t rescue_lock ;
   struct bio_list rescue_list ;
   struct work_struct rescue_work ;
   struct workqueue_struct *rescue_workqueue ;
};
#line 64 "include/uapi/linux/bsg.h"
struct bsg_class_device {
   struct device *class_dev ;
   struct device *parent ;
   int minor ;
   struct request_queue *queue ;
   struct kref ref ;
   void (*release)(struct device * ) ;
};
#line 21 "include/linux/bsg.h"
struct scatterlist {
   unsigned long sg_magic ;
   unsigned long page_link ;
   unsigned int offset ;
   unsigned int length ;
   dma_addr_t dma_address ;
   unsigned int dma_length ;
};
#line 21 "include/linux/scatterlist.h"
struct sg_table {
   struct scatterlist *sgl ;
   unsigned int nents ;
   unsigned int orig_nents ;
};
#line 381
struct elevator_queue;
#line 382
struct blk_trace;
#line 383
struct request;
#line 385
struct bsg_job;
#line 386
struct blkcg_gq;
#line 387
struct blk_flush_queue;
#line 49 "include/linux/blkdev.h"
typedef void rq_end_io_fn(struct request * , int  );
#line 50 "include/linux/blkdev.h"
struct request_list {
   struct request_queue *q ;
   struct blkcg_gq *blkg ;
   int count[2U] ;
   int starved[2U] ;
   mempool_t *rq_pool ;
   wait_queue_head_t wait[2U] ;
   unsigned int flags ;
};
#line 75 "include/linux/blkdev.h"
union __anonunion____missing_field_name_252 {
   struct call_single_data csd ;
   unsigned long fifo_time ;
};
#line 75
struct blk_mq_ctx;
#line 75 "include/linux/blkdev.h"
union __anonunion____missing_field_name_253 {
   struct hlist_node hash ;
   struct list_head ipi_list ;
};
#line 75 "include/linux/blkdev.h"
union __anonunion____missing_field_name_254 {
   struct rb_node rb_node ;
   void *completion_data ;
};
#line 75 "include/linux/blkdev.h"
struct __anonstruct_elv_256 {
   struct io_cq *icq ;
   void *priv[2U] ;
};
#line 75 "include/linux/blkdev.h"
struct __anonstruct_flush_257 {
   unsigned int seq ;
   struct list_head list ;
   rq_end_io_fn *saved_end_io ;
};
#line 75 "include/linux/blkdev.h"
union __anonunion____missing_field_name_255 {
   struct __anonstruct_elv_256 elv ;
   struct __anonstruct_flush_257 flush ;
};
#line 75 "include/linux/blkdev.h"
struct request {
   struct list_head queuelist ;
   union __anonunion____missing_field_name_252 __annonCompField79 ;
   struct request_queue *q ;
   struct blk_mq_ctx *mq_ctx ;
   u64 cmd_flags ;
   unsigned int cmd_type ;
   unsigned long atomic_flags ;
   int cpu ;
   unsigned int __data_len ;
   sector_t __sector ;
   struct bio *bio ;
   struct bio *biotail ;
   union __anonunion____missing_field_name_253 __annonCompField80 ;
   union __anonunion____missing_field_name_254 __annonCompField81 ;
   union __anonunion____missing_field_name_255 __annonCompField82 ;
   struct gendisk *rq_disk ;
   struct hd_struct *part ;
   unsigned long start_time ;
   struct request_list *rl ;
   unsigned long long start_time_ns ;
   unsigned long long io_start_time_ns ;
   unsigned short nr_phys_segments ;
   unsigned short nr_integrity_segments ;
   unsigned short ioprio ;
   void *special ;
   int tag ;
   int errors ;
   unsigned char __cmd[16U] ;
   unsigned char *cmd ;
   unsigned short cmd_len ;
   unsigned int extra_len ;
   unsigned int sense_len ;
   unsigned int resid_len ;
   void *sense ;
   unsigned long deadline ;
   struct list_head timeout_list ;
   unsigned int timeout ;
   int retries ;
   rq_end_io_fn *end_io ;
   void *end_io_data ;
   struct request *next_rq ;
};
#line 113 "include/linux/hashtable.h"
struct elevator_type;
#line 12 "include/linux/elevator.h"
typedef int elevator_merge_fn(struct request_queue * , struct request ** , struct bio * );
#line 15 "include/linux/elevator.h"
typedef void elevator_merge_req_fn(struct request_queue * , struct request * , struct request * );
#line 17 "include/linux/elevator.h"
typedef void elevator_merged_fn(struct request_queue * , struct request * , int  );
#line 19 "include/linux/elevator.h"
typedef int elevator_allow_merge_fn(struct request_queue * , struct request * , struct bio * );
#line 21 "include/linux/elevator.h"
typedef void elevator_bio_merged_fn(struct request_queue * , struct request * , struct bio * );
#line 24 "include/linux/elevator.h"
typedef int elevator_dispatch_fn(struct request_queue * , int  );
#line 26 "include/linux/elevator.h"
typedef void elevator_add_req_fn(struct request_queue * , struct request * );
#line 27 "include/linux/elevator.h"
typedef struct request *elevator_request_list_fn(struct request_queue * , struct request * );
#line 28 "include/linux/elevator.h"
typedef void elevator_completed_req_fn(struct request_queue * , struct request * );
#line 29 "include/linux/elevator.h"
typedef int elevator_may_queue_fn(struct request_queue * , int  );
#line 31 "include/linux/elevator.h"
typedef void elevator_init_icq_fn(struct io_cq * );
#line 32 "include/linux/elevator.h"
typedef void elevator_exit_icq_fn(struct io_cq * );
#line 33 "include/linux/elevator.h"
typedef int elevator_set_req_fn(struct request_queue * , struct request * , struct bio * ,
                                gfp_t  );
#line 35 "include/linux/elevator.h"
typedef void elevator_put_req_fn(struct request * );
#line 36 "include/linux/elevator.h"
typedef void elevator_activate_req_fn(struct request_queue * , struct request * );
#line 37 "include/linux/elevator.h"
typedef void elevator_deactivate_req_fn(struct request_queue * , struct request * );
#line 39 "include/linux/elevator.h"
typedef int elevator_init_fn(struct request_queue * , struct elevator_type * );
#line 41 "include/linux/elevator.h"
typedef void elevator_exit_fn(struct elevator_queue * );
#line 42 "include/linux/elevator.h"
typedef void elevator_registered_fn(struct request_queue * );
#line 43 "include/linux/elevator.h"
struct elevator_ops {
   elevator_merge_fn *elevator_merge_fn ;
   elevator_merged_fn *elevator_merged_fn ;
   elevator_merge_req_fn *elevator_merge_req_fn ;
   elevator_allow_merge_fn *elevator_allow_merge_fn ;
   elevator_bio_merged_fn *elevator_bio_merged_fn ;
   elevator_dispatch_fn *elevator_dispatch_fn ;
   elevator_add_req_fn *elevator_add_req_fn ;
   elevator_activate_req_fn *elevator_activate_req_fn ;
   elevator_deactivate_req_fn *elevator_deactivate_req_fn ;
   elevator_completed_req_fn *elevator_completed_req_fn ;
   elevator_request_list_fn *elevator_former_req_fn ;
   elevator_request_list_fn *elevator_latter_req_fn ;
   elevator_init_icq_fn *elevator_init_icq_fn ;
   elevator_exit_icq_fn *elevator_exit_icq_fn ;
   elevator_set_req_fn *elevator_set_req_fn ;
   elevator_put_req_fn *elevator_put_req_fn ;
   elevator_may_queue_fn *elevator_may_queue_fn ;
   elevator_init_fn *elevator_init_fn ;
   elevator_exit_fn *elevator_exit_fn ;
   elevator_registered_fn *elevator_registered_fn ;
};
#line 74 "include/linux/elevator.h"
struct elv_fs_entry {
   struct attribute attr ;
   ssize_t (*show)(struct elevator_queue * , char * ) ;
   ssize_t (*store)(struct elevator_queue * , char const   * , size_t  ) ;
};
#line 82 "include/linux/elevator.h"
struct elevator_type {
   struct kmem_cache *icq_cache ;
   struct elevator_ops ops ;
   size_t icq_size ;
   size_t icq_align ;
   struct elv_fs_entry *elevator_attrs ;
   char elevator_name[16U] ;
   struct module *elevator_owner ;
   char icq_cache_name[21U] ;
   struct list_head list ;
};
#line 103 "include/linux/elevator.h"
struct elevator_queue {
   struct elevator_type *type ;
   void *elevator_data ;
   struct kobject kobj ;
   struct mutex sysfs_lock ;
   unsigned char registered : 1 ;
   struct hlist_head hash[64U] ;
};
#line 210 "include/linux/blkdev.h"
typedef void request_fn_proc(struct request_queue * );
#line 211 "include/linux/blkdev.h"
typedef void make_request_fn(struct request_queue * , struct bio * );
#line 212 "include/linux/blkdev.h"
typedef int prep_rq_fn(struct request_queue * , struct request * );
#line 213 "include/linux/blkdev.h"
typedef void unprep_rq_fn(struct request_queue * , struct request * );
#line 214 "include/linux/blkdev.h"
struct bvec_merge_data {
   struct block_device *bi_bdev ;
   sector_t bi_sector ;
   unsigned int bi_size ;
   unsigned long bi_rw ;
};
#line 222 "include/linux/blkdev.h"
typedef int merge_bvec_fn(struct request_queue * , struct bvec_merge_data * , struct bio_vec * );
#line 224 "include/linux/blkdev.h"
typedef void softirq_done_fn(struct request * );
#line 225 "include/linux/blkdev.h"
typedef int dma_drain_needed_fn(struct request * );
#line 226 "include/linux/blkdev.h"
typedef int lld_busy_fn(struct request_queue * );
#line 227 "include/linux/blkdev.h"
typedef int bsg_job_fn(struct bsg_job * );
#line 228
enum blk_eh_timer_return {
    BLK_EH_NOT_HANDLED = 0,
    BLK_EH_HANDLED = 1,
    BLK_EH_RESET_TIMER = 2
} ;
#line 235 "include/linux/blkdev.h"
typedef enum blk_eh_timer_return rq_timed_out_fn(struct request * );
#line 241 "include/linux/blkdev.h"
struct blk_queue_tag {
   struct request **tag_index ;
   unsigned long *tag_map ;
   int busy ;
   int max_depth ;
   int real_max_depth ;
   atomic_t refcnt ;
   int alloc_policy ;
   int next_tag ;
};
#line 252 "include/linux/blkdev.h"
struct queue_limits {
   unsigned long bounce_pfn ;
   unsigned long seg_boundary_mask ;
   unsigned int max_hw_sectors ;
   unsigned int chunk_sectors ;
   unsigned int max_sectors ;
   unsigned int max_segment_size ;
   unsigned int physical_block_size ;
   unsigned int alignment_offset ;
   unsigned int io_min ;
   unsigned int io_opt ;
   unsigned int max_discard_sectors ;
   unsigned int max_write_same_sectors ;
   unsigned int discard_granularity ;
   unsigned int discard_alignment ;
   unsigned short logical_block_size ;
   unsigned short max_segments ;
   unsigned short max_integrity_segments ;
   unsigned char misaligned ;
   unsigned char discard_misaligned ;
   unsigned char cluster ;
   unsigned char discard_zeroes_data ;
   unsigned char raid_partial_stripes_expensive ;
};
#line 285
struct blk_mq_ops;
#line 285
struct blk_mq_hw_ctx;
#line 285
struct throtl_data;
#line 285
struct blk_mq_tag_set;
#line 285 "include/linux/blkdev.h"
struct request_queue {
   struct list_head queue_head ;
   struct request *last_merge ;
   struct elevator_queue *elevator ;
   int nr_rqs[2U] ;
   int nr_rqs_elvpriv ;
   struct request_list root_rl ;
   request_fn_proc *request_fn ;
   make_request_fn *make_request_fn ;
   prep_rq_fn *prep_rq_fn ;
   unprep_rq_fn *unprep_rq_fn ;
   merge_bvec_fn *merge_bvec_fn ;
   softirq_done_fn *softirq_done_fn ;
   rq_timed_out_fn *rq_timed_out_fn ;
   dma_drain_needed_fn *dma_drain_needed ;
   lld_busy_fn *lld_busy_fn ;
   struct blk_mq_ops *mq_ops ;
   unsigned int *mq_map ;
   struct blk_mq_ctx *queue_ctx ;
   unsigned int nr_queues ;
   struct blk_mq_hw_ctx **queue_hw_ctx ;
   unsigned int nr_hw_queues ;
   sector_t end_sector ;
   struct request *boundary_rq ;
   struct delayed_work delay_work ;
   struct backing_dev_info backing_dev_info ;
   void *queuedata ;
   unsigned long queue_flags ;
   int id ;
   gfp_t bounce_gfp ;
   spinlock_t __queue_lock ;
   spinlock_t *queue_lock ;
   struct kobject kobj ;
   struct kobject mq_kobj ;
   struct device *dev ;
   int rpm_status ;
   unsigned int nr_pending ;
   unsigned long nr_requests ;
   unsigned int nr_congestion_on ;
   unsigned int nr_congestion_off ;
   unsigned int nr_batching ;
   unsigned int dma_drain_size ;
   void *dma_drain_buffer ;
   unsigned int dma_pad_mask ;
   unsigned int dma_alignment ;
   struct blk_queue_tag *queue_tags ;
   struct list_head tag_busy_list ;
   unsigned int nr_sorted ;
   unsigned int in_flight[2U] ;
   unsigned int request_fn_active ;
   unsigned int rq_timeout ;
   struct timer_list timeout ;
   struct list_head timeout_list ;
   struct list_head icq_list ;
   unsigned long blkcg_pols[1U] ;
   struct blkcg_gq *root_blkg ;
   struct list_head blkg_list ;
   struct queue_limits limits ;
   unsigned int sg_timeout ;
   unsigned int sg_reserved_size ;
   int node ;
   struct blk_trace *blk_trace ;
   unsigned int flush_flags ;
   unsigned char flush_not_queueable : 1 ;
   struct blk_flush_queue *fq ;
   struct list_head requeue_list ;
   spinlock_t requeue_lock ;
   struct work_struct requeue_work ;
   struct mutex sysfs_lock ;
   int bypass_depth ;
   atomic_t mq_freeze_depth ;
   bsg_job_fn *bsg_job_fn ;
   int bsg_job_size ;
   struct bsg_class_device bsg_dev ;
   struct throtl_data *td ;
   struct callback_head callback_head ;
   wait_queue_head_t mq_freeze_wq ;
   struct percpu_ref mq_usage_counter ;
   struct list_head all_q_node ;
   struct blk_mq_tag_set *tag_set ;
   struct list_head tag_set_list ;
};
#line 1020 "include/linux/blkdev.h"
struct blk_plug {
   struct list_head list ;
   struct list_head mq_list ;
   struct list_head cb_list ;
};
#line 1398 "include/linux/blkdev.h"
struct blk_integrity_iter {
   void *prot_buf ;
   void *data_buf ;
   sector_t seed ;
   unsigned int data_size ;
   unsigned short interval ;
   char const   *disk_name ;
};
#line 1427 "include/linux/blkdev.h"
typedef int integrity_processing_fn(struct blk_integrity_iter * );
#line 1428 "include/linux/blkdev.h"
struct blk_integrity {
   integrity_processing_fn *generate_fn ;
   integrity_processing_fn *verify_fn ;
   unsigned short flags ;
   unsigned short tuple_size ;
   unsigned short interval ;
   unsigned short tag_size ;
   char const   *name ;
   struct kobject kobj ;
};
#line 1482 "include/linux/blkdev.h"
struct block_device_operations {
   int (*open)(struct block_device * , fmode_t  ) ;
   void (*release)(struct gendisk * , fmode_t  ) ;
   int (*rw_page)(struct block_device * , sector_t  , struct page * , int  ) ;
   int (*ioctl)(struct block_device * , fmode_t  , unsigned int  , unsigned long  ) ;
   int (*compat_ioctl)(struct block_device * , fmode_t  , unsigned int  , unsigned long  ) ;
   long (*direct_access)(struct block_device * , sector_t  , void ** , unsigned long * ,
                         long  ) ;
   unsigned int (*check_events)(struct gendisk * , unsigned int  ) ;
   int (*media_changed)(struct gendisk * ) ;
   void (*unlock_native_capacity)(struct gendisk * ) ;
   int (*revalidate_disk)(struct gendisk * ) ;
   int (*getgeo)(struct block_device * , struct hd_geometry * ) ;
   void (*swap_slot_free_notify)(struct block_device * , unsigned long  ) ;
   struct module *owner ;
};
#line 13 "include/linux/mod_devicetable.h"
typedef unsigned long kernel_ulong_t;
#line 14 "include/linux/mod_devicetable.h"
struct pci_device_id {
   __u32 vendor ;
   __u32 device ;
   __u32 subvendor ;
   __u32 subdevice ;
   __u32 class ;
   __u32 class_mask ;
   kernel_ulong_t driver_data ;
};
#line 186 "include/linux/mod_devicetable.h"
struct acpi_device_id {
   __u8 id[9U] ;
   kernel_ulong_t driver_data ;
};
#line 219 "include/linux/mod_devicetable.h"
struct of_device_id {
   char name[32U] ;
   char type[32U] ;
   char compatible[128U] ;
   void const   *data ;
};
#line 70 "include/linux/resource_ext.h"
struct hotplug_slot;
#line 70 "include/linux/resource_ext.h"
struct pci_slot {
   struct pci_bus *bus ;
   struct list_head list ;
   struct hotplug_slot *hotplug ;
   unsigned char number ;
   struct kobject kobj ;
};
#line 110 "include/linux/pci.h"
typedef int pci_power_t;
#line 137 "include/linux/pci.h"
typedef unsigned int pci_channel_state_t;
#line 138
enum pci_channel_state {
    pci_channel_io_normal = 1,
    pci_channel_io_frozen = 2,
    pci_channel_io_perm_failure = 3
} ;
#line 163 "include/linux/pci.h"
typedef unsigned short pci_dev_flags_t;
#line 190 "include/linux/pci.h"
typedef unsigned short pci_bus_flags_t;
#line 247
struct pcie_link_state;
#line 248
struct pci_vpd;
#line 249
struct pci_sriov;
#line 250
struct pci_ats;
#line 251
struct pci_driver;
#line 251 "include/linux/pci.h"
union __anonunion____missing_field_name_262 {
   struct pci_sriov *sriov ;
   struct pci_dev *physfn ;
};
#line 251 "include/linux/pci.h"
struct pci_dev {
   struct list_head bus_list ;
   struct pci_bus *bus ;
   struct pci_bus *subordinate ;
   void *sysdata ;
   struct proc_dir_entry *procent ;
   struct pci_slot *slot ;
   unsigned int devfn ;
   unsigned short vendor ;
   unsigned short device ;
   unsigned short subsystem_vendor ;
   unsigned short subsystem_device ;
   unsigned int class ;
   u8 revision ;
   u8 hdr_type ;
   u8 pcie_cap ;
   u8 msi_cap ;
   u8 msix_cap ;
   unsigned char pcie_mpss : 3 ;
   u8 rom_base_reg ;
   u8 pin ;
   u16 pcie_flags_reg ;
   u8 dma_alias_devfn ;
   struct pci_driver *driver ;
   u64 dma_mask ;
   struct device_dma_parameters dma_parms ;
   pci_power_t current_state ;
   u8 pm_cap ;
   unsigned char pme_support : 5 ;
   unsigned char pme_interrupt : 1 ;
   unsigned char pme_poll : 1 ;
   unsigned char d1_support : 1 ;
   unsigned char d2_support : 1 ;
   unsigned char no_d1d2 : 1 ;
   unsigned char no_d3cold : 1 ;
   unsigned char d3cold_allowed : 1 ;
   unsigned char mmio_always_on : 1 ;
   unsigned char wakeup_prepared : 1 ;
   unsigned char runtime_d3cold : 1 ;
   unsigned char ignore_hotplug : 1 ;
   unsigned int d3_delay ;
   unsigned int d3cold_delay ;
   struct pcie_link_state *link_state ;
   pci_channel_state_t error_state ;
   struct device dev ;
   int cfg_size ;
   unsigned int irq ;
   struct resource resource[17U] ;
   bool match_driver ;
   unsigned char transparent : 1 ;
   unsigned char multifunction : 1 ;
   unsigned char is_added : 1 ;
   unsigned char is_busmaster : 1 ;
   unsigned char no_msi : 1 ;
   unsigned char no_64bit_msi : 1 ;
   unsigned char block_cfg_access : 1 ;
   unsigned char broken_parity_status : 1 ;
   unsigned char irq_reroute_variant : 2 ;
   unsigned char msi_enabled : 1 ;
   unsigned char msix_enabled : 1 ;
   unsigned char ari_enabled : 1 ;
   unsigned char is_managed : 1 ;
   unsigned char needs_freset : 1 ;
   unsigned char state_saved : 1 ;
   unsigned char is_physfn : 1 ;
   unsigned char is_virtfn : 1 ;
   unsigned char reset_fn : 1 ;
   unsigned char is_hotplug_bridge : 1 ;
   unsigned char __aer_firmware_first_valid : 1 ;
   unsigned char __aer_firmware_first : 1 ;
   unsigned char broken_intx_masking : 1 ;
   unsigned char io_window_1k : 1 ;
   unsigned char irq_managed : 1 ;
   unsigned char has_secondary_link : 1 ;
   pci_dev_flags_t dev_flags ;
   atomic_t enable_cnt ;
   u32 saved_config_space[16U] ;
   struct hlist_head saved_cap_space ;
   struct bin_attribute *rom_attr ;
   int rom_attr_enabled ;
   struct bin_attribute *res_attr[17U] ;
   struct bin_attribute *res_attr_wc[17U] ;
   struct list_head msi_list ;
   struct attribute_group  const  **msi_irq_groups ;
   struct pci_vpd *vpd ;
   union __anonunion____missing_field_name_262 __annonCompField83 ;
   struct pci_ats *ats ;
   phys_addr_t rom ;
   size_t romlen ;
   char *driver_override ;
};
#line 440
struct pci_ops;
#line 440
struct msi_controller;
#line 440 "include/linux/pci.h"
struct pci_bus {
   struct list_head node ;
   struct pci_bus *parent ;
   struct list_head children ;
   struct list_head devices ;
   struct pci_dev *self ;
   struct list_head slots ;
   struct resource *resource[4U] ;
   struct list_head resources ;
   struct resource busn_res ;
   struct pci_ops *ops ;
   struct msi_controller *msi ;
   void *sysdata ;
   struct proc_dir_entry *procdir ;
   unsigned char number ;
   unsigned char primary ;
   unsigned char max_bus_speed ;
   unsigned char cur_bus_speed ;
   char name[48U] ;
   unsigned short bridge_ctl ;
   pci_bus_flags_t bus_flags ;
   struct device *bridge ;
   struct device dev ;
   struct bin_attribute *legacy_io ;
   struct bin_attribute *legacy_mem ;
   unsigned char is_added : 1 ;
};
#line 563 "include/linux/pci.h"
struct pci_ops {
   void *(*map_bus)(struct pci_bus * , unsigned int  , int  ) ;
   int (*read)(struct pci_bus * , unsigned int  , int  , int  , u32 * ) ;
   int (*write)(struct pci_bus * , unsigned int  , int  , int  , u32  ) ;
};
#line 591 "include/linux/pci.h"
struct pci_dynids {
   spinlock_t lock ;
   struct list_head list ;
};
#line 605 "include/linux/pci.h"
typedef unsigned int pci_ers_result_t;
#line 615 "include/linux/pci.h"
struct pci_error_handlers {
   pci_ers_result_t (*error_detected)(struct pci_dev * , enum pci_channel_state  ) ;
   pci_ers_result_t (*mmio_enabled)(struct pci_dev * ) ;
   pci_ers_result_t (*link_reset)(struct pci_dev * ) ;
   pci_ers_result_t (*slot_reset)(struct pci_dev * ) ;
   void (*reset_notify)(struct pci_dev * , bool  ) ;
   void (*resume)(struct pci_dev * ) ;
};
#line 648 "include/linux/pci.h"
struct pci_driver {
   struct list_head node ;
   char const   *name ;
   struct pci_device_id  const  *id_table ;
   int (*probe)(struct pci_dev * , struct pci_device_id  const  * ) ;
   void (*remove)(struct pci_dev * ) ;
   int (*suspend)(struct pci_dev * , pm_message_t  ) ;
   int (*suspend_late)(struct pci_dev * , pm_message_t  ) ;
   int (*resume_early)(struct pci_dev * ) ;
   int (*resume)(struct pci_dev * ) ;
   void (*shutdown)(struct pci_dev * ) ;
   int (*sriov_configure)(struct pci_dev * , int  ) ;
   struct pci_error_handlers  const  *err_handler ;
   struct device_driver driver ;
   struct pci_dynids dynids ;
};
#line 34 "./arch/x86/include/asm/pci_64.h"
struct dma_attrs {
   unsigned long flags[1U] ;
};
#line 70 "include/linux/dma-attrs.h"
enum dma_data_direction {
    DMA_BIDIRECTIONAL = 0,
    DMA_TO_DEVICE = 1,
    DMA_FROM_DEVICE = 2,
    DMA_NONE = 3
} ;
#line 77 "include/linux/dma-attrs.h"
struct dma_map_ops {
   void *(*alloc)(struct device * , size_t  , dma_addr_t * , gfp_t  , struct dma_attrs * ) ;
   void (*free)(struct device * , size_t  , void * , dma_addr_t  , struct dma_attrs * ) ;
   int (*mmap)(struct device * , struct vm_area_struct * , void * , dma_addr_t  ,
               size_t  , struct dma_attrs * ) ;
   int (*get_sgtable)(struct device * , struct sg_table * , void * , dma_addr_t  ,
                      size_t  , struct dma_attrs * ) ;
   dma_addr_t (*map_page)(struct device * , struct page * , unsigned long  , size_t  ,
                          enum dma_data_direction  , struct dma_attrs * ) ;
   void (*unmap_page)(struct device * , dma_addr_t  , size_t  , enum dma_data_direction  ,
                      struct dma_attrs * ) ;
   int (*map_sg)(struct device * , struct scatterlist * , int  , enum dma_data_direction  ,
                 struct dma_attrs * ) ;
   void (*unmap_sg)(struct device * , struct scatterlist * , int  , enum dma_data_direction  ,
                    struct dma_attrs * ) ;
   void (*sync_single_for_cpu)(struct device * , dma_addr_t  , size_t  , enum dma_data_direction  ) ;
   void (*sync_single_for_device)(struct device * , dma_addr_t  , size_t  , enum dma_data_direction  ) ;
   void (*sync_sg_for_cpu)(struct device * , struct scatterlist * , int  , enum dma_data_direction  ) ;
   void (*sync_sg_for_device)(struct device * , struct scatterlist * , int  , enum dma_data_direction  ) ;
   int (*mapping_error)(struct device * , dma_addr_t  ) ;
   int (*dma_supported)(struct device * , u64  ) ;
   int (*set_dma_mask)(struct device * , u64  ) ;
   int is_phys ;
};
#line 32 "include/scsi/scsi_common.h"
struct scsi_sense_hdr {
   u8 response_code ;
   u8 sense_key ;
   u8 asc ;
   u8 ascq ;
   u8 byte4 ;
   u8 byte5 ;
   u8 byte6 ;
   u8 additional_length ;
};
#line 25 "include/scsi/scsi_device.h"
enum scsi_device_state {
    SDEV_CREATED = 1,
    SDEV_RUNNING = 2,
    SDEV_CANCEL = 3,
    SDEV_DEL = 4,
    SDEV_QUIESCE = 5,
    SDEV_OFFLINE = 6,
    SDEV_TRANSPORT_OFFLINE = 7,
    SDEV_BLOCK = 8,
    SDEV_CREATED_BLOCK = 9
} ;
#line 71
struct scsi_target;
#line 71
struct scsi_dh_data;
#line 71 "include/scsi/scsi_device.h"
struct scsi_device {
   struct Scsi_Host *host ;
   struct request_queue *request_queue ;
   struct list_head siblings ;
   struct list_head same_target_siblings ;
   atomic_t device_busy ;
   atomic_t device_blocked ;
   spinlock_t list_lock ;
   struct list_head cmd_list ;
   struct list_head starved_entry ;
   struct scsi_cmnd *current_cmnd ;
   unsigned short queue_depth ;
   unsigned short max_queue_depth ;
   unsigned short last_queue_full_depth ;
   unsigned short last_queue_full_count ;
   unsigned long last_queue_full_time ;
   unsigned long queue_ramp_up_period ;
   unsigned long last_queue_ramp_up ;
   unsigned int id ;
   unsigned int channel ;
   u64 lun ;
   unsigned int manufacturer ;
   unsigned int sector_size ;
   void *hostdata ;
   char type ;
   char scsi_level ;
   char inq_periph_qual ;
   unsigned char inquiry_len ;
   unsigned char *inquiry ;
   char const   *vendor ;
   char const   *model ;
   char const   *rev ;
   int vpd_pg83_len ;
   unsigned char *vpd_pg83 ;
   int vpd_pg80_len ;
   unsigned char *vpd_pg80 ;
   unsigned char current_tag ;
   struct scsi_target *sdev_target ;
   unsigned int sdev_bflags ;
   unsigned int eh_timeout ;
   unsigned char removable : 1 ;
   unsigned char changed : 1 ;
   unsigned char busy : 1 ;
   unsigned char lockable : 1 ;
   unsigned char locked : 1 ;
   unsigned char borken : 1 ;
   unsigned char disconnect : 1 ;
   unsigned char soft_reset : 1 ;
   unsigned char sdtr : 1 ;
   unsigned char wdtr : 1 ;
   unsigned char ppr : 1 ;
   unsigned char tagged_supported : 1 ;
   unsigned char simple_tags : 1 ;
   unsigned char was_reset : 1 ;
   unsigned char expecting_cc_ua : 1 ;
   unsigned char use_10_for_rw : 1 ;
   unsigned char use_10_for_ms : 1 ;
   unsigned char no_report_opcodes : 1 ;
   unsigned char no_write_same : 1 ;
   unsigned char use_16_for_rw : 1 ;
   unsigned char skip_ms_page_8 : 1 ;
   unsigned char skip_ms_page_3f : 1 ;
   unsigned char skip_vpd_pages : 1 ;
   unsigned char try_vpd_pages : 1 ;
   unsigned char use_192_bytes_for_3f : 1 ;
   unsigned char no_start_on_add : 1 ;
   unsigned char allow_restart : 1 ;
   unsigned char manage_start_stop : 1 ;
   unsigned char start_stop_pwr_cond : 1 ;
   unsigned char no_uld_attach : 1 ;
   unsigned char select_no_atn : 1 ;
   unsigned char fix_capacity : 1 ;
   unsigned char guess_capacity : 1 ;
   unsigned char retry_hwerror : 1 ;
   unsigned char last_sector_bug : 1 ;
   unsigned char no_read_disc_info : 1 ;
   unsigned char no_read_capacity_16 : 1 ;
   unsigned char try_rc_10_first : 1 ;
   unsigned char is_visible : 1 ;
   unsigned char wce_default_on : 1 ;
   unsigned char no_dif : 1 ;
   unsigned char broken_fua : 1 ;
   unsigned char lun_in_cdb : 1 ;
   atomic_t disk_events_disable_depth ;
   unsigned long supported_events[1U] ;
   unsigned long pending_events[1U] ;
   struct list_head event_list ;
   struct work_struct event_work ;
   unsigned int max_device_blocked ;
   atomic_t iorequest_cnt ;
   atomic_t iodone_cnt ;
   atomic_t ioerr_cnt ;
   struct device sdev_gendev ;
   struct device sdev_dev ;
   struct execute_work ew ;
   struct work_struct requeue_work ;
   struct scsi_dh_data *scsi_dh_data ;
   enum scsi_device_state sdev_state ;
   unsigned long sdev_data[0U] ;
};
#line 204 "include/scsi/scsi_device.h"
struct scsi_device_handler {
   struct list_head list ;
   struct module *module ;
   char const   *name ;
   int (*check_sense)(struct scsi_device * , struct scsi_sense_hdr * ) ;
   struct scsi_dh_data *(*attach)(struct scsi_device * ) ;
   void (*detach)(struct scsi_device * ) ;
   int (*activate)(struct scsi_device * , void (*)(void * , int  ) , void * ) ;
   int (*prep_fn)(struct scsi_device * , struct request * ) ;
   int (*set_params)(struct scsi_device * , char const   * ) ;
   bool (*match)(struct scsi_device * ) ;
};
#line 219 "include/scsi/scsi_device.h"
struct scsi_dh_data {
   struct scsi_device_handler *scsi_dh ;
   struct scsi_device *sdev ;
   struct kref kref ;
};
#line 249
enum scsi_target_state {
    STARGET_CREATED = 1,
    STARGET_RUNNING = 2,
    STARGET_DEL = 3
} ;
#line 255 "include/scsi/scsi_device.h"
struct scsi_target {
   struct scsi_device *starget_sdev_user ;
   struct list_head siblings ;
   struct list_head devices ;
   struct device dev ;
   struct kref reap_ref ;
   unsigned int channel ;
   unsigned int id ;
   unsigned char create : 1 ;
   unsigned char single_lun : 1 ;
   unsigned char pdt_1f_for_no_lun : 1 ;
   unsigned char no_report_luns : 1 ;
   unsigned char expecting_lun_change : 1 ;
   atomic_t target_busy ;
   atomic_t target_blocked ;
   unsigned int can_queue ;
   unsigned int max_target_blocked ;
   char scsi_level ;
   enum scsi_target_state state ;
   void *hostdata ;
   unsigned long starget_data[0U] ;
};
#line 533 "include/scsi/scsi_device.h"
struct scsi_data_buffer {
   struct sg_table table ;
   unsigned int length ;
   int resid ;
};
#line 39 "include/scsi/scsi_cmnd.h"
struct scsi_pointer {
   char *ptr ;
   int this_residual ;
   struct scatterlist *buffer ;
   int buffers_residual ;
   dma_addr_t dma_handle ;
   int volatile   Status ;
   int volatile   Message ;
   int volatile   have_data_in ;
   int volatile   sent_command ;
   int volatile   phase ;
};
#line 55 "include/scsi/scsi_cmnd.h"
struct scsi_cmnd {
   struct scsi_device *device ;
   struct list_head list ;
   struct list_head eh_entry ;
   struct delayed_work abort_work ;
   int eh_eflags ;
   unsigned long serial_number ;
   unsigned long jiffies_at_alloc ;
   int retries ;
   int allowed ;
   unsigned char prot_op ;
   unsigned char prot_type ;
   unsigned char prot_flags ;
   unsigned short cmd_len ;
   enum dma_data_direction sc_data_direction ;
   unsigned char *cmnd ;
   struct scsi_data_buffer sdb ;
   struct scsi_data_buffer *prot_sdb ;
   unsigned int underflow ;
   unsigned int transfersize ;
   struct request *request ;
   unsigned char *sense_buffer ;
   void (*scsi_done)(struct scsi_cmnd * ) ;
   struct scsi_pointer SCp ;
   unsigned char *host_scribble ;
   int result ;
   int flags ;
   unsigned char tag ;
};
#line 55 "include/scsi/scsi_eh.h"
struct blk_mq_tags;
#line 56 "include/scsi/scsi_eh.h"
struct blk_mq_cpu_notifier {
   struct list_head list ;
   void *data ;
   int (*notify)(void * , unsigned long  , unsigned int  ) ;
};
#line 14 "include/linux/blk-mq.h"
struct blk_align_bitmap;
#line 14 "include/linux/blk-mq.h"
struct blk_mq_ctxmap {
   unsigned int size ;
   unsigned int bits_per_word ;
   struct blk_align_bitmap *map ;
};
#line 20 "include/linux/blk-mq.h"
struct __anonstruct____missing_field_name_270 {
   spinlock_t lock ;
   struct list_head dispatch ;
};
#line 20 "include/linux/blk-mq.h"
struct blk_mq_hw_ctx {
   struct __anonstruct____missing_field_name_270 __annonCompField84 ;
   unsigned long state ;
   struct delayed_work run_work ;
   struct delayed_work delay_work ;
   cpumask_var_t cpumask ;
   int next_cpu ;
   int next_cpu_batch ;
   unsigned long flags ;
   struct request_queue *queue ;
   struct blk_flush_queue *fq ;
   void *driver_data ;
   struct blk_mq_ctxmap ctx_map ;
   unsigned int nr_ctx ;
   struct blk_mq_ctx **ctxs ;
   atomic_t wait_index ;
   struct blk_mq_tags *tags ;
   unsigned long queued ;
   unsigned long run ;
   unsigned long dispatched[10U] ;
   unsigned int numa_node ;
   unsigned int queue_num ;
   atomic_t nr_active ;
   struct blk_mq_cpu_notifier cpu_notifier ;
   struct kobject kobj ;
};
#line 63 "include/linux/blk-mq.h"
struct blk_mq_tag_set {
   struct blk_mq_ops *ops ;
   unsigned int nr_hw_queues ;
   unsigned int queue_depth ;
   unsigned int reserved_tags ;
   unsigned int cmd_size ;
   int numa_node ;
   unsigned int timeout ;
   unsigned int flags ;
   void *driver_data ;
   struct blk_mq_tags **tags ;
   struct mutex tag_list_lock ;
   struct list_head tag_list ;
};
#line 80 "include/linux/blk-mq.h"
struct blk_mq_queue_data {
   struct request *rq ;
   struct list_head *list ;
   bool last ;
};
#line 87 "include/linux/blk-mq.h"
typedef int queue_rq_fn(struct blk_mq_hw_ctx * , struct blk_mq_queue_data  const  * );
#line 88 "include/linux/blk-mq.h"
typedef struct blk_mq_hw_ctx *map_queue_fn(struct request_queue * , int const    );
#line 89 "include/linux/blk-mq.h"
typedef enum blk_eh_timer_return timeout_fn(struct request * , bool  );
#line 90 "include/linux/blk-mq.h"
typedef int init_hctx_fn(struct blk_mq_hw_ctx * , void * , unsigned int  );
#line 91 "include/linux/blk-mq.h"
typedef void exit_hctx_fn(struct blk_mq_hw_ctx * , unsigned int  );
#line 92 "include/linux/blk-mq.h"
typedef int init_request_fn(void * , struct request * , unsigned int  , unsigned int  ,
                            unsigned int  );
#line 94 "include/linux/blk-mq.h"
typedef void exit_request_fn(void * , struct request * , unsigned int  , unsigned int  );
#line 100 "include/linux/blk-mq.h"
struct blk_mq_ops {
   queue_rq_fn *queue_rq ;
   map_queue_fn *map_queue ;
   timeout_fn *timeout ;
   softirq_done_fn *complete ;
   init_hctx_fn *init_hctx ;
   exit_hctx_fn *exit_hctx ;
   init_request_fn *init_request ;
   exit_request_fn *exit_request ;
};
#line 247
struct scsi_host_cmd_pool;
#line 248
struct scsi_transport_template;
#line 250 "include/linux/blk-mq.h"
struct scsi_host_template {
   struct module *module ;
   char const   *name ;
   int (*detect)(struct scsi_host_template * ) ;
   int (*release)(struct Scsi_Host * ) ;
   char const   *(*info)(struct Scsi_Host * ) ;
   int (*ioctl)(struct scsi_device * , int  , void * ) ;
   int (*compat_ioctl)(struct scsi_device * , int  , void * ) ;
   int (*queuecommand)(struct Scsi_Host * , struct scsi_cmnd * ) ;
   int (*eh_abort_handler)(struct scsi_cmnd * ) ;
   int (*eh_device_reset_handler)(struct scsi_cmnd * ) ;
   int (*eh_target_reset_handler)(struct scsi_cmnd * ) ;
   int (*eh_bus_reset_handler)(struct scsi_cmnd * ) ;
   int (*eh_host_reset_handler)(struct scsi_cmnd * ) ;
   int (*slave_alloc)(struct scsi_device * ) ;
   int (*slave_configure)(struct scsi_device * ) ;
   void (*slave_destroy)(struct scsi_device * ) ;
   int (*target_alloc)(struct scsi_target * ) ;
   void (*target_destroy)(struct scsi_target * ) ;
   int (*scan_finished)(struct Scsi_Host * , unsigned long  ) ;
   void (*scan_start)(struct Scsi_Host * ) ;
   int (*change_queue_depth)(struct scsi_device * , int  ) ;
   int (*bios_param)(struct scsi_device * , struct block_device * , sector_t  , int * ) ;
   void (*unlock_native_capacity)(struct scsi_device * ) ;
   int (*show_info)(struct seq_file * , struct Scsi_Host * ) ;
   int (*write_info)(struct Scsi_Host * , char * , int  ) ;
   enum blk_eh_timer_return (*eh_timed_out)(struct scsi_cmnd * ) ;
   int (*host_reset)(struct Scsi_Host * , int  ) ;
   char const   *proc_name ;
   struct proc_dir_entry *proc_dir ;
   int can_queue ;
   int this_id ;
   unsigned short sg_tablesize ;
   unsigned short sg_prot_tablesize ;
   unsigned int max_sectors ;
   unsigned long dma_boundary ;
   short cmd_per_lun ;
   unsigned char present ;
   int tag_alloc_policy ;
   unsigned char use_blk_tags : 1 ;
   unsigned char track_queue_depth : 1 ;
   unsigned char supported_mode : 2 ;
   unsigned char unchecked_isa_dma : 1 ;
   unsigned char use_clustering : 1 ;
   unsigned char emulated : 1 ;
   unsigned char skip_settle_delay : 1 ;
   unsigned char no_write_same : 1 ;
   unsigned char no_async_abort : 1 ;
   unsigned int max_host_blocked ;
   struct device_attribute **shost_attrs ;
   struct device_attribute **sdev_attrs ;
   struct list_head legacy_hosts ;
   u64 vendor_id ;
   unsigned int cmd_size ;
   struct scsi_host_cmd_pool *cmd_pool ;
   bool disable_blk_mq ;
};
#line 507 "include/scsi/scsi_host.h"
enum scsi_host_state {
    SHOST_CREATED = 1,
    SHOST_RUNNING = 2,
    SHOST_CANCEL = 3,
    SHOST_DEL = 4,
    SHOST_RECOVERY = 5,
    SHOST_CANCEL_RECOVERY = 6,
    SHOST_DEL_RECOVERY = 7
} ;
#line 517 "include/scsi/scsi_host.h"
union __anonunion____missing_field_name_271 {
   struct blk_queue_tag *bqt ;
   struct blk_mq_tag_set tag_set ;
};
#line 517 "include/scsi/scsi_host.h"
struct Scsi_Host {
   struct list_head __devices ;
   struct list_head __targets ;
   struct scsi_host_cmd_pool *cmd_pool ;
   spinlock_t free_list_lock ;
   struct list_head free_list ;
   struct list_head starved_list ;
   spinlock_t default_lock ;
   spinlock_t *host_lock ;
   struct mutex scan_mutex ;
   struct list_head eh_cmd_q ;
   struct task_struct *ehandler ;
   struct completion *eh_action ;
   wait_queue_head_t host_wait ;
   struct scsi_host_template *hostt ;
   struct scsi_transport_template *transportt ;
   union __anonunion____missing_field_name_271 __annonCompField85 ;
   atomic_t host_busy ;
   atomic_t host_blocked ;
   unsigned int host_failed ;
   unsigned int host_eh_scheduled ;
   unsigned int host_no ;
   int eh_deadline ;
   unsigned long last_reset ;
   unsigned int max_channel ;
   unsigned int max_id ;
   u64 max_lun ;
   unsigned int unique_id ;
   unsigned short max_cmd_len ;
   int this_id ;
   int can_queue ;
   short cmd_per_lun ;
   unsigned short sg_tablesize ;
   unsigned short sg_prot_tablesize ;
   unsigned int max_sectors ;
   unsigned long dma_boundary ;
   unsigned int nr_hw_queues ;
   unsigned long cmd_serial_number ;
   unsigned char active_mode : 2 ;
   unsigned char unchecked_isa_dma : 1 ;
   unsigned char use_clustering : 1 ;
   unsigned char host_self_blocked : 1 ;
   unsigned char reverse_ordering : 1 ;
   unsigned char tmf_in_progress : 1 ;
   unsigned char async_scan : 1 ;
   unsigned char eh_noresume : 1 ;
   unsigned char no_write_same : 1 ;
   unsigned char use_blk_mq : 1 ;
   unsigned char use_cmd_list : 1 ;
   char work_q_name[20U] ;
   struct workqueue_struct *work_q ;
   struct workqueue_struct *tmf_work_q ;
   unsigned char no_scsi2_lun_in_cdb : 1 ;
   unsigned int max_host_blocked ;
   unsigned int prot_capabilities ;
   unsigned char prot_guard_type ;
   struct request_queue *uspace_req_q ;
   unsigned long base ;
   unsigned long io_port ;
   unsigned char n_io_port ;
   unsigned char dma_channel ;
   unsigned int irq ;
   enum scsi_host_state shost_state ;
   struct device shost_gendev ;
   struct device shost_dev ;
   struct list_head sht_legacy_list ;
   void *shost_data ;
   struct device *dma_dev ;
   unsigned long hostdata[0U] ;
};
#line 93 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
struct rtsx_chip;
#line 94 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
struct rtsx_dev {
   struct pci_dev *pci ;
   unsigned long addr ;
   void *remap_addr ;
   int irq ;
   spinlock_t reg_lock ;
   struct task_struct *ctl_thread ;
   struct task_struct *polling_thread ;
   struct completion cmnd_ready ;
   struct completion control_exit ;
   struct completion polling_exit ;
   struct completion notify ;
   struct completion scanning_done ;
   wait_queue_head_t delay_wait ;
   struct mutex dev_mutex ;
   void *rtsx_resv_buf ;
   dma_addr_t rtsx_resv_buf_addr ;
   char trans_result ;
   char trans_state ;
   struct completion *done ;
   u32 check_card_cd ;
   struct rtsx_chip *chip ;
};
#line 134 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
typedef struct rtsx_dev rtsx_dev_t;
#line 31 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/trace.h"
struct sense_data_t {
   unsigned char err_code ;
   unsigned char seg_no ;
   unsigned char sense_key ;
   unsigned char info[4U] ;
   unsigned char ad_sense_len ;
   unsigned char cmd_info[4U] ;
   unsigned char asc ;
   unsigned char ascq ;
   unsigned char rfu ;
   unsigned char sns_key_info[3U] ;
};
#line 352 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
typedef int (*card_rw_func)(struct scsi_cmnd * , struct rtsx_chip * , u32  , u16  );
#line 366
enum RTSX_STAT {
    RTSX_STAT_INIT = 0,
    RTSX_STAT_IDLE = 1,
    RTSX_STAT_RUN = 2,
    RTSX_STAT_SS = 3,
    RTSX_STAT_DELINK = 4,
    RTSX_STAT_SUSPEND = 5,
    RTSX_STAT_ABORT = 6,
    RTSX_STAT_DISCONNECT = 7
} ;
#line 383 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct zone_entry {
   u16 *l2p_table ;
   u16 *free_table ;
   u16 defect_list[10U] ;
   int set_index ;
   int get_index ;
   int unused_blk_cnt ;
   int disable_count ;
   int build_flag ;
};
#line 380 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct sd_info {
   u16 sd_type ;
   u8 err_code ;
   u8 sd_data_buf_ready ;
   u32 sd_addr ;
   u32 capacity ;
   u8 raw_csd[16U] ;
   u8 raw_scr[8U] ;
   int seq_mode ;
   enum dma_data_direction pre_dir ;
   u32 pre_sec_addr ;
   u16 pre_sec_cnt ;
   int cleanup_counter ;
   int sd_clock ;
   int mmc_dont_switch_bus ;
   int sd_pass_thru_en ;
   int pre_cmd_err ;
   u8 last_rsp_type ;
   u8 rsp[17U] ;
   u8 func_group1_mask ;
   u8 func_group2_mask ;
   u8 func_group3_mask ;
   u8 func_group4_mask ;
   u8 sd_switch_fail ;
   u8 sd_read_phase ;
   u8 sd_lock_status ;
   u8 sd_erase_status ;
   u8 sd_lock_notify ;
   int need_retune ;
};
#line 509 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct xd_delay_write_tag {
   u32 old_phyblock ;
   u32 new_phyblock ;
   u32 logblock ;
   u8 pageoff ;
   u8 delay_write_flag ;
};
#line 517 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct xd_info {
   u8 maker_code ;
   u8 device_code ;
   u8 block_shift ;
   u8 page_off ;
   u8 addr_cycle ;
   u16 cis_block ;
   u8 multi_flag ;
   u8 err_code ;
   u32 capacity ;
   struct zone_entry *zone ;
   int zone_cnt ;
   struct xd_delay_write_tag delay_write ;
   int cleanup_counter ;
   int xd_clock ;
};
#line 537 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct ms_delay_write_tag {
   u16 old_phyblock ;
   u16 new_phyblock ;
   u16 logblock ;
   u8 pageoff ;
   u8 delay_write_flag ;
};
#line 566 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct ms_info {
   u16 ms_type ;
   u8 block_shift ;
   u8 page_off ;
   u16 total_block ;
   u16 boot_block ;
   u32 capacity ;
   u8 check_ms_flow ;
   u8 switch_8bit_fail ;
   u8 err_code ;
   struct zone_entry *segment ;
   int segment_cnt ;
   int pro_under_formatting ;
   int format_status ;
   u16 progress ;
   u8 raw_sys_info[96U] ;
   u8 raw_model_name[48U] ;
   u8 multi_flag ;
   u8 seq_mode ;
   enum dma_data_direction pre_dir ;
   u32 pre_sec_addr ;
   u16 pre_sec_cnt ;
   u32 total_sec_cnt ;
   struct ms_delay_write_tag delay_write ;
   int cleanup_counter ;
   int ms_clock ;
   u8 magic_gate_id[16U] ;
   u8 mg_entry_num ;
   int mg_auth ;
};
#line 610 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct spi_info {
   u8 use_clk ;
   u8 write_en ;
   u16 clk_div ;
   u8 err_code ;
   int spi_clock ;
};
#line 620 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct trace_msg_t {
   u16 line ;
   char func[64U] ;
   char file[32U] ;
   u8 timeval_buf[16U] ;
   u8 valid ;
};
#line 633 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
struct rtsx_chip {
   rtsx_dev_t *rtsx ;
   u32 int_reg ;
   char max_lun ;
   void *context ;
   void *host_cmds_ptr ;
   dma_addr_t host_cmds_addr ;
   int ci ;
   void *host_sg_tbl_ptr ;
   dma_addr_t host_sg_tbl_addr ;
   int sgi ;
   struct scsi_cmnd *srb ;
   struct sense_data_t sense_buffer[8U] ;
   int cur_clk ;
   int cur_card ;
   unsigned long need_release ;
   unsigned long need_reset ;
   unsigned long need_reinit ;
   int rw_need_retry ;
   u32 ocp_int ;
   u8 ocp_stat ;
   u8 card_exist ;
   u8 card_ready ;
   u8 card_fail ;
   u8 card_ejected ;
   u8 card_wp ;
   u8 lun_mc ;
   int led_toggle_counter ;
   int sd_reset_counter ;
   int xd_reset_counter ;
   int ms_reset_counter ;
   u8 card_bus_width[8U] ;
   u32 capacity[8U] ;
   card_rw_func rw_card[8U] ;
   u32 rw_cap[8U] ;
   u8 card2lun[32U] ;
   u8 lun2card[8U] ;
   int rw_fail_cnt[8U] ;
   int sd_show_cnt ;
   int xd_show_cnt ;
   int ms_show_cnt ;
   struct sd_info sd_card ;
   struct xd_info xd_card ;
   struct ms_info ms_card ;
   struct spi_info spi ;
   struct trace_msg_t trace_msg[64U] ;
   int msg_idx ;
   int auto_delink_cnt ;
   int auto_delink_allowed ;
   int aspm_enabled ;
   int sdio_aspm ;
   int sdio_idle ;
   int sdio_counter ;
   u8 sdio_raw_data[12U] ;
   u8 sd_io ;
   u8 sd_int ;
   u8 rtsx_flag ;
   int ss_counter ;
   int idle_counter ;
   enum RTSX_STAT rtsx_stat ;
   u16 vendor_id ;
   u16 product_id ;
   u8 ic_version ;
   int driver_first_load ;
   int sdio_in_charge ;
   u8 aspm_level[2U] ;
   int chip_insert_with_sdio ;
   int adma_mode ;
   int auto_delink_en ;
   int ss_en ;
   u8 lun_mode ;
   u8 aspm_l0s_l1_en ;
   int power_down_in_ss ;
   int sdr104_en ;
   int ddr50_en ;
   int sdr50_en ;
   int baro_pkg ;
   int asic_code ;
   int phy_debug_mode ;
   int hw_bypass_sd ;
   int sdio_func_exist ;
   int aux_pwr_exist ;
   u8 ms_power_class_en ;
   int mspro_formatter_enable ;
   int remote_wakeup_en ;
   int ignore_sd ;
   int use_hw_setting ;
   int ss_idle_period ;
   int dynamic_aspm ;
   int fpga_sd_sdr104_clk ;
   int fpga_sd_ddr50_clk ;
   int fpga_sd_sdr50_clk ;
   int fpga_sd_hs_clk ;
   int fpga_mmc_52m_clk ;
   int fpga_ms_hg_clk ;
   int fpga_ms_4bit_clk ;
   int fpga_ms_1bit_clk ;
   int asic_sd_sdr104_clk ;
   int asic_sd_ddr50_clk ;
   int asic_sd_sdr50_clk ;
   int asic_sd_hs_clk ;
   int asic_mmc_52m_clk ;
   int asic_ms_hg_clk ;
   int asic_ms_4bit_clk ;
   int asic_ms_1bit_clk ;
   u8 ssc_depth_sd_sdr104 ;
   u8 ssc_depth_sd_ddr50 ;
   u8 ssc_depth_sd_sdr50 ;
   u8 ssc_depth_sd_hs ;
   u8 ssc_depth_mmc_52m ;
   u8 ssc_depth_ms_hg ;
   u8 ssc_depth_ms_4bit ;
   u8 ssc_depth_low_speed ;
   u8 card_drive_sel ;
   u8 sd30_drive_sel_1v8 ;
   u8 sd30_drive_sel_3v3 ;
   u8 sd_400mA_ocp_thd ;
   u8 sd_800mA_ocp_thd ;
   u8 ms_ocp_thd ;
   int ssc_en ;
   int msi_en ;
   int xd_timeout ;
   int sd_timeout ;
   int ms_timeout ;
   int mspro_timeout ;
   int auto_power_down ;
   int sd_ddr_tx_phase ;
   int mmc_ddr_tx_phase ;
   int sd_default_tx_phase ;
   int sd_default_rx_phase ;
   int pmos_pwr_on_interval ;
   int sd_voltage_switch_delay ;
   int s3_pwr_off_delay ;
   int force_clkreq_0 ;
   int ft2_fast_mode ;
   int do_delink_before_power_down ;
   int polling_config ;
   int sdio_retry_cnt ;
   int delink_stage1_step ;
   int delink_stage2_step ;
   int delink_stage3_step ;
   int auto_delink_in_L1 ;
   int hp_watch_bios_hotplug ;
   int support_ms_8bit ;
   u8 blink_led ;
   u8 phy_voltage ;
   u8 max_payload ;
   u32 sd_speed_prior ;
   u32 sd_current_prior ;
   u32 sd_ctl ;
};
#line 503 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
typedef int ldv_func_ret_type;
#line 517 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
typedef int ldv_func_ret_type___0;
#line 562 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
typedef struct Scsi_Host *ldv_func_ret_type___1;
#line 576 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
typedef int ldv_func_ret_type___2;
#line 239 "include/linux/timer.h"
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 167 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
enum xfer_buf_dir {
    TO_XFER_BUF = 0,
    FROM_XFER_BUF = 1
} ;
#line 239 "include/linux/timer.h"
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 142 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_scsi.h"
struct timing_phase_path {
   int start ;
   int end ;
   int mid ;
   int len ;
};
#line 239 "include/linux/timer.h"
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 239
enum hrtimer_restart;
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 33 "include/linux/export.h"
extern struct module __this_module ;
#line 53 "include/linux/dynamic_debug.h"
extern void __dynamic_dev_dbg(struct _ddebug * , struct device  const  * , char const   * 
                              , ...) ;
#line 178 "include/linux/kernel.h"
extern void __might_sleep(char const   * , int  , int  ) ;
#line 264
extern void complete_and_exit(struct completion * , long  ) ;
#line 3 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
bool ldv_is_err(void const   *ptr ) ;
#line 6
long ldv_ptr_err(void const   *ptr ) ;
#line 25 "include/linux/list.h"
__inline static void INIT_LIST_HEAD(struct list_head *list ) 
{ 


  {
#line 27
  list->next = list;
#line 28
  list->prev = list;
#line 29
  return;
}
}
#line 87 "./arch/x86/include/asm/percpu.h"
extern void __bad_percpu_size(void) ;
#line 10 "./arch/x86/include/asm/current.h"
extern struct task_struct *current_task ;
#line 12 "./arch/x86/include/asm/current.h"
__inline static struct task_struct *get_current(void) 
{ 
  struct task_struct *pfo_ret__ ;

  {
#line 14
  switch (8UL) {
  case 1UL: 
#line 14
  __asm__  ("movb %%gs:%P1,%0": "=q" (pfo_ret__): "p" (& current_task));
#line 14
  goto ldv_3129;
  case 2UL: 
#line 14
  __asm__  ("movw %%gs:%P1,%0": "=r" (pfo_ret__): "p" (& current_task));
#line 14
  goto ldv_3129;
  case 4UL: 
#line 14
  __asm__  ("movl %%gs:%P1,%0": "=r" (pfo_ret__): "p" (& current_task));
#line 14
  goto ldv_3129;
  case 8UL: 
#line 14
  __asm__  ("movq %%gs:%P1,%0": "=r" (pfo_ret__): "p" (& current_task));
#line 14
  goto ldv_3129;
  default: 
#line 14
  __bad_percpu_size();
  }
  ldv_3129: ;
#line 14
  return (pfo_ret__);
}
}
#line 57 "./arch/x86/include/asm/string_64.h"
extern void *memset(void * , int  , size_t  ) ;
#line 32 "include/linux/err.h"
__inline static long PTR_ERR(void const   *ptr ) ;
#line 41
__inline static bool IS_ERR(void const   *ptr ) ;
#line 11 "./arch/x86/include/asm/cmpxchg.h"
extern void __xchg_wrong_size(void) ;
#line 93 "include/linux/spinlock.h"
extern void __raw_spin_lock_init(raw_spinlock_t * , char const   * , struct lock_class_key * ) ;
#line 22 "include/linux/spinlock_api_smp.h"
extern void _raw_spin_lock(raw_spinlock_t * ) ;
#line 31
extern void _raw_spin_lock_irq(raw_spinlock_t * ) ;
#line 34
extern unsigned long _raw_spin_lock_irqsave(raw_spinlock_t * ) ;
#line 41
extern void _raw_spin_unlock(raw_spinlock_t * ) ;
#line 43
extern void _raw_spin_unlock_irq(raw_spinlock_t * ) ;
#line 45
extern void _raw_spin_unlock_irqrestore(raw_spinlock_t * , unsigned long  ) ;
#line 299 "include/linux/spinlock.h"
__inline static raw_spinlock_t *spinlock_check(spinlock_t *lock ) 
{ 


  {
#line 301
  return (& lock->__annonCompField18.rlock);
}
}
#line 310 "include/linux/spinlock.h"
__inline static void spin_lock(spinlock_t *lock ) 
{ 


  {
#line 312
  _raw_spin_lock(& lock->__annonCompField18.rlock);
#line 313
  return;
}
}
#line 340 "include/linux/spinlock.h"
__inline static void spin_lock_irq(spinlock_t *lock ) 
{ 


  {
#line 342
  _raw_spin_lock_irq(& lock->__annonCompField18.rlock);
#line 343
  return;
}
}
#line 355 "include/linux/spinlock.h"
__inline static void spin_unlock(spinlock_t *lock ) 
{ 


  {
#line 357
  _raw_spin_unlock(& lock->__annonCompField18.rlock);
#line 358
  return;
}
}
#line 365 "include/linux/spinlock.h"
__inline static void spin_unlock_irq(spinlock_t *lock ) 
{ 


  {
#line 367
  _raw_spin_unlock_irq(& lock->__annonCompField18.rlock);
#line 368
  return;
}
}
#line 370 "include/linux/spinlock.h"
__inline static void spin_unlock_irqrestore(spinlock_t *lock , unsigned long flags ) 
{ 


  {
#line 372
  _raw_spin_unlock_irqrestore(& lock->__annonCompField18.rlock, flags);
#line 373
  return;
}
}
#line 72 "include/linux/wait.h"
extern void __init_waitqueue_head(wait_queue_head_t * , char const   * , struct lock_class_key * ) ;
#line 149
extern void __wake_up(wait_queue_head_t * , unsigned int  , int  , void * ) ;
#line 926
extern long prepare_to_wait_event(wait_queue_head_t * , wait_queue_t * , int  ) ;
#line 927
extern void finish_wait(wait_queue_head_t * , wait_queue_t * ) ;
#line 119 "include/linux/mutex.h"
extern void __mutex_init(struct mutex * , char const   * , struct lock_class_key * ) ;
#line 138
extern void mutex_lock_nested(struct mutex * , unsigned int  ) ;
#line 174
extern void mutex_unlock(struct mutex * ) ;
#line 73 "include/linux/completion.h"
__inline static void init_completion(struct completion *x ) 
{ 
  struct lock_class_key __key ;

  {
#line 75
  x->done = 0U;
#line 76
  __init_waitqueue_head(& x->wait, "&x->wait", & __key);
#line 78
  return;
}
}
#line 91
extern void wait_for_completion(struct completion * ) ;
#line 93
extern int wait_for_completion_interruptible(struct completion * ) ;
#line 106
extern void complete(struct completion * ) ;
#line 292 "include/linux/jiffies.h"
extern unsigned long __msecs_to_jiffies(unsigned int const    ) ;
#line 354 "include/linux/jiffies.h"
__inline static unsigned long msecs_to_jiffies(unsigned int const   m ) 
{ 
  unsigned long tmp___0 ;

  {
#line 361
  tmp___0 = __msecs_to_jiffies(m);
#line 361
  return (tmp___0);
}
}
#line 181 "./arch/x86/include/asm/io.h"
extern void *ioremap_nocache(resource_size_t  , unsigned long  ) ;
#line 195
extern void iounmap(void volatile   * ) ;
#line 421 "include/linux/sched.h"
extern long schedule_timeout(long  ) ;
#line 2410
extern int wake_up_process(struct task_struct * ) ;
#line 143 "include/linux/slab.h"
extern void kfree(void const   * ) ;
#line 289
extern void *__kmalloc(size_t  , gfp_t  ) ;
#line 418 "include/linux/slab.h"
__inline static void *kmalloc(size_t size , gfp_t flags ) 
{ 
  void *tmp___2 ;

  {
#line 435
  tmp___2 = __kmalloc(size, flags);
#line 435
  return (tmp___2);
}
}
#line 581 "include/linux/slab.h"
__inline static void *kzalloc(size_t size , gfp_t flags ) 
{ 
  void *tmp ;

  {
#line 583
  tmp = kmalloc(size, flags | 32768U);
#line 583
  return (tmp);
}
}
#line 6 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
extern void *malloc(size_t  ) ;
#line 7
extern void *calloc(size_t  , size_t  ) ;
#line 13
extern int __VERIFIER_nondet_int(void) ;
#line 28
extern unsigned long __VERIFIER_nondet_ulong(void) ;
#line 29
extern void *__VERIFIER_nondet_pointer(void) ;
#line 30
extern void __VERIFIER_assume(int  ) ;
#line 32 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
void *ldv_malloc(size_t size ) 
{ 
  void *p ;
  void *tmp ;
  int tmp___0 ;

  {
#line 33
  tmp___0 = __VERIFIER_nondet_int();
#line 33
  if (tmp___0 != 0) {
#line 34
    return ((void *)0);
  } else {
#line 36
    tmp = malloc(size);
#line 36
    p = tmp;
#line 37
    __VERIFIER_assume((unsigned long )p != (unsigned long )((void *)0));
#line 38
    return (p);
  }
}
}
#line 42 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
void *ldv_zalloc(size_t size ) 
{ 
  void *p ;
  void *tmp ;
  int tmp___0 ;

  {
#line 43
  tmp___0 = __VERIFIER_nondet_int();
#line 43
  if (tmp___0 != 0) {
#line 44
    return ((void *)0);
  } else {
#line 46
    tmp = calloc(1UL, size);
#line 46
    p = tmp;
#line 47
    __VERIFIER_assume((unsigned long )p != (unsigned long )((void *)0));
#line 48
    return (p);
  }
}
}
#line 52 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
void *ldv_init_zalloc(size_t size ) 
{ 
  void *p ;
  void *tmp ;

  {
#line 53
  tmp = calloc(1UL, size);
#line 53
  p = tmp;
#line 54
  __VERIFIER_assume((unsigned long )p != (unsigned long )((void *)0));
#line 55
  return (p);
}
}
#line 58 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
void *ldv_memset(void *s , int c , size_t n ) 
{ 
  void *tmp ;

  {
#line 59
  tmp = memset(s, c, n);
#line 59
  return (tmp);
}
}
#line 62 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
int ldv_undef_int(void) 
{ 
  int tmp ;

  {
#line 63
  tmp = __VERIFIER_nondet_int();
#line 63
  return (tmp);
}
}
#line 66 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
void *ldv_undef_ptr(void) 
{ 
  void *tmp ;

  {
#line 67
  tmp = __VERIFIER_nondet_pointer();
#line 67
  return (tmp);
}
}
#line 70 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
unsigned long ldv_undef_ulong(void) 
{ 
  unsigned long tmp ;

  {
#line 71
  tmp = __VERIFIER_nondet_ulong();
#line 71
  return (tmp);
}
}
#line 22 "/home/ldvuser/ldv/inst/kernel-rules/verifier/rcv.h"
__inline static void ldv_stop(void) 
{ 


  {
  LDV_STOP: ;
#line 23
  goto LDV_STOP;
}
}
#line 52 "/home/ldvuser/ldv/inst/kernel-rules/verifier/rcv.h"
__inline static long ldv__builtin_expect(long exp , long c ) 
{ 


  {
#line 54
  return (exp);
}
}
#line 19 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_1_2  =    0;
#line 20 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int LDV_IN_INTERRUPT  =    1;
#line 21 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_1_3  =    0;
#line 22 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void *ldv_irq_data_1_1  ;
#line 23 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_1_1  =    0;
#line 25 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int pci_counter  ;
#line 26 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_1_0  =    0;
#line 27 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_line_1_3  ;
#line 28 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void *ldv_irq_data_1_0  ;
#line 29 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_state_variable_0  ;
#line 30 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_state_variable_3  ;
#line 31 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_line_1_0  ;
#line 32 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_state_variable_2  ;
#line 33 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void *ldv_irq_data_1_3  ;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct Scsi_Host *rtsx_host_template_group1  ;
#line 35 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ref_cnt  ;
#line 36 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_line_1_1  ;
#line 37 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct scsi_cmnd *rtsx_host_template_group0  ;
#line 38 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void *ldv_irq_data_1_2  ;
#line 39 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_state_variable_1  ;
#line 40 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct pci_dev *rtsx_driver_group1  ;
#line 41 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_line_1_2  ;
#line 42 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct scsi_device *rtsx_host_template_group2  ;
#line 43
int ldv_irq_1(int state , int line , void *data ) ;
#line 44
void activate_suitable_irq_1(int line , void *data ) ;
#line 45
int reg_check_1(irqreturn_t (*handler)(int  , void * ) ) ;
#line 47
void ldv_pci_driver_2(void) ;
#line 48
void choose_interrupt_1(void) ;
#line 49
void ldv_initialize_scsi_host_template_3(void) ;
#line 50
void disable_suitable_irq_1(int line , void *data ) ;
#line 863 "include/linux/device.h"
__inline static void *dev_get_drvdata(struct device  const  *dev ) 
{ 


  {
#line 865
  return ((void *)dev->driver_data);
}
}
#line 868 "include/linux/device.h"
__inline static void dev_set_drvdata(struct device *dev , void *data ) 
{ 


  {
#line 870
  dev->driver_data = data;
#line 871
  return;
}
}
#line 1084
extern void dev_err(struct device  const  * , char const   *  , ...) ;
#line 1090
extern void _dev_info(struct device  const  * , char const   *  , ...) ;
#line 11 "include/linux/hardirq.h"
extern void synchronize_irq(unsigned int  ) ;
#line 992 "include/linux/blkdev.h"
extern void blk_queue_dma_alignment(struct request_queue * , int  ) ;
#line 8 "include/linux/kthread.h"
extern struct task_struct *kthread_create_on_node(int (*)(void * ) , void * , int  ,
                                                  char const   *  , ...) ;
#line 127 "include/linux/interrupt.h"
extern int request_threaded_irq(unsigned int  , irqreturn_t (*)(int  , void * ) ,
                                irqreturn_t (*)(int  , void * ) , unsigned long  ,
                                char const   * , void * ) ;
#line 132 "include/linux/interrupt.h"
__inline static int request_irq(unsigned int irq , irqreturn_t (*handler)(int  , void * ) ,
                                unsigned long flags , char const   *name , void *dev ) 
{ 
  int tmp ;

  {
#line 135
  tmp = request_threaded_irq(irq, handler, (irqreturn_t (*)(int  , void * ))0, flags,
                             name, dev);
#line 135
  return (tmp);
}
}
#line 141
__inline static int ldv_request_irq_6(unsigned int irq , irqreturn_t (*handler)(int  ,
                                                                                void * ) ,
                                      unsigned long flags , char const   *name , void *dev ) ;
#line 150
extern void free_irq(unsigned int  , void * ) ;
#line 153
void ldv_free_irq_7(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) ;
#line 157
void ldv_free_irq_8(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) ;
#line 161
void ldv_free_irq_9(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) ;
#line 847 "include/linux/pci.h"
extern struct pci_dev *pci_get_domain_bus_and_slot(int  , unsigned int  , unsigned int  ) ;
#line 849 "include/linux/pci.h"
__inline static struct pci_dev *pci_get_bus_and_slot(unsigned int bus , unsigned int devfn ) 
{ 
  struct pci_dev *tmp ;

  {
#line 852
  tmp = pci_get_domain_bus_and_slot(0, bus, devfn);
#line 852
  return (tmp);
}
}
#line 857
extern int pci_bus_read_config_byte(struct pci_bus * , unsigned int  , int  , u8 * ) ;
#line 881 "include/linux/pci.h"
__inline static int pci_read_config_byte(struct pci_dev  const  *dev , int where ,
                                         u8 *val ) 
{ 
  int tmp ;

  {
#line 883
  tmp = pci_bus_read_config_byte(dev->bus, dev->devfn, where, val);
#line 883
  return (tmp);
}
}
#line 949
extern int pci_enable_device(struct pci_dev * ) ;
#line 966
extern void pci_disable_device(struct pci_dev * ) ;
#line 969
extern void pci_set_master(struct pci_dev * ) ;
#line 978
extern void pci_intx(struct pci_dev * , int  ) ;
#line 1024
extern int pci_save_state(struct pci_dev * ) ;
#line 1025
extern void pci_restore_state(struct pci_dev * ) ;
#line 1038
extern int pci_set_power_state(struct pci_dev * , pci_power_t  ) ;
#line 1039
extern pci_power_t pci_choose_state(struct pci_dev * , pm_message_t  ) ;
#line 1042
extern int __pci_enable_wake(struct pci_dev * , pci_power_t  , bool  , bool  ) ;
#line 1051 "include/linux/pci.h"
__inline static int pci_enable_wake(struct pci_dev *dev , pci_power_t state , bool enable ) 
{ 
  int tmp ;

  {
#line 1054
  tmp = __pci_enable_wake(dev, state, 0, (int )enable);
#line 1054
  return (tmp);
}
}
#line 1092
extern int pci_request_regions(struct pci_dev * , char const   * ) ;
#line 1094
extern void pci_release_regions(struct pci_dev * ) ;
#line 1140
extern int __pci_register_driver(struct pci_driver * , struct module * , char const   * ) ;
#line 1144
int ldv___pci_register_driver_12(struct pci_driver *ldv_func_arg1 , struct module *ldv_func_arg2 ,
                                 char const   *ldv_func_arg3 ) ;
#line 1153
extern void pci_unregister_driver(struct pci_driver * ) ;
#line 1156
void ldv_pci_unregister_driver_13(struct pci_driver *ldv_func_arg1 ) ;
#line 1209
extern void pci_disable_msi(struct pci_dev * ) ;
#line 1216
extern int pci_enable_msi_range(struct pci_dev * , int  , int  ) ;
#line 1217 "include/linux/pci.h"
__inline static int pci_enable_msi_exact(struct pci_dev *dev , int nvec ) 
{ 
  int rc ;
  int tmp ;

  {
#line 1219
  tmp = pci_enable_msi_range(dev, nvec, nvec);
#line 1219
  rc = tmp;
#line 1220
  if (rc < 0) {
#line 1221
    return (rc);
  } else {

  }
#line 1222
  return (0);
}
}
#line 131 "./arch/x86/include/asm/dma-mapping.h"
extern void *dma_alloc_attrs(struct device * , size_t  , dma_addr_t * , gfp_t  , struct dma_attrs * ) ;
#line 136
extern void dma_free_attrs(struct device * , size_t  , void * , dma_addr_t  , struct dma_attrs * ) ;
#line 1468 "include/linux/pci.h"
__inline static void *pci_get_drvdata(struct pci_dev *pdev ) 
{ 
  void *tmp ;

  {
#line 1470
  tmp = dev_get_drvdata((struct device  const  *)(& pdev->dev));
#line 1470
  return (tmp);
}
}
#line 1473 "include/linux/pci.h"
__inline static void pci_set_drvdata(struct pci_dev *pdev , void *data ) 
{ 


  {
#line 1475
  dev_set_drvdata(& pdev->dev, data);
#line 1476
  return;
}
}
#line 789 "include/scsi/scsi_host.h"
extern struct Scsi_Host *scsi_host_alloc(struct scsi_host_template * , int  ) ;
#line 792
struct Scsi_Host *ldv_scsi_host_alloc_11(struct scsi_host_template *sht , int privsize ) ;
#line 794
extern int scsi_add_host_with_dma(struct Scsi_Host * , struct device * , struct device * ) ;
#line 799
int ldv_scsi_add_host_with_dma_5(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 801
extern void scsi_scan_host(struct Scsi_Host * ) ;
#line 803
extern void scsi_remove_host(struct Scsi_Host * ) ;
#line 806
void ldv_scsi_remove_host_10(struct Scsi_Host *shost ) ;
#line 809
extern void scsi_host_put(struct Scsi_Host * ) ;
#line 812
extern void scsi_cmd_get_serial(struct Scsi_Host * , struct scsi_cmnd * ) ;
#line 814 "include/scsi/scsi_host.h"
__inline static int scsi_add_host(struct Scsi_Host *host , struct device *dev ) 
{ 
  int tmp ;

  {
#line 817
  tmp = ldv_scsi_add_host_with_dma_5(host, dev, dev);
#line 817
  return (tmp);
}
}
#line 137 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
__inline static struct Scsi_Host *rtsx_to_host(struct rtsx_dev *dev ) 
{ 
  unsigned long const   (*__mptr)[0U] ;

  {
#line 139
  __mptr = (unsigned long const   *)dev;
#line 139
  return ((struct Scsi_Host *)__mptr + 0xfffffffffffff118UL);
}
}
#line 141 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
__inline static struct rtsx_dev *host_to_rtsx(struct Scsi_Host *host ) 
{ 


  {
#line 143
  return ((struct rtsx_dev *)(& host->hostdata));
}
}
#line 179
int rtsx_read_pci_cfg_byte(u8 bus , u8 dev , u8 func , u8 offset , u8 *val ) ;
#line 958 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
int rtsx_init_chip(struct rtsx_chip *chip ) ;
#line 959
void rtsx_release_chip(struct rtsx_chip *chip ) ;
#line 960
void rtsx_polling_func(struct rtsx_chip *chip ) ;
#line 963
int rtsx_write_register(struct rtsx_chip *chip , u16 addr , u8 mask , u8 data ) ;
#line 981
int rtsx_pre_handle_interrupt(struct rtsx_chip *chip ) ;
#line 984
void rtsx_do_before_power_down(struct rtsx_chip *chip , int pm_stat ) ;
#line 39 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_transport.h"
void rtsx_invoke_transport(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 136 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_scsi.h"
void scsi_show_command(struct rtsx_chip *chip ) ;
#line 201 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/ms.h"
void mspro_polling_format_status(struct rtsx_chip *chip ) ;
#line 36 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static unsigned int delay_use  =    1U;
#line 40 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int ss_en  ;
#line 44 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int ss_interval  =    50;
#line 48 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int auto_delink_en  ;
#line 52 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static unsigned char aspm_l0s_l1_en  ;
#line 56 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int msi_en  ;
#line 60
static irqreturn_t rtsx_interrupt(int irq , void *dev_id ) ;
#line 66 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static char const   *host_info(struct Scsi_Host *host ) 
{ 


  {
#line 68
  return ("SCSI emulation for PCI-Express Mass Storage devices");
}
}
#line 71 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int slave_alloc(struct scsi_device *sdev ) 
{ 


  {
#line 78
  sdev->inquiry_len = 36U;
#line 79
  return (0);
}
}
#line 82 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int slave_configure(struct scsi_device *sdev ) 
{ 
  char tmp ;

  {
#line 92
  blk_queue_dma_alignment(sdev->request_queue, 511);
#line 108
  if ((int )((signed char )sdev->scsi_level) <= 2) {
#line 109
    tmp = 3;
#line 109
    (sdev->sdev_target)->scsi_level = tmp;
#line 109
    sdev->scsi_level = tmp;
  } else {

  }
#line 111
  return (0);
}
}
#line 126 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int queuecommand_lck(struct scsi_cmnd *srb , void (*done)(struct scsi_cmnd * ) ) 
{ 
  struct rtsx_dev *dev ;
  struct rtsx_dev *tmp ;
  struct rtsx_chip *chip ;

  {
#line 129
  tmp = host_to_rtsx((srb->device)->host);
#line 129
  dev = tmp;
#line 130
  chip = dev->chip;
#line 133
  if ((unsigned long )chip->srb != (unsigned long )((struct scsi_cmnd *)0)) {
#line 134
    dev_err((struct device  const  *)(& (dev->pci)->dev), "Error: chip->srb = %p\n",
            chip->srb);
#line 136
    return (4181);
  } else {

  }
#line 140
  if ((unsigned int )chip->rtsx_stat == 7U) {
#line 141
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "Fail command during disconnect\n");
#line 142
    srb->result = 65536;
#line 143
    (*done)(srb);
#line 144
    return (0);
  } else {

  }
#line 148
  srb->scsi_done = done;
#line 149
  chip->srb = srb;
#line 150
  complete(& dev->cmnd_ready);
#line 152
  return (0);
}
}
#line 155 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int queuecommand(struct Scsi_Host *shost , struct scsi_cmnd *cmd ) 
{ 
  unsigned long irq_flags ;
  int rc ;
  raw_spinlock_t *tmp ;

  {
#line 155
  tmp = spinlock_check(shost->host_lock);
#line 155
  irq_flags = _raw_spin_lock_irqsave(tmp);
#line 155
  scsi_cmd_get_serial(shost, cmd);
#line 155
  rc = queuecommand_lck(cmd, cmd->scsi_done);
#line 155
  spin_unlock_irqrestore(shost->host_lock, irq_flags);
#line 155
  return (rc);
}
}
#line 162 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int command_abort(struct scsi_cmnd *srb ) 
{ 
  struct Scsi_Host *host ;
  struct rtsx_dev *dev ;
  struct rtsx_dev *tmp ;
  struct rtsx_chip *chip ;

  {
#line 164
  host = (srb->device)->host;
#line 165
  tmp = host_to_rtsx(host);
#line 165
  dev = tmp;
#line 166
  chip = dev->chip;
#line 168
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s called\n", "command_abort");
#line 170
  spin_lock_irq(host->host_lock);
#line 173
  if ((unsigned long )chip->srb != (unsigned long )srb) {
#line 174
    spin_unlock_irq(host->host_lock);
#line 175
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "-- nothing to abort\n");
#line 176
    return (8195);
  } else {

  }
#line 179
  chip->idle_counter = 0;
#line 179
  chip->rtsx_stat = 6;
#line 181
  spin_unlock_irq(host->host_lock);
#line 184
  wait_for_completion(& dev->notify);
#line 186
  return (8194);
}
}
#line 191 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int device_reset(struct scsi_cmnd *srb ) 
{ 
  int result ;
  struct rtsx_dev *dev ;
  struct rtsx_dev *tmp ;

  {
#line 193
  result = 0;
#line 194
  tmp = host_to_rtsx((srb->device)->host);
#line 194
  dev = tmp;
#line 196
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s called\n", "device_reset");
#line 198
  return (result < 0 ? 8195 : 8194);
}
}
#line 202 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int bus_reset(struct scsi_cmnd *srb ) 
{ 
  int result ;
  struct rtsx_dev *dev ;
  struct rtsx_dev *tmp ;

  {
#line 204
  result = 0;
#line 205
  tmp = host_to_rtsx((srb->device)->host);
#line 205
  dev = tmp;
#line 207
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s called\n", "bus_reset");
#line 209
  return (result < 0 ? 8195 : 8194);
}
}
#line 217 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static struct scsi_host_template rtsx_host_template  = 
#line 217
     {& __this_module, "rts5208", 0, 0, & host_info, 0, 0, & queuecommand, & command_abort,
    & device_reset, 0, & bus_reset, 0, & slave_alloc, & slave_configure, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, "rts5208", 0, 1, -1, 128U, (unsigned short)0, 240U,
    0UL, (short)0, (unsigned char)0, 0, (unsigned char)0, (unsigned char)0, (unsigned char)0,
    (unsigned char)0, 1U, 1U, 1U, (unsigned char)0, (unsigned char)0, 0U, 0, 0, {0,
                                                                                 0},
    0ULL, 0U, 0, (_Bool)0};
#line 263 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_acquire_irq(struct rtsx_dev *dev ) 
{ 
  struct rtsx_chip *chip ;
  int tmp ;

  {
#line 265
  chip = dev->chip;
#line 267
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s: chip->msi_en = %d, pci->irq = %d\n",
            "rtsx_acquire_irq", chip->msi_en, (dev->pci)->irq);
#line 270
  tmp = ldv_request_irq_6((dev->pci)->irq, & rtsx_interrupt, chip->msi_en != 0 ? 0UL : 128UL,
                          "rts5208", (void *)dev);
#line 270
  if (tmp != 0) {
#line 273
    dev_err((struct device  const  *)(& (dev->pci)->dev), "rtsx: unable to grab IRQ %d, disabling device\n",
            (dev->pci)->irq);
#line 276
    return (-1);
  } else {

  }
#line 279
  dev->irq = (int )(dev->pci)->irq;
#line 280
  pci_intx(dev->pci, chip->msi_en == 0);
#line 282
  return (0);
}
}
#line 286 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
int rtsx_read_pci_cfg_byte(u8 bus , u8 dev , u8 func , u8 offset , u8 *val ) 
{ 
  struct pci_dev *pdev ;
  u8 data ;
  u8 devfn ;

  {
#line 290
  devfn = (u8 )((int )((signed char )((int )dev << 3)) | (int )((signed char )func));
#line 292
  pdev = pci_get_bus_and_slot((unsigned int )bus, (unsigned int )devfn);
#line 293
  if ((unsigned long )pdev == (unsigned long )((struct pci_dev *)0)) {
#line 294
    return (-1);
  } else {

  }
#line 296
  pci_read_config_byte((struct pci_dev  const  *)pdev, (int )offset, & data);
#line 297
  if ((unsigned long )val != (unsigned long )((u8 *)0U)) {
#line 298
    *val = data;
  } else {

  }
#line 300
  return (0);
}
}
#line 307 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_suspend(struct pci_dev *pci , pm_message_t state ) 
{ 
  struct rtsx_dev *dev ;
  void *tmp ;
  struct rtsx_chip *chip ;
  pci_power_t tmp___0 ;
  pci_power_t tmp___1 ;

  {
#line 309
  tmp = pci_get_drvdata(pci);
#line 309
  dev = (struct rtsx_dev *)tmp;
#line 312
  if ((unsigned long )dev == (unsigned long )((struct rtsx_dev *)0)) {
#line 313
    return (0);
  } else {

  }
#line 316
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 318
  chip = dev->chip;
#line 320
  rtsx_do_before_power_down(chip, 3);
#line 322
  if (dev->irq >= 0) {
#line 323
    synchronize_irq((unsigned int )dev->irq);
#line 324
    ldv_free_irq_7((unsigned int )dev->irq, (void *)dev);
#line 325
    dev->irq = -1;
  } else {

  }
#line 328
  if (chip->msi_en != 0) {
#line 329
    pci_disable_msi(pci);
  } else {

  }
#line 331
  pci_save_state(pci);
#line 332
  tmp___0 = pci_choose_state(pci, state);
#line 332
  pci_enable_wake(pci, tmp___0, 1);
#line 333
  pci_disable_device(pci);
#line 334
  tmp___1 = pci_choose_state(pci, state);
#line 334
  pci_set_power_state(pci, tmp___1);
#line 337
  mutex_unlock(& dev->dev_mutex);
#line 339
  return (0);
}
}
#line 342 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_resume(struct pci_dev *pci ) 
{ 
  struct rtsx_dev *dev ;
  void *tmp ;
  struct rtsx_chip *chip ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 344
  tmp = pci_get_drvdata(pci);
#line 344
  dev = (struct rtsx_dev *)tmp;
#line 347
  if ((unsigned long )dev == (unsigned long )((struct rtsx_dev *)0)) {
#line 348
    return (0);
  } else {

  }
#line 350
  chip = dev->chip;
#line 353
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 355
  pci_set_power_state(pci, 0);
#line 356
  pci_restore_state(pci);
#line 357
  tmp___0 = pci_enable_device(pci);
#line 357
  if (tmp___0 < 0) {
#line 358
    dev_err((struct device  const  *)(& (dev->pci)->dev), "%s: pci_enable_device failed, disabling device\n",
            (char *)"rts5208");
#line 362
    mutex_unlock(& dev->dev_mutex);
#line 363
    return (-5);
  } else {

  }
#line 365
  pci_set_master(pci);
#line 367
  if (chip->msi_en != 0) {
#line 368
    tmp___1 = pci_enable_msi_exact(pci, 1);
#line 368
    if (tmp___1 < 0) {
#line 369
      chip->msi_en = 0;
    } else {

    }
  } else {

  }
#line 372
  tmp___2 = rtsx_acquire_irq(dev);
#line 372
  if (tmp___2 < 0) {
#line 374
    mutex_unlock(& dev->dev_mutex);
#line 375
    return (-5);
  } else {

  }
#line 378
  rtsx_write_register(chip, 65120, 3, 0);
#line 379
  rtsx_init_chip(chip);
#line 382
  mutex_unlock(& dev->dev_mutex);
#line 384
  return (0);
}
}
#line 388 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void rtsx_shutdown(struct pci_dev *pci ) 
{ 
  struct rtsx_dev *dev ;
  void *tmp ;
  struct rtsx_chip *chip ;

  {
#line 390
  tmp = pci_get_drvdata(pci);
#line 390
  dev = (struct rtsx_dev *)tmp;
#line 393
  if ((unsigned long )dev == (unsigned long )((struct rtsx_dev *)0)) {
#line 394
    return;
  } else {

  }
#line 396
  chip = dev->chip;
#line 398
  rtsx_do_before_power_down(chip, 1);
#line 400
  if (dev->irq >= 0) {
#line 401
    synchronize_irq((unsigned int )dev->irq);
#line 402
    ldv_free_irq_8((unsigned int )dev->irq, (void *)dev);
#line 403
    dev->irq = -1;
  } else {

  }
#line 406
  if (chip->msi_en != 0) {
#line 407
    pci_disable_msi(pci);
  } else {

  }
#line 409
  pci_disable_device(pci);
#line 410
  return;
}
}
#line 412 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_control_thread(void *__dev ) 
{ 
  struct rtsx_dev *dev ;
  struct rtsx_chip *chip ;
  struct Scsi_Host *host ;
  struct Scsi_Host *tmp ;
  int tmp___0 ;

  {
#line 414
  dev = (struct rtsx_dev *)__dev;
#line 415
  chip = dev->chip;
#line 416
  tmp = rtsx_to_host(dev);
#line 416
  host = tmp;
  ldv_38500: 
#line 419
  tmp___0 = wait_for_completion_interruptible(& dev->cmnd_ready);
#line 419
  if (tmp___0 != 0) {
#line 420
    goto ldv_38498;
  } else {

  }
#line 423
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 426
  if ((unsigned int )chip->rtsx_stat == 7U) {
#line 427
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "-- rtsx-control exiting\n");
#line 428
    mutex_unlock(& dev->dev_mutex);
#line 429
    goto ldv_38498;
  } else {

  }
#line 433
  spin_lock_irq(host->host_lock);
#line 436
  if ((unsigned int )chip->rtsx_stat == 6U) {
#line 437
    (chip->srb)->result = 327680;
#line 438
    goto SkipForAbort;
  } else {

  }
#line 441
  spin_unlock_irq(host->host_lock);
#line 446
  if ((unsigned int )(chip->srb)->sc_data_direction == 0U) {
#line 447
    dev_err((struct device  const  *)(& (dev->pci)->dev), "UNKNOWN data direction\n");
#line 448
    (chip->srb)->result = 458752;
  } else
#line 454
  if (((chip->srb)->device)->id != 0U) {
#line 455
    dev_err((struct device  const  *)(& (dev->pci)->dev), "Bad target number (%d:%d)\n",
            ((chip->srb)->device)->id, (int )((unsigned char )((chip->srb)->device)->lun));
#line 458
    (chip->srb)->result = 262144;
  } else
#line 461
  if (((chip->srb)->device)->lun > (u64 )chip->max_lun) {
#line 462
    dev_err((struct device  const  *)(& (dev->pci)->dev), "Bad LUN (%d:%d)\n", ((chip->srb)->device)->id,
            (int )((unsigned char )((chip->srb)->device)->lun));
#line 465
    (chip->srb)->result = 262144;
  } else {
#line 470
    scsi_show_command(chip);
#line 471
    rtsx_invoke_transport(chip->srb, chip);
  }
#line 475
  spin_lock_irq(host->host_lock);
#line 478
  if ((unsigned long )chip->srb == (unsigned long )((struct scsi_cmnd *)0)) {

  } else
#line 482
  if ((chip->srb)->result != 327680) {
#line 483
    (*((chip->srb)->scsi_done))(chip->srb);
  } else {
    SkipForAbort: 
#line 486
    dev_err((struct device  const  *)(& (dev->pci)->dev), "scsi command aborted\n");
  }
#line 489
  if ((unsigned int )chip->rtsx_stat == 6U) {
#line 490
    complete(& dev->notify);
#line 492
    chip->rtsx_stat = 1;
  } else {

  }
#line 496
  chip->srb = (struct scsi_cmnd *)0;
#line 497
  spin_unlock_irq(host->host_lock);
#line 500
  mutex_unlock(& dev->dev_mutex);
#line 501
  goto ldv_38500;
  ldv_38498: 
#line 517
  complete_and_exit(& dev->control_exit, 0L);
#line 518
  return (0);
}
}
#line 521 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_polling_thread(void *__dev ) 
{ 
  struct rtsx_dev *dev ;
  struct rtsx_chip *chip ;
  struct sd_info *sd_card ;
  struct xd_info *xd_card ;
  struct ms_info *ms_card ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  unsigned long tmp___9 ;

  {
#line 523
  dev = (struct rtsx_dev *)__dev;
#line 524
  chip = dev->chip;
#line 525
  sd_card = & chip->sd_card;
#line 526
  xd_card = & chip->xd_card;
#line 527
  ms_card = & chip->ms_card;
#line 529
  sd_card->cleanup_counter = 0;
#line 530
  xd_card->cleanup_counter = 0;
#line 531
  ms_card->cleanup_counter = 0;
#line 534
  tmp = get_current();
#line 534
  tmp->task_state_change = 0UL;
#line 534
  __ret = 1L;
#line 534
  switch (8UL) {
  case 1UL: 
#line 534
  tmp___0 = get_current();
#line 534
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 534
  goto ldv_38511;
  case 2UL: 
#line 534
  tmp___1 = get_current();
#line 534
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 534
  goto ldv_38511;
  case 4UL: 
#line 534
  tmp___2 = get_current();
#line 534
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 534
  goto ldv_38511;
  case 8UL: 
#line 534
  tmp___3 = get_current();
#line 534
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 534
  goto ldv_38511;
  default: 
#line 534
  __xchg_wrong_size();
  }
  ldv_38511: 
#line 534
  schedule_timeout((long )((delay_use * 250000U + 1250000U) / 1000U));
  ldv_38526: 
#line 538
  tmp___4 = get_current();
#line 538
  tmp___4->task_state_change = 0UL;
#line 538
  __ret___0 = 1L;
#line 538
  switch (8UL) {
  case 1UL: 
#line 538
  tmp___5 = get_current();
#line 538
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 538
  goto ldv_38519;
  case 2UL: 
#line 538
  tmp___6 = get_current();
#line 538
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 538
  goto ldv_38519;
  case 4UL: 
#line 538
  tmp___7 = get_current();
#line 538
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                       "cc");
#line 538
  goto ldv_38519;
  case 8UL: 
#line 538
  tmp___8 = get_current();
#line 538
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 538
  goto ldv_38519;
  default: 
#line 538
  __xchg_wrong_size();
  }
  ldv_38519: 
#line 539
  tmp___9 = msecs_to_jiffies(30U);
#line 539
  schedule_timeout((long )tmp___9);
#line 542
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 545
  if ((unsigned int )chip->rtsx_stat == 7U) {
#line 546
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "-- rtsx-polling exiting\n");
#line 547
    mutex_unlock(& dev->dev_mutex);
#line 548
    goto ldv_38525;
  } else {

  }
#line 551
  mutex_unlock(& dev->dev_mutex);
#line 553
  mspro_polling_format_status(chip);
#line 556
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 558
  rtsx_polling_func(chip);
#line 561
  mutex_unlock(& dev->dev_mutex);
#line 562
  goto ldv_38526;
  ldv_38525: 
#line 564
  complete_and_exit(& dev->polling_exit, 0L);
#line 565
  return (0);
}
}
#line 570 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static irqreturn_t rtsx_interrupt(int irq , void *dev_id ) 
{ 
  struct rtsx_dev *dev ;
  struct rtsx_chip *chip ;
  int retval ;
  u32 status ;

  {
#line 572
  dev = (struct rtsx_dev *)dev_id;
#line 577
  if ((unsigned long )dev != (unsigned long )((struct rtsx_dev *)0)) {
#line 578
    chip = dev->chip;
  } else {
#line 580
    return (0);
  }
#line 582
  if ((unsigned long )chip == (unsigned long )((struct rtsx_chip *)0)) {
#line 583
    return (0);
  } else {

  }
#line 585
  spin_lock(& dev->reg_lock);
#line 587
  retval = rtsx_pre_handle_interrupt(chip);
#line 588
  if (retval == 1) {
#line 589
    spin_unlock(& dev->reg_lock);
#line 590
    if (chip->int_reg == 4294967295U) {
#line 591
      return (1);
    } else {

    }
#line 592
    return (0);
  } else {

  }
#line 595
  status = chip->int_reg;
#line 597
  if (dev->check_card_cd != 0U) {
#line 598
    if ((dev->check_card_cd & status) == 0U) {
#line 600
      dev->trans_result = 2;
#line 601
      if ((unsigned long )dev->done != (unsigned long )((struct completion *)0)) {
#line 602
        complete(dev->done);
      } else {

      }
#line 603
      goto Exit;
    } else {

    }
  } else {

  }
#line 607
  if ((status & 1895825408U) != 0U) {
#line 608
    if ((status & 285212672U) != 0U) {
#line 609
      if ((status & 16777216U) != 0U) {
#line 610
        chip->rtsx_flag = (u8 )((unsigned int )chip->rtsx_flag | 1U);
      } else {

      }
#line 611
      dev->trans_result = 2;
#line 612
      if ((unsigned long )dev->done != (unsigned long )((struct completion *)0)) {
#line 613
        complete(dev->done);
      } else {

      }
    } else
#line 614
    if ((status & 536870912U) != 0U) {
#line 615
      dev->trans_result = 1;
#line 616
      if ((unsigned long )dev->done != (unsigned long )((struct completion *)0)) {
#line 617
        complete(dev->done);
      } else {

      }
    } else
#line 618
    if ((status & 1073741824U) != 0U) {
#line 619
      dev->trans_result = 0;
#line 620
      if ((unsigned long )dev->done != (unsigned long )((struct completion *)0) && (int )((signed char )dev->trans_state) == 3) {
#line 621
        complete(dev->done);
      } else {

      }
    } else {

    }
  } else {

  }
  Exit: 
#line 626
  spin_unlock(& dev->reg_lock);
#line 627
  return (1);
}
}
#line 632 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void rtsx_release_resources(struct rtsx_dev *dev ) 
{ 
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 634
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "-- %s\n", "rtsx_release_resources");
#line 640
  _dev_info((struct device  const  *)(& (dev->pci)->dev), "-- sending exit command to thread\n");
#line 641
  complete(& dev->cmnd_ready);
#line 642
  if ((unsigned long )dev->ctl_thread != (unsigned long )((struct task_struct *)0)) {
#line 643
    wait_for_completion(& dev->control_exit);
  } else {

  }
#line 644
  if ((unsigned long )dev->polling_thread != (unsigned long )((struct task_struct *)0)) {
#line 645
    wait_for_completion(& dev->polling_exit);
  } else {

  }
#line 647
  tmp = get_current();
#line 647
  tmp->task_state_change = 0UL;
#line 647
  __ret = 1L;
#line 647
  switch (8UL) {
  case 1UL: 
#line 647
  tmp___0 = get_current();
#line 647
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 647
  goto ldv_38542;
  case 2UL: 
#line 647
  tmp___1 = get_current();
#line 647
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 647
  goto ldv_38542;
  case 4UL: 
#line 647
  tmp___2 = get_current();
#line 647
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 647
  goto ldv_38542;
  case 8UL: 
#line 647
  tmp___3 = get_current();
#line 647
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 647
  goto ldv_38542;
  default: 
#line 647
  __xchg_wrong_size();
  }
  ldv_38542: 
#line 647
  schedule_timeout(50L);
#line 649
  if ((unsigned long )dev->rtsx_resv_buf != (unsigned long )((void *)0)) {
#line 650
    dma_free_attrs(& (dev->pci)->dev, 4096UL, dev->rtsx_resv_buf, dev->rtsx_resv_buf_addr,
                   (struct dma_attrs *)0);
#line 652
    (dev->chip)->host_cmds_ptr = (void *)0;
#line 653
    (dev->chip)->host_sg_tbl_ptr = (void *)0;
  } else {

  }
#line 656
  if (dev->irq > 0) {
#line 657
    ldv_free_irq_9((unsigned int )dev->irq, (void *)dev);
  } else {

  }
#line 658
  if ((dev->chip)->msi_en != 0) {
#line 659
    pci_disable_msi(dev->pci);
  } else {

  }
#line 660
  if ((unsigned long )dev->remap_addr != (unsigned long )((void *)0)) {
#line 661
    iounmap((void volatile   *)dev->remap_addr);
  } else {

  }
#line 663
  pci_disable_device(dev->pci);
#line 664
  pci_release_regions(dev->pci);
#line 666
  rtsx_release_chip(dev->chip);
#line 667
  kfree((void const   *)dev->chip);
#line 668
  return;
}
}
#line 672 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void quiesce_and_remove_host(struct rtsx_dev *dev ) 
{ 
  struct Scsi_Host *host ;
  struct Scsi_Host *tmp ;
  struct rtsx_chip *chip ;
  struct task_struct *tmp___0 ;
  long volatile   __ret ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;

  {
#line 674
  tmp = rtsx_to_host(dev);
#line 674
  host = tmp;
#line 675
  chip = dev->chip;
#line 679
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 680
  spin_lock_irq(host->host_lock);
#line 681
  chip->idle_counter = 0;
#line 681
  chip->rtsx_stat = 7;
#line 682
  spin_unlock_irq(host->host_lock);
#line 683
  mutex_unlock(& dev->dev_mutex);
#line 684
  __wake_up(& dev->delay_wait, 3U, 1, (void *)0);
#line 685
  wait_for_completion(& dev->scanning_done);
#line 688
  tmp___0 = get_current();
#line 688
  tmp___0->task_state_change = 0UL;
#line 688
  __ret = 1L;
#line 688
  switch (8UL) {
  case 1UL: 
#line 688
  tmp___1 = get_current();
#line 688
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 688
  goto ldv_38555;
  case 2UL: 
#line 688
  tmp___2 = get_current();
#line 688
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 688
  goto ldv_38555;
  case 4UL: 
#line 688
  tmp___3 = get_current();
#line 688
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 688
  goto ldv_38555;
  case 8UL: 
#line 688
  tmp___4 = get_current();
#line 688
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                       "cc");
#line 688
  goto ldv_38555;
  default: 
#line 688
  __xchg_wrong_size();
  }
  ldv_38555: 
#line 688
  schedule_timeout(25L);
#line 693
  mutex_lock_nested(& dev->dev_mutex, 0U);
#line 694
  if ((unsigned long )chip->srb != (unsigned long )((struct scsi_cmnd *)0)) {
#line 695
    (chip->srb)->result = 65536;
#line 696
    spin_lock_irq(host->host_lock);
#line 697
    (*((chip->srb)->scsi_done))((dev->chip)->srb);
#line 698
    chip->srb = (struct scsi_cmnd *)0;
#line 699
    spin_unlock_irq(host->host_lock);
  } else {

  }
#line 701
  mutex_unlock(& dev->dev_mutex);
#line 704
  ldv_scsi_remove_host_10(host);
#line 705
  return;
}
}
#line 708 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void release_everything(struct rtsx_dev *dev ) 
{ 
  struct Scsi_Host *tmp ;

  {
#line 710
  rtsx_release_resources(dev);
#line 714
  tmp = rtsx_to_host(dev);
#line 714
  scsi_host_put(tmp);
#line 715
  return;
}
}
#line 718 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_scan_thread(void *__dev ) 
{ 
  struct rtsx_dev *dev ;
  struct rtsx_chip *chip ;
  long __ret ;
  wait_queue_t __wait ;
  long __ret___0 ;
  long __int ;
  long tmp ;
  bool __cond ;
  bool __cond___0 ;
  struct Scsi_Host *tmp___0 ;

  {
#line 720
  dev = (struct rtsx_dev *)__dev;
#line 721
  chip = dev->chip;
#line 724
  if (delay_use != 0U) {
#line 725
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s: waiting for device to settle before scanning\n",
              (char *)"rts5208");
#line 728
    __ret = (long )(delay_use * 250U);
#line 728
    __might_sleep("/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c",
                  730, 0);
#line 728
    __cond___0 = (unsigned int )chip->rtsx_stat == 7U;
#line 728
    if ((int )__cond___0 && __ret == 0L) {
#line 728
      __ret = 1L;
    } else {

    }
#line 728
    if (((int )__cond___0 || __ret == 0L) == 0) {
#line 728
      __ret___0 = (long )(delay_use * 250U);
#line 728
      INIT_LIST_HEAD(& __wait.task_list);
#line 728
      __wait.flags = 0U;
      ldv_38579: 
#line 728
      tmp = prepare_to_wait_event(& dev->delay_wait, & __wait, 1);
#line 728
      __int = tmp;
#line 728
      __cond = (unsigned int )chip->rtsx_stat == 7U;
#line 728
      if ((int )__cond && __ret___0 == 0L) {
#line 728
        __ret___0 = 1L;
      } else {

      }
#line 728
      if (((int )__cond || __ret___0 == 0L) != 0) {
#line 728
        goto ldv_38578;
      } else {

      }
#line 728
      if (__int != 0L) {
#line 728
        __ret___0 = __int;
#line 728
        goto ldv_38578;
      } else {

      }
#line 728
      __ret___0 = schedule_timeout(__ret___0);
#line 728
      goto ldv_38579;
      ldv_38578: 
#line 728
      finish_wait(& dev->delay_wait, & __wait);
#line 728
      __ret = __ret___0;
    } else {

    }
  } else {

  }
#line 734
  if ((unsigned int )chip->rtsx_stat != 7U) {
#line 735
    tmp___0 = rtsx_to_host(dev);
#line 735
    scsi_scan_host(tmp___0);
#line 736
    _dev_info((struct device  const  *)(& (dev->pci)->dev), "%s: device scan complete\n",
              (char *)"rts5208");
  } else {

  }
#line 742
  complete_and_exit(& dev->scanning_done, 0L);
#line 743
  return (0);
}
}
#line 745 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void rtsx_init_options(struct rtsx_chip *chip ) 
{ 


  {
#line 747
  chip->vendor_id = ((chip->rtsx)->pci)->vendor;
#line 748
  chip->product_id = ((chip->rtsx)->pci)->device;
#line 749
  chip->adma_mode = 1;
#line 750
  chip->lun_mc = 0U;
#line 751
  chip->driver_first_load = 1;
#line 753
  chip->sdio_in_charge = 0;
#line 756
  chip->mspro_formatter_enable = 1;
#line 757
  chip->ignore_sd = 0;
#line 758
  chip->use_hw_setting = 0;
#line 759
  chip->lun_mode = 0U;
#line 760
  chip->auto_delink_en = auto_delink_en;
#line 761
  chip->ss_en = ss_en;
#line 762
  chip->ss_idle_period = ss_interval * 1000;
#line 763
  chip->remote_wakeup_en = 0;
#line 764
  chip->aspm_l0s_l1_en = aspm_l0s_l1_en;
#line 765
  chip->dynamic_aspm = 1;
#line 766
  chip->fpga_sd_sdr104_clk = 10;
#line 767
  chip->fpga_sd_ddr50_clk = 7;
#line 768
  chip->fpga_sd_sdr50_clk = 7;
#line 769
  chip->fpga_sd_hs_clk = 7;
#line 770
  chip->fpga_mmc_52m_clk = 6;
#line 771
  chip->fpga_ms_hg_clk = 6;
#line 772
  chip->fpga_ms_4bit_clk = 6;
#line 773
  chip->fpga_ms_1bit_clk = 3;
#line 774
  chip->asic_sd_sdr104_clk = 203;
#line 775
  chip->asic_sd_sdr50_clk = 98;
#line 776
  chip->asic_sd_ddr50_clk = 98;
#line 777
  chip->asic_sd_hs_clk = 98;
#line 778
  chip->asic_mmc_52m_clk = 98;
#line 779
  chip->asic_ms_hg_clk = 117;
#line 780
  chip->asic_ms_4bit_clk = 78;
#line 781
  chip->asic_ms_1bit_clk = 39;
#line 782
  chip->ssc_depth_sd_sdr104 = 2U;
#line 783
  chip->ssc_depth_sd_sdr50 = 2U;
#line 784
  chip->ssc_depth_sd_ddr50 = 3U;
#line 785
  chip->ssc_depth_sd_hs = 3U;
#line 786
  chip->ssc_depth_mmc_52m = 3U;
#line 787
  chip->ssc_depth_ms_hg = 3U;
#line 788
  chip->ssc_depth_ms_4bit = 4U;
#line 789
  chip->ssc_depth_low_speed = 4U;
#line 790
  chip->ssc_en = 1;
#line 791
  chip->sd_speed_prior = 17039875U;
#line 792
  chip->sd_current_prior = 66051U;
#line 793
  chip->sd_ctl = 74U;
#line 796
  chip->sd_ddr_tx_phase = 0;
#line 797
  chip->mmc_ddr_tx_phase = 1;
#line 798
  chip->sd_default_tx_phase = 15;
#line 799
  chip->sd_default_rx_phase = 15;
#line 800
  chip->pmos_pwr_on_interval = 200;
#line 801
  chip->sd_voltage_switch_delay = 1000;
#line 802
  chip->ms_power_class_en = 3U;
#line 804
  chip->sd_400mA_ocp_thd = 1U;
#line 805
  chip->sd_800mA_ocp_thd = 5U;
#line 806
  chip->ms_ocp_thd = 2U;
#line 808
  chip->card_drive_sel = 85U;
#line 809
  chip->sd30_drive_sel_1v8 = 3U;
#line 810
  chip->sd30_drive_sel_3v3 = 1U;
#line 812
  chip->do_delink_before_power_down = 1;
#line 813
  chip->auto_power_down = 1;
#line 814
  chip->polling_config = 0;
#line 816
  chip->force_clkreq_0 = 1;
#line 817
  chip->ft2_fast_mode = 0;
#line 819
  chip->sdio_retry_cnt = 1;
#line 821
  chip->xd_timeout = 2000;
#line 822
  chip->sd_timeout = 10000;
#line 823
  chip->ms_timeout = 2000;
#line 824
  chip->mspro_timeout = 15000;
#line 826
  chip->power_down_in_ss = 1;
#line 828
  chip->sdr104_en = 1;
#line 829
  chip->sdr50_en = 1;
#line 830
  chip->ddr50_en = 1;
#line 832
  chip->delink_stage1_step = 100;
#line 833
  chip->delink_stage2_step = 40;
#line 834
  chip->delink_stage3_step = 20;
#line 836
  chip->auto_delink_in_L1 = 1;
#line 837
  chip->blink_led = 1U;
#line 838
  chip->msi_en = msi_en;
#line 839
  chip->hp_watch_bios_hotplug = 0;
#line 840
  chip->max_payload = 0U;
#line 841
  chip->phy_voltage = 0U;
#line 843
  chip->support_ms_8bit = 1;
#line 844
  chip->s3_pwr_off_delay = 1000;
#line 845
  return;
}
}
#line 847 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_probe(struct pci_dev *pci , struct pci_device_id  const  *pci_id ) 
{ 
  struct Scsi_Host *host ;
  struct rtsx_dev *dev ;
  int err ;
  struct task_struct *th ;
  struct _ddebug descriptor ;
  long tmp ;
  void *tmp___0 ;
  struct lock_class_key __key ;
  struct lock_class_key __key___0 ;
  struct lock_class_key __key___1 ;
  int tmp___1 ;
  int tmp___2 ;
  struct task_struct *__k ;
  struct task_struct *tmp___3 ;
  bool tmp___4 ;
  int tmp___5 ;
  long tmp___6 ;
  bool tmp___7 ;
  struct task_struct *__k___0 ;
  struct task_struct *tmp___8 ;
  bool tmp___9 ;
  int tmp___10 ;
  long tmp___11 ;
  bool tmp___12 ;
  struct task_struct *__k___1 ;
  struct task_struct *tmp___13 ;
  bool tmp___14 ;
  int tmp___15 ;
  long tmp___16 ;
  bool tmp___17 ;

  {
#line 852
  err = 0;
#line 855
  descriptor.modname = "rts5208";
#line 855
  descriptor.function = "rtsx_probe";
#line 855
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c";
#line 855
  descriptor.format = "Realtek PCI-E card reader detected\n";
#line 855
  descriptor.lineno = 855U;
#line 855
  descriptor.flags = 0U;
#line 855
  tmp = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 855
  if (tmp != 0L) {
#line 855
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)(& pci->dev), "Realtek PCI-E card reader detected\n");
  } else {

  }
#line 857
  err = pci_enable_device(pci);
#line 858
  if (err < 0) {
#line 859
    dev_err((struct device  const  *)(& pci->dev), "PCI enable device failed!\n");
#line 860
    return (err);
  } else {

  }
#line 863
  err = pci_request_regions(pci, "rts5208");
#line 864
  if (err < 0) {
#line 865
    dev_err((struct device  const  *)(& pci->dev), "PCI request regions for %s failed!\n",
            (char *)"rts5208");
#line 867
    pci_disable_device(pci);
#line 868
    return (err);
  } else {

  }
#line 875
  host = ldv_scsi_host_alloc_11(& rtsx_host_template, 896);
#line 876
  if ((unsigned long )host == (unsigned long )((struct Scsi_Host *)0)) {
#line 877
    dev_err((struct device  const  *)(& pci->dev), "Unable to allocate the scsi host\n");
#line 878
    pci_release_regions(pci);
#line 879
    pci_disable_device(pci);
#line 880
    return (-12);
  } else {

  }
#line 883
  dev = host_to_rtsx(host);
#line 884
  memset((void *)dev, 0, 896UL);
#line 886
  tmp___0 = kzalloc(8712UL, 208U);
#line 886
  dev->chip = (struct rtsx_chip *)tmp___0;
#line 887
  if ((unsigned long )dev->chip == (unsigned long )((struct rtsx_chip *)0)) {
#line 888
    err = -12;
#line 889
    goto errout;
  } else {

  }
#line 892
  spinlock_check(& dev->reg_lock);
#line 892
  __raw_spin_lock_init(& dev->reg_lock.__annonCompField18.rlock, "&(&dev->reg_lock)->rlock",
                       & __key);
#line 893
  __mutex_init(& dev->dev_mutex, "&(dev->dev_mutex)", & __key___0);
#line 894
  init_completion(& dev->cmnd_ready);
#line 895
  init_completion(& dev->control_exit);
#line 896
  init_completion(& dev->polling_exit);
#line 897
  init_completion(& dev->notify);
#line 898
  init_completion(& dev->scanning_done);
#line 899
  __init_waitqueue_head(& dev->delay_wait, "&dev->delay_wait", & __key___1);
#line 901
  dev->pci = pci;
#line 902
  dev->irq = -1;
#line 904
  _dev_info((struct device  const  *)(& pci->dev), "Resource length: 0x%x\n", pci->resource[0].start != 0ULL || pci->resource[0].end != pci->resource[0].start ? (unsigned int )((pci->resource[0].end - pci->resource[0].start) + 1ULL) : 0U);
#line 906
  dev->addr = (unsigned long )pci->resource[0].start;
#line 907
  dev->remap_addr = ioremap_nocache((resource_size_t )dev->addr, pci->resource[0].start != 0ULL || pci->resource[0].end != pci->resource[0].start ? (unsigned long )((pci->resource[0].end - pci->resource[0].start) + 1ULL) : 0UL);
#line 908
  if ((unsigned long )dev->remap_addr == (unsigned long )((void *)0)) {
#line 909
    dev_err((struct device  const  *)(& pci->dev), "ioremap error\n");
#line 910
    err = -6;
#line 911
    goto errout;
  } else {

  }
#line 918
  _dev_info((struct device  const  *)(& pci->dev), "Original address: 0x%lx, remapped address: 0x%lx\n",
            dev->addr, (unsigned long )dev->remap_addr);
#line 921
  dev->rtsx_resv_buf = dma_alloc_attrs(& pci->dev, 4096UL, & dev->rtsx_resv_buf_addr,
                                       208U, (struct dma_attrs *)0);
#line 923
  if ((unsigned long )dev->rtsx_resv_buf == (unsigned long )((void *)0)) {
#line 924
    dev_err((struct device  const  *)(& pci->dev), "alloc dma buffer fail\n");
#line 925
    err = -6;
#line 926
    goto errout;
  } else {

  }
#line 928
  (dev->chip)->host_cmds_ptr = dev->rtsx_resv_buf;
#line 929
  (dev->chip)->host_cmds_addr = dev->rtsx_resv_buf_addr;
#line 930
  (dev->chip)->host_sg_tbl_ptr = dev->rtsx_resv_buf + 1024UL;
#line 931
  (dev->chip)->host_sg_tbl_addr = dev->rtsx_resv_buf_addr + 1024ULL;
#line 934
  (dev->chip)->rtsx = dev;
#line 936
  rtsx_init_options(dev->chip);
#line 938
  _dev_info((struct device  const  *)(& pci->dev), "pci->irq = %d\n", pci->irq);
#line 940
  if ((dev->chip)->msi_en != 0) {
#line 941
    tmp___1 = pci_enable_msi_exact(pci, 1);
#line 941
    if (tmp___1 < 0) {
#line 942
      (dev->chip)->msi_en = 0;
    } else {

    }
  } else {

  }
#line 945
  tmp___2 = rtsx_acquire_irq(dev);
#line 945
  if (tmp___2 < 0) {
#line 946
    err = -16;
#line 947
    goto errout;
  } else {

  }
#line 950
  pci_set_master(pci);
#line 951
  synchronize_irq((unsigned int )dev->irq);
#line 953
  rtsx_init_chip(dev->chip);
#line 957
  host->max_id = 1U;
#line 958
  host->max_lun = (u64 )(dev->chip)->max_lun;
#line 961
  tmp___3 = kthread_create_on_node(& rtsx_control_thread, (void *)dev, -1, "rts5208");
#line 961
  __k = tmp___3;
#line 961
  tmp___4 = IS_ERR((void const   *)__k);
#line 961
  if (tmp___4) {
#line 961
    tmp___5 = 0;
  } else {
#line 961
    tmp___5 = 1;
  }
#line 961
  if (tmp___5) {
#line 961
    wake_up_process(__k);
  } else {

  }
#line 961
  th = __k;
#line 962
  tmp___7 = IS_ERR((void const   *)th);
#line 962
  if ((int )tmp___7) {
#line 963
    dev_err((struct device  const  *)(& pci->dev), "Unable to start control thread\n");
#line 964
    tmp___6 = PTR_ERR((void const   *)th);
#line 964
    err = (int )tmp___6;
#line 965
    goto errout;
  } else {

  }
#line 967
  dev->ctl_thread = th;
#line 969
  err = scsi_add_host(host, & pci->dev);
#line 970
  if (err != 0) {
#line 971
    dev_err((struct device  const  *)(& pci->dev), "Unable to add the scsi host\n");
#line 972
    goto errout;
  } else {

  }
#line 976
  tmp___8 = kthread_create_on_node(& rtsx_scan_thread, (void *)dev, -1, "rtsx-scan");
#line 976
  __k___0 = tmp___8;
#line 976
  tmp___9 = IS_ERR((void const   *)__k___0);
#line 976
  if (tmp___9) {
#line 976
    tmp___10 = 0;
  } else {
#line 976
    tmp___10 = 1;
  }
#line 976
  if (tmp___10) {
#line 976
    wake_up_process(__k___0);
  } else {

  }
#line 976
  th = __k___0;
#line 977
  tmp___12 = IS_ERR((void const   *)th);
#line 977
  if ((int )tmp___12) {
#line 978
    dev_err((struct device  const  *)(& pci->dev), "Unable to start the device-scanning thread\n");
#line 979
    complete(& dev->scanning_done);
#line 980
    quiesce_and_remove_host(dev);
#line 981
    tmp___11 = PTR_ERR((void const   *)th);
#line 981
    err = (int )tmp___11;
#line 982
    goto errout;
  } else {

  }
#line 986
  tmp___13 = kthread_create_on_node(& rtsx_polling_thread, (void *)dev, -1, "rtsx-polling");
#line 986
  __k___1 = tmp___13;
#line 986
  tmp___14 = IS_ERR((void const   *)__k___1);
#line 986
  if (tmp___14) {
#line 986
    tmp___15 = 0;
  } else {
#line 986
    tmp___15 = 1;
  }
#line 986
  if (tmp___15) {
#line 986
    wake_up_process(__k___1);
  } else {

  }
#line 986
  th = __k___1;
#line 987
  tmp___17 = IS_ERR((void const   *)th);
#line 987
  if ((int )tmp___17) {
#line 988
    dev_err((struct device  const  *)(& pci->dev), "Unable to start the device-polling thread\n");
#line 989
    quiesce_and_remove_host(dev);
#line 990
    tmp___16 = PTR_ERR((void const   *)th);
#line 990
    err = (int )tmp___16;
#line 991
    goto errout;
  } else {

  }
#line 993
  dev->polling_thread = th;
#line 995
  pci_set_drvdata(pci, (void *)dev);
#line 997
  return (0);
  errout: 
#line 1001
  dev_err((struct device  const  *)(& pci->dev), "rtsx_probe() failed\n");
#line 1002
  release_everything(dev);
#line 1004
  return (err);
}
}
#line 1008 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void rtsx_remove(struct pci_dev *pci ) 
{ 
  struct rtsx_dev *dev ;
  void *tmp ;

  {
#line 1010
  tmp = pci_get_drvdata(pci);
#line 1010
  dev = (struct rtsx_dev *)tmp;
#line 1012
  _dev_info((struct device  const  *)(& pci->dev), "rtsx_remove() called\n");
#line 1014
  quiesce_and_remove_host(dev);
#line 1015
  release_everything(dev);
#line 1017
  pci_set_drvdata(pci, (void *)0);
#line 1018
  return;
}
}
#line 1021 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static struct pci_device_id  const  rtsx_ids[3U]  = {      {4332U, 21000U, 4294967295U, 4294967295U, 16711680U, 16711680U, 0UL}, 
        {4332U, 21128U, 4294967295U, 4294967295U, 16711680U, 16711680U, 0UL}, 
        {0U, 0U, 0U, 0U, 0U, 0U, 0UL}};
#line 1029 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
struct pci_device_id  const  __mod_pci__rtsx_ids_device_table[3U]  ;
#line 1032 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static struct pci_driver rtsx_driver  = 
#line 1032
     {{0, 0}, "rts5208", (struct pci_device_id  const  *)(& rtsx_ids), & rtsx_probe,
    & rtsx_remove, & rtsx_suspend, 0, 0, & rtsx_resume, & rtsx_shutdown, 0, 0, {0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                (_Bool)0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0,
                                                                                0},
    {{{{{{0}}, 0U, 0U, 0, {0, {0, 0}, 0, 0, 0UL}}}}, {0, 0}}};
#line 1044 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static int rtsx_driver_init(void) 
{ 
  int tmp ;

  {
#line 1044
  tmp = ldv___pci_register_driver_12(& rtsx_driver, & __this_module, "rts5208");
#line 1044
  return (tmp);
}
}
#line 1044 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.c"
static void rtsx_driver_exit(void) 
{ 


  {
#line 1044
  ldv_pci_unregister_driver_13(& rtsx_driver);
#line 1045
  return;
}
}
#line 52 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
extern int ldv_suspend_late_2(void) ;
#line 53
extern int ldv_resume_early_2(void) ;
#line 54 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_2  ;
#line 55 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_5  ;
#line 56 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_0  ;
#line 57 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_4  ;
#line 58
extern void ldv_initialize(void) ;
#line 59 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_1  ;
#line 60
void ldv_check_final_state(void) ;
#line 61 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_retval_3  ;
#line 64 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_irq_1(int state , int line , void *data ) 
{ 
  irqreturn_t irq_retval ;
  int tmp ;
  int tmp___0 ;

  {
#line 66
  tmp = __VERIFIER_nondet_int();
#line 66
  irq_retval = (irqreturn_t )tmp;
#line 68
  if (state != 0) {
#line 69
    tmp___0 = __VERIFIER_nondet_int();
#line 69
    switch (tmp___0) {
    case 0: ;
#line 71
    if (state == 1) {
#line 72
      LDV_IN_INTERRUPT = 2;
#line 73
      irq_retval = rtsx_interrupt(line, data);
#line 74
      LDV_IN_INTERRUPT = 1;
#line 75
      return (state);
    } else {

    }
#line 78
    goto ldv_38649;
    default: 
#line 79
    ldv_stop();
    }
    ldv_38649: ;
  } else {

  }
#line 82
  return (state);
}
}
#line 86 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void activate_suitable_irq_1(int line , void *data ) 
{ 


  {
#line 87
  if (ldv_irq_1_0 == 0) {
#line 88
    ldv_irq_line_1_0 = line;
#line 89
    ldv_irq_data_1_0 = data;
#line 90
    ldv_irq_1_0 = 1;
#line 91
    return;
  } else {

  }
#line 93
  if (ldv_irq_1_1 == 0) {
#line 94
    ldv_irq_line_1_1 = line;
#line 95
    ldv_irq_data_1_1 = data;
#line 96
    ldv_irq_1_1 = 1;
#line 97
    return;
  } else {

  }
#line 99
  if (ldv_irq_1_2 == 0) {
#line 100
    ldv_irq_line_1_2 = line;
#line 101
    ldv_irq_data_1_2 = data;
#line 102
    ldv_irq_1_2 = 1;
#line 103
    return;
  } else {

  }
#line 105
  if (ldv_irq_1_3 == 0) {
#line 106
    ldv_irq_line_1_3 = line;
#line 107
    ldv_irq_data_1_3 = data;
#line 108
    ldv_irq_1_3 = 1;
#line 109
    return;
  } else {

  }
#line 111
  return;
}
}
#line 115 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int reg_check_1(irqreturn_t (*handler)(int  , void * ) ) 
{ 


  {
#line 116
  if ((unsigned long )handler == (unsigned long )(& rtsx_interrupt)) {
#line 117
    return (1);
  } else {

  }
#line 119
  return (0);
}
}
#line 124 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_pci_driver_2(void) 
{ 
  void *tmp ;

  {
#line 125
  tmp = ldv_init_zalloc(2976UL);
#line 125
  rtsx_driver_group1 = (struct pci_dev *)tmp;
#line 126
  return;
}
}
#line 129 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void choose_interrupt_1(void) 
{ 
  int tmp ;

  {
#line 130
  tmp = __VERIFIER_nondet_int();
#line 130
  switch (tmp) {
  case 0: 
#line 132
  ldv_irq_1_0 = ldv_irq_1(ldv_irq_1_0, ldv_irq_line_1_0, ldv_irq_data_1_0);
#line 134
  goto ldv_38669;
  case 1: 
#line 136
  ldv_irq_1_0 = ldv_irq_1(ldv_irq_1_1, ldv_irq_line_1_1, ldv_irq_data_1_1);
#line 138
  goto ldv_38669;
  case 2: 
#line 140
  ldv_irq_1_0 = ldv_irq_1(ldv_irq_1_2, ldv_irq_line_1_2, ldv_irq_data_1_2);
#line 142
  goto ldv_38669;
  case 3: 
#line 144
  ldv_irq_1_0 = ldv_irq_1(ldv_irq_1_3, ldv_irq_line_1_3, ldv_irq_data_1_3);
#line 146
  goto ldv_38669;
  default: 
#line 147
  ldv_stop();
  }
  ldv_38669: ;
#line 149
  return;
}
}
#line 153 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_initialize_scsi_host_template_3(void) 
{ 
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
#line 154
  tmp = __VERIFIER_nondet_pointer();
#line 154
  rtsx_host_template_group0 = (struct scsi_cmnd *)tmp;
#line 155
  tmp___0 = ldv_init_zalloc(3816UL);
#line 155
  rtsx_host_template_group1 = (struct Scsi_Host *)tmp___0;
#line 156
  tmp___1 = __VERIFIER_nondet_pointer();
#line 156
  rtsx_host_template_group2 = (struct scsi_device *)tmp___1;
#line 157
  return;
}
}
#line 159 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void disable_suitable_irq_1(int line , void *data ) 
{ 


  {
#line 160
  if (ldv_irq_1_0 != 0 && line == ldv_irq_line_1_0) {
#line 161
    ldv_irq_1_0 = 0;
#line 162
    return;
  } else {

  }
#line 164
  if (ldv_irq_1_1 != 0 && line == ldv_irq_line_1_1) {
#line 165
    ldv_irq_1_1 = 0;
#line 166
    return;
  } else {

  }
#line 168
  if (ldv_irq_1_2 != 0 && line == ldv_irq_line_1_2) {
#line 169
    ldv_irq_1_2 = 0;
#line 170
    return;
  } else {

  }
#line 172
  if (ldv_irq_1_3 != 0 && line == ldv_irq_line_1_3) {
#line 173
    ldv_irq_1_3 = 0;
#line 174
    return;
  } else {

  }
#line 176
  return;
}
}
#line 187 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int main(void) 
{ 
  struct pci_device_id *ldvarg1 ;
  void *tmp ;
  pm_message_t ldvarg0 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
#line 190
  tmp = ldv_init_zalloc(32UL);
#line 190
  ldvarg1 = (struct pci_device_id *)tmp;
#line 188
  ldv_initialize();
#line 191
  ldv_memset((void *)(& ldvarg0), 0, 4UL);
#line 194
  ldv_state_variable_1 = 1;
#line 195
  ref_cnt = 0;
#line 196
  ldv_state_variable_0 = 1;
#line 197
  ldv_state_variable_3 = 0;
#line 198
  ldv_state_variable_2 = 0;
  ldv_38721: 
#line 200
  tmp___0 = __VERIFIER_nondet_int();
#line 200
  switch (tmp___0) {
  case 0: ;
#line 204
  if (ldv_state_variable_1 != 0) {
#line 205
    choose_interrupt_1();
  } else {

  }
#line 208
  goto ldv_38693;
  case 1: ;
#line 212
  if (ldv_state_variable_0 != 0) {
#line 213
    tmp___1 = __VERIFIER_nondet_int();
#line 213
    switch (tmp___1) {
    case 0: ;
#line 216
    if (ldv_state_variable_0 == 3 && ref_cnt == 0) {
#line 218
      rtsx_driver_exit();
#line 219
      ldv_state_variable_0 = 2;
#line 220
      goto ldv_final;
    } else {

    }
#line 223
    goto ldv_38697;
    case 1: ;
#line 226
    if (ldv_state_variable_0 == 1) {
#line 228
      ldv_retval_0 = rtsx_driver_init();
#line 230
      if (ldv_retval_0 == 0) {
#line 231
        ldv_state_variable_0 = 3;
      } else {

      }
#line 233
      if (ldv_retval_0 != 0) {
#line 234
        ldv_state_variable_0 = 2;
#line 235
        goto ldv_final;
      } else {

      }
    } else {

    }
#line 239
    goto ldv_38697;
    default: 
#line 240
    ldv_stop();
    }
    ldv_38697: ;
  } else {

  }
#line 244
  goto ldv_38693;
  case 2: ;
#line 248
  if (ldv_state_variable_3 != 0) {
#line 249
    tmp___2 = __VERIFIER_nondet_int();
#line 249
    switch (tmp___2) {
    case 0: ;
#line 252
    if (ldv_state_variable_3 == 1) {
#line 254
      slave_configure(rtsx_host_template_group2);
#line 256
      ldv_state_variable_3 = 1;
    } else {

    }
#line 259
    goto ldv_38702;
    case 1: ;
#line 262
    if (ldv_state_variable_3 == 1) {
#line 264
      command_abort(rtsx_host_template_group0);
#line 266
      ldv_state_variable_3 = 1;
    } else {

    }
#line 269
    goto ldv_38702;
    case 2: ;
#line 272
    if (ldv_state_variable_3 == 1) {
#line 274
      slave_alloc(rtsx_host_template_group2);
#line 276
      ldv_state_variable_3 = 1;
    } else {

    }
#line 279
    goto ldv_38702;
    case 3: ;
#line 282
    if (ldv_state_variable_3 == 1) {
#line 284
      queuecommand(rtsx_host_template_group1, rtsx_host_template_group0);
#line 286
      ldv_state_variable_3 = 1;
    } else {

    }
#line 289
    goto ldv_38702;
    case 4: ;
#line 292
    if (ldv_state_variable_3 == 1) {
#line 294
      bus_reset(rtsx_host_template_group0);
#line 296
      ldv_state_variable_3 = 1;
    } else {

    }
#line 299
    goto ldv_38702;
    case 5: ;
#line 302
    if (ldv_state_variable_3 == 1) {
#line 304
      device_reset(rtsx_host_template_group0);
#line 306
      ldv_state_variable_3 = 1;
    } else {

    }
#line 309
    goto ldv_38702;
    case 6: ;
#line 312
    if (ldv_state_variable_3 == 1) {
#line 314
      host_info(rtsx_host_template_group1);
#line 316
      ldv_state_variable_3 = 1;
    } else {

    }
#line 319
    goto ldv_38702;
    default: 
#line 320
    ldv_stop();
    }
    ldv_38702: ;
  } else {

  }
#line 324
  goto ldv_38693;
  case 3: ;
#line 328
  if (ldv_state_variable_2 != 0) {
#line 329
    tmp___3 = __VERIFIER_nondet_int();
#line 329
    switch (tmp___3) {
    case 0: ;
#line 332
    if (ldv_state_variable_2 == 1) {
#line 334
      ldv_retval_5 = rtsx_probe(rtsx_driver_group1, (struct pci_device_id  const  *)ldvarg1);
#line 335
      if (ldv_retval_5 == 0) {
#line 336
        ldv_state_variable_2 = 2;
#line 337
        ref_cnt = ref_cnt + 1;
      } else {

      }
    } else {

    }
#line 341
    goto ldv_38712;
    case 1: ;
#line 344
    if (ldv_state_variable_2 == 4) {
#line 346
      rtsx_shutdown(rtsx_driver_group1);
#line 347
      ldv_state_variable_2 = 4;
    } else {

    }
#line 350
    if (ldv_state_variable_2 == 3) {
#line 352
      rtsx_shutdown(rtsx_driver_group1);
#line 353
      ldv_state_variable_2 = 3;
    } else {

    }
#line 356
    if (ldv_state_variable_2 == 2) {
#line 358
      rtsx_shutdown(rtsx_driver_group1);
#line 359
      ldv_state_variable_2 = 2;
    } else {

    }
#line 362
    if (ldv_state_variable_2 == 5) {
#line 364
      rtsx_shutdown(rtsx_driver_group1);
#line 365
      ldv_state_variable_2 = 5;
    } else {

    }
#line 368
    goto ldv_38712;
    case 2: ;
#line 371
    if (ldv_state_variable_2 == 2 && pci_counter == 0) {
#line 373
      ldv_retval_4 = rtsx_suspend(rtsx_driver_group1, ldvarg0);
#line 374
      if (ldv_retval_4 == 0) {
#line 375
        ldv_state_variable_2 = 3;
      } else {

      }
    } else {

    }
#line 379
    goto ldv_38712;
    case 3: ;
#line 382
    if (ldv_state_variable_2 == 4) {
#line 384
      rtsx_remove(rtsx_driver_group1);
#line 385
      ldv_state_variable_2 = 1;
    } else {

    }
#line 388
    if (ldv_state_variable_2 == 3) {
#line 390
      rtsx_remove(rtsx_driver_group1);
#line 391
      ldv_state_variable_2 = 1;
    } else {

    }
#line 394
    if (ldv_state_variable_2 == 2) {
#line 396
      rtsx_remove(rtsx_driver_group1);
#line 397
      ldv_state_variable_2 = 1;
    } else {

    }
#line 400
    if (ldv_state_variable_2 == 5) {
#line 402
      rtsx_remove(rtsx_driver_group1);
#line 403
      ldv_state_variable_2 = 1;
    } else {

    }
#line 406
    goto ldv_38712;
    case 4: ;
#line 409
    if (ldv_state_variable_2 == 4) {
#line 411
      ldv_retval_3 = rtsx_resume(rtsx_driver_group1);
#line 412
      if (ldv_retval_3 == 0) {
#line 413
        ldv_state_variable_2 = 2;
      } else {

      }
    } else {

    }
#line 417
    if (ldv_state_variable_2 == 3) {
#line 419
      ldv_retval_3 = rtsx_resume(rtsx_driver_group1);
#line 420
      if (ldv_retval_3 == 0) {
#line 421
        ldv_state_variable_2 = 2;
      } else {

      }
    } else {

    }
#line 425
    if (ldv_state_variable_2 == 5) {
#line 427
      ldv_retval_3 = rtsx_resume(rtsx_driver_group1);
#line 428
      if (ldv_retval_3 == 0) {
#line 429
        ldv_state_variable_2 = 2;
      } else {

      }
    } else {

    }
#line 433
    goto ldv_38712;
    case 5: ;
#line 436
    if (ldv_state_variable_2 == 3) {
#line 438
      ldv_retval_2 = ldv_suspend_late_2();
#line 439
      if (ldv_retval_2 == 0) {
#line 440
        ldv_state_variable_2 = 4;
      } else {

      }
    } else {

    }
#line 444
    goto ldv_38712;
    case 6: ;
#line 447
    if (ldv_state_variable_2 == 4) {
#line 449
      ldv_retval_1 = ldv_resume_early_2();
#line 450
      if (ldv_retval_1 == 0) {
#line 451
        ldv_state_variable_2 = 5;
      } else {

      }
    } else {

    }
#line 455
    if (ldv_state_variable_2 == 3) {
#line 457
      ldv_retval_1 = ldv_resume_early_2();
#line 458
      if (ldv_retval_1 == 0) {
#line 459
        ldv_state_variable_2 = 5;
      } else {

      }
    } else {

    }
#line 463
    goto ldv_38712;
    default: 
#line 464
    ldv_stop();
    }
    ldv_38712: ;
  } else {

  }
#line 468
  goto ldv_38693;
  default: 
#line 469
  ldv_stop();
  }
  ldv_38693: ;
#line 471
  goto ldv_38721;
  ldv_final: 
#line 473
  ldv_check_final_state();
#line 474
  return 0;
}
}
#line 483 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
__inline static long PTR_ERR(void const   *ptr ) 
{ 
  long tmp ;

  {
#line 486
  tmp = ldv_ptr_err(ptr);
#line 486
  return (tmp);
}
}
#line 489 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
__inline static bool IS_ERR(void const   *ptr ) 
{ 
  bool tmp ;

  {
#line 492
  tmp = ldv_is_err(ptr);
#line 492
  return (tmp);
}
}
#line 501 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv_scsi_add_host_with_dma_5(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 505
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 505
  ldv_func_res = tmp;
#line 507
  if (ldv_func_res == 0) {
#line 508
    ldv_state_variable_3 = 1;
#line 508
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 512
  return (ldv_func_res);
}
}
#line 515 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
__inline static int ldv_request_irq_6(unsigned int irq , irqreturn_t (*handler)(int  ,
                                                                                void * ) ,
                                      unsigned long flags , char const   *name , void *dev ) 
{ 
  ldv_func_ret_type___0 ldv_func_res ;
  int tmp ;
  int tmp___0 ;

  {
#line 519
  tmp = request_irq(irq, handler, flags, name, dev);
#line 519
  ldv_func_res = tmp;
#line 521
  tmp___0 = reg_check_1(handler);
#line 521
  if (tmp___0 != 0 && ldv_func_res == 0) {
#line 522
    activate_suitable_irq_1((int )irq, dev);
  } else {

  }
#line 525
  return (ldv_func_res);
}
}
#line 528 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_free_irq_7(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) 
{ 


  {
#line 531
  free_irq(ldv_func_arg1, ldv_func_arg2);
#line 533
  disable_suitable_irq_1((int )ldv_func_arg1, ldv_func_arg2);
#line 534
  return;
}
}
#line 536 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_free_irq_8(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) 
{ 


  {
#line 539
  free_irq(ldv_func_arg1, ldv_func_arg2);
#line 541
  disable_suitable_irq_1((int )ldv_func_arg1, ldv_func_arg2);
#line 542
  return;
}
}
#line 544 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_free_irq_9(unsigned int ldv_func_arg1 , void *ldv_func_arg2 ) 
{ 


  {
#line 547
  free_irq(ldv_func_arg1, ldv_func_arg2);
#line 549
  disable_suitable_irq_1((int )ldv_func_arg1, ldv_func_arg2);
#line 550
  return;
}
}
#line 552 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_scsi_remove_host_10(struct Scsi_Host *shost ) 
{ 


  {
#line 555
  scsi_remove_host(shost);
#line 557
  ldv_state_variable_3 = 0;
#line 558
  return;
}
}
#line 560 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
struct Scsi_Host *ldv_scsi_host_alloc_11(struct scsi_host_template *sht , int privsize ) 
{ 
  ldv_func_ret_type___1 ldv_func_res ;
  struct Scsi_Host *tmp ;

  {
#line 564
  tmp = scsi_host_alloc(sht, privsize);
#line 564
  ldv_func_res = tmp;
#line 566
  if ((unsigned long )ldv_func_res != (unsigned long )((ldv_func_ret_type___1 )0)) {
#line 567
    ldv_state_variable_3 = 1;
#line 567
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 571
  return (ldv_func_res);
}
}
#line 574 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
int ldv___pci_register_driver_12(struct pci_driver *ldv_func_arg1 , struct module *ldv_func_arg2 ,
                                 char const   *ldv_func_arg3 ) 
{ 
  ldv_func_ret_type___2 ldv_func_res ;
  int tmp ;

  {
#line 578
  tmp = __pci_register_driver(ldv_func_arg1, ldv_func_arg2, ldv_func_arg3);
#line 578
  ldv_func_res = tmp;
#line 580
  ldv_state_variable_2 = 1;
#line 581
  ldv_pci_driver_2();
#line 584
  return (ldv_func_res);
}
}
#line 587 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx.o.c.prepared"
void ldv_pci_unregister_driver_13(struct pci_driver *ldv_func_arg1 ) 
{ 


  {
#line 590
  pci_unregister_driver(ldv_func_arg1);
#line 592
  ldv_state_variable_2 = 0;
#line 593
  return;
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 72 "./arch/x86/include/asm/bitops.h"
__inline static void set_bit(long nr , unsigned long volatile   *addr ) 
{ 


  {
#line 80
  __asm__  volatile   (".pushsection .smp_locks,\"a\"\n.balign 4\n.long 671f - .\n.popsection\n671:\n\tlock; bts %1,%0": "+m" (*((long volatile   *)addr)): "Ir" (nr): "memory");
#line 82
  return;
}
}
#line 110 "./arch/x86/include/asm/bitops.h"
__inline static void clear_bit(long nr , unsigned long volatile   *addr ) 
{ 


  {
#line 117
  __asm__  volatile   (".pushsection .smp_locks,\"a\"\n.balign 4\n.long 671f - .\n.popsection\n671:\n\tlock; btr %1,%0": "+m" (*((long volatile   *)addr)): "Ir" (nr));
#line 119
  return;
}
}
#line 431 "include/linux/printk.h"
extern void print_hex_dump(char const   * , char const   * , int  , int  , int  ,
                           void const   * , size_t  , bool  ) ;
#line 30 "./arch/x86/include/asm/string_64.h"
extern void *memcpy(void * , void const   * , size_t  ) ;
#line 31 "include/asm-generic/iomap.h"
extern unsigned int ioread32(void * ) ;
#line 37
extern void iowrite32(u32  , void * ) ;
#line 69 "include/linux/vmalloc.h"
extern void *vmalloc(unsigned long  ) ;
#line 70
extern void *vzalloc(unsigned long  ) ;
#line 83
extern void vfree(void const   * ) ;
#line 8 "include/asm-generic/delay.h"
extern void __udelay(unsigned long  ) ;
#line 10
extern void __const_udelay(unsigned long  ) ;
#line 863 "include/linux/pci.h"
extern int pci_bus_write_config_byte(struct pci_bus * , unsigned int  , int  , u8  ) ;
#line 894 "include/linux/pci.h"
__inline static int pci_write_config_byte(struct pci_dev  const  *dev , int where ,
                                          u8 val ) 
{ 
  int tmp ;

  {
#line 896
  tmp = pci_bus_write_config_byte(dev->bus, dev->devfn, where, (int )val);
#line 896
  return (tmp);
}
}
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_27(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 30 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/trace.h"
void _rtsx_trace(struct rtsx_chip *chip , char const   *file , char const   *func ,
                 int line ) ;
#line 923 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_chip.h"
__inline static struct device *rtsx_dev(struct rtsx_chip  const  *chip ) 
{ 


  {
#line 925
  return (& ((chip->rtsx)->pci)->dev);
}
}
#line 950
int rtsx_force_power_on(struct rtsx_chip *chip , u8 ctl ) ;
#line 951
int rtsx_force_power_down(struct rtsx_chip *chip , u8 ctl ) ;
#line 953
void rtsx_disable_card_int(struct rtsx_chip *chip ) ;
#line 954
void rtsx_enable_card_int(struct rtsx_chip *chip ) ;
#line 955
void rtsx_enable_bus_int(struct rtsx_chip *chip ) ;
#line 956
void rtsx_disable_bus_int(struct rtsx_chip *chip ) ;
#line 957
int rtsx_reset_chip(struct rtsx_chip *chip ) ;
#line 961
void rtsx_undo_delink(struct rtsx_chip *chip ) ;
#line 962
void rtsx_stop_cmd(struct rtsx_chip *chip , int card ) ;
#line 964
int rtsx_read_register(struct rtsx_chip *chip , u16 addr , u8 *data ) ;
#line 965
int rtsx_write_cfg_dw(struct rtsx_chip *chip , u8 func_no , u16 addr , u32 mask ,
                      u32 val ) ;
#line 967
int rtsx_read_cfg_dw(struct rtsx_chip *chip , u8 func_no , u16 addr , u32 *val ) ;
#line 968
int rtsx_write_cfg_seq(struct rtsx_chip *chip , u8 func , u16 addr , u8 *buf , int len ) ;
#line 970
int rtsx_read_cfg_seq(struct rtsx_chip *chip , u8 func , u16 addr , u8 *buf , int len ) ;
#line 972
int rtsx_write_phy_register(struct rtsx_chip *chip , u8 addr , u16 val ) ;
#line 973
int rtsx_read_phy_register(struct rtsx_chip *chip , u8 addr , u16 *val ) ;
#line 974
int rtsx_read_efuse(struct rtsx_chip *chip , u8 addr , u8 *val ) ;
#line 975
int rtsx_write_efuse(struct rtsx_chip *chip , u8 addr , u8 val ) ;
#line 976
int rtsx_clr_phy_reg_bit(struct rtsx_chip *chip , u8 reg , u8 bit ) ;
#line 977
int rtsx_set_phy_reg_bit(struct rtsx_chip *chip , u8 reg , u8 bit ) ;
#line 978
int rtsx_check_link_ready(struct rtsx_chip *chip ) ;
#line 979
void rtsx_enter_ss(struct rtsx_chip *chip ) ;
#line 980
void rtsx_exit_ss(struct rtsx_chip *chip ) ;
#line 982
void rtsx_enter_L1(struct rtsx_chip *chip ) ;
#line 983
void rtsx_exit_L1(struct rtsx_chip *chip ) ;
#line 985
void rtsx_enable_aspm(struct rtsx_chip *chip ) ;
#line 986
void rtsx_disable_aspm(struct rtsx_chip *chip ) ;
#line 987
int rtsx_read_ppbuf(struct rtsx_chip *chip , u8 *buf , int buf_len ) ;
#line 988
int rtsx_write_ppbuf(struct rtsx_chip *chip , u8 *buf , int buf_len ) ;
#line 989
int rtsx_check_chip_exist(struct rtsx_chip *chip ) ;
#line 44 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_transport.h"
void rtsx_add_cmd(struct rtsx_chip *chip , u8 cmd_type , u16 reg_addr , u8 mask ,
                  u8 data ) ;
#line 47
int rtsx_send_cmd(struct rtsx_chip *chip , u8 card , int timeout ) ;
#line 49 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_transport.h"
__inline static u8 *rtsx_get_cmd_data(struct rtsx_chip *chip ) 
{ 


  {
#line 54
  return ((u8 *)chip->host_cmds_ptr);
}
}
#line 137 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_scsi.h"
void set_sense_type(struct rtsx_chip *chip , unsigned int lun , int sense_type ) ;
#line 278 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/sd.h"
int sd_pull_ctl_enable(struct rtsx_chip *chip ) ;
#line 285
int sd_power_off_card3v3(struct rtsx_chip *chip ) ;
#line 999 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
void do_remaining_work(struct rtsx_chip *chip ) ;
#line 1000
void try_to_switch_sdio_ctrl(struct rtsx_chip *chip ) ;
#line 1004
void rtsx_power_off_card(struct rtsx_chip *chip ) ;
#line 1005
void rtsx_release_cards(struct rtsx_chip *chip ) ;
#line 1006
void rtsx_reset_cards(struct rtsx_chip *chip ) ;
#line 1007
void rtsx_reinit_cards(struct rtsx_chip *chip , int reset_chip ) ;
#line 1008
void rtsx_init_cards(struct rtsx_chip *chip ) ;
#line 1017
void toggle_gpio(struct rtsx_chip *chip , u8 gpio ) ;
#line 1019
void turn_off_led(struct rtsx_chip *chip , u8 gpio ) ;
#line 1021
int card_share_mode(struct rtsx_chip *chip , int card ) ;
#line 1060
int card_power_off(struct rtsx_chip *chip , u8 card ) ;
#line 1100
void dynamic_configure_sdio_aspm(struct rtsx_chip *chip ) ;
#line 33 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_sys.h"
__inline static void rtsx_exclusive_enter_ss(struct rtsx_chip *chip ) 
{ 
  struct rtsx_dev *dev ;

  {
#line 35
  dev = chip->rtsx;
#line 37
  spin_lock(& dev->reg_lock);
#line 38
  rtsx_enter_ss(chip);
#line 39
  spin_unlock(& dev->reg_lock);
#line 40
  return;
}
}
#line 42 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_sys.h"
__inline static void rtsx_reset_detected_cards(struct rtsx_chip *chip , int flag ) 
{ 


  {
#line 44
  rtsx_reset_cards(chip);
#line 45
  return;
}
}
#line 183 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/xd.h"
void xd_free_l2p_tbl(struct rtsx_chip *chip ) ;
#line 185
int xd_power_off_card3v3(struct rtsx_chip *chip ) ;
#line 209 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/ms.h"
void ms_free_l2p_tbl(struct rtsx_chip *chip ) ;
#line 211
int ms_power_off_card3v3(struct rtsx_chip *chip ) ;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_calibration(struct rtsx_chip *chip ) 
{ 
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 36
  rtsx_write_phy_register(chip, 27, 4958);
#line 37
  tmp = get_current();
#line 37
  tmp->task_state_change = 0UL;
#line 37
  __ret = 1L;
#line 37
  switch (8UL) {
  case 1UL: 
#line 37
  tmp___0 = get_current();
#line 37
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 37
  goto ldv_38386;
  case 2UL: 
#line 37
  tmp___1 = get_current();
#line 37
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 37
  goto ldv_38386;
  case 4UL: 
#line 37
  tmp___2 = get_current();
#line 37
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 37
  goto ldv_38386;
  case 8UL: 
#line 37
  tmp___3 = get_current();
#line 37
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 37
  goto ldv_38386;
  default: 
#line 37
  __xchg_wrong_size();
  }
  ldv_38386: 
#line 37
  schedule_timeout(2L);
#line 38
  rtsx_write_phy_register(chip, 0, 640);
#line 39
  rtsx_write_phy_register(chip, 1, 28946);
#line 40
  rtsx_write_phy_register(chip, 1, 28944);
#line 41
  rtsx_write_phy_register(chip, 1, 28946);
#line 42
  rtsx_write_phy_register(chip, 1, 28947);
#line 43
  rtsx_write_phy_register(chip, 0, 648);
#line 44
  return;
}
}
#line 46 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_disable_card_int(struct rtsx_chip *chip ) 
{ 
  u32 reg ;
  unsigned int tmp ;

  {
#line 48
  tmp = ioread32((chip->rtsx)->remap_addr + 24UL);
#line 48
  reg = tmp;
#line 50
  reg = reg & 4060086271U;
#line 51
  iowrite32(reg, (chip->rtsx)->remap_addr + 24UL);
#line 52
  return;
}
}
#line 54 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_enable_card_int(struct rtsx_chip *chip ) 
{ 
  u32 reg ;
  unsigned int tmp ;
  int i ;

  {
#line 56
  tmp = ioread32((chip->rtsx)->remap_addr + 24UL);
#line 56
  reg = tmp;
#line 59
  i = 0;
#line 59
  goto ldv_38402;
  ldv_38401: ;
#line 60
  if (((int )chip->lun2card[i] & 16) != 0) {
#line 61
    reg = reg | 134217728U;
  } else {

  }
#line 62
  if (((int )chip->lun2card[i] & 4) != 0) {
#line 63
    reg = reg | 33554432U;
  } else {

  }
#line 64
  if (((int )chip->lun2card[i] & 8) != 0) {
#line 65
    reg = reg | 67108864U;
  } else {

  }
#line 59
  i = i + 1;
  ldv_38402: ;
#line 59
  if ((int )chip->max_lun >= i) {
#line 61
    goto ldv_38401;
  } else {

  }

#line 67
  if (chip->hw_bypass_sd != 0) {
#line 68
    reg = reg & 4261412863U;
  } else {

  }
#line 70
  iowrite32(reg, (chip->rtsx)->remap_addr + 24UL);
#line 71
  return;
}
}
#line 73 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_enable_bus_int(struct rtsx_chip *chip ) 
{ 
  u32 reg ;
  int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 75
  reg = 0U;
#line 80
  reg = 805306368U;
#line 83
  i = 0;
#line 83
  goto ldv_38412;
  ldv_38411: 
#line 84
  descriptor.modname = "rts5208";
#line 84
  descriptor.function = "rtsx_enable_bus_int";
#line 84
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 84
  descriptor.format = "lun2card[%d] = 0x%02x\n";
#line 84
  descriptor.lineno = 85U;
#line 84
  descriptor.flags = 0U;
#line 84
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 84
  if (tmp___0 != 0L) {
#line 84
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 84
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "lun2card[%d] = 0x%02x\n",
                      i, (int )chip->lun2card[i]);
  } else {

  }
#line 87
  if (((int )chip->lun2card[i] & 16) != 0) {
#line 88
    reg = reg | 134217728U;
  } else {

  }
#line 89
  if (((int )chip->lun2card[i] & 4) != 0) {
#line 90
    reg = reg | 33554432U;
  } else {

  }
#line 91
  if (((int )chip->lun2card[i] & 8) != 0) {
#line 92
    reg = reg | 67108864U;
  } else {

  }
#line 83
  i = i + 1;
  ldv_38412: ;
#line 83
  if ((int )chip->max_lun >= i) {
#line 85
    goto ldv_38411;
  } else {

  }

#line 94
  if (chip->hw_bypass_sd != 0) {
#line 95
    reg = reg & 4261412863U;
  } else {

  }
#line 98
  if ((unsigned int )chip->ic_version > 1U) {
#line 99
    reg = reg | 16777216U;
  } else {

  }
#line 101
  reg = reg | 8388608U;
#line 103
  if (chip->adma_mode == 0) {
#line 104
    reg = reg | 1073741824U;
  } else {

  }
#line 107
  iowrite32(reg, (chip->rtsx)->remap_addr + 24UL);
#line 109
  descriptor___0.modname = "rts5208";
#line 109
  descriptor___0.function = "rtsx_enable_bus_int";
#line 109
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 109
  descriptor___0.format = "RTSX_BIER: 0x%08x\n";
#line 109
  descriptor___0.lineno = 109U;
#line 109
  descriptor___0.flags = 0U;
#line 109
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 109
  if (tmp___2 != 0L) {
#line 109
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 109
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "RTSX_BIER: 0x%08x\n",
                      reg);
  } else {

  }
#line 111
  return;
}
}
#line 112 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_disable_bus_int(struct rtsx_chip *chip ) 
{ 


  {
#line 114
  iowrite32(0U, (chip->rtsx)->remap_addr + 24UL);
#line 115
  return;
}
}
#line 117 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rtsx_pre_handle_sdio_old(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 121
  if (chip->ignore_sd != 0 && chip->sdio_func_exist & 1) {
#line 122
    if (chip->asic_code != 0) {
#line 123
      retval = rtsx_write_register(chip, 64868, 255, 216);
#line 126
      if (retval != 0) {
#line 127
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_old", 127);
#line 128
        return (retval);
      } else {

      }
    } else {
#line 131
      retval = rtsx_write_register(chip, 64541, 255, 247);
#line 134
      if (retval != 0) {
#line 135
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_old", 135);
#line 136
        return (retval);
      } else {

      }
    }
#line 139
    retval = rtsx_write_register(chip, 64850, 255, 4);
#line 141
    if (retval != 0) {
#line 142
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_pre_handle_sdio_old", 142);
#line 143
      return (retval);
    } else {

    }
#line 147
    retval = rtsx_write_register(chip, 65324, 1, 1);
#line 148
    if (retval != 0) {
#line 149
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_pre_handle_sdio_old", 149);
#line 150
      return (retval);
    } else {

    }
#line 153
    retval = rtsx_write_register(chip, 64875, 255, 3);
#line 155
    if (retval != 0) {
#line 156
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_pre_handle_sdio_old", 156);
#line 157
      return (retval);
    } else {

    }
#line 160
    chip->sd_int = 1U;
#line 161
    chip->sd_io = 1U;
  } else {
#line 163
    chip->need_reset = chip->need_reset | 4UL;
  }
#line 166
  return (0);
}
}
#line 170 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rtsx_pre_handle_sdio_new(struct rtsx_chip *chip ) 
{ 
  u8 tmp ;
  bool sw_bypass_sd ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  u8 cd_toggle_mask ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;

  {
#line 173
  sw_bypass_sd = 0;
#line 176
  if (chip->driver_first_load != 0) {
#line 177
    if ((unsigned int )chip->product_id == 21128U) {
#line 178
      retval = rtsx_read_register(chip, 65114, & tmp);
#line 179
      if (retval != 0) {
#line 180
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_new", 180);
#line 181
        return (retval);
      } else {

      }
#line 183
      if (((int )tmp & 8) != 0) {
#line 184
        sw_bypass_sd = 1;
      } else {

      }
    } else
#line 185
    if ((unsigned int )chip->product_id == 21000U) {
#line 186
      retval = rtsx_read_register(chip, 65136, & tmp);
#line 187
      if (retval != 0) {
#line 188
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_new", 188);
#line 189
        return (retval);
      } else {

      }
#line 191
      if ((int )((signed char )tmp) < 0) {
#line 192
        sw_bypass_sd = 1;
      } else {

      }
    } else {

    }
  } else
#line 195
  if (chip->sdio_in_charge != 0) {
#line 196
    sw_bypass_sd = 1;
  } else {

  }
#line 198
  descriptor.modname = "rts5208";
#line 198
  descriptor.function = "rtsx_pre_handle_sdio_new";
#line 198
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 198
  descriptor.format = "chip->sdio_in_charge = %d\n";
#line 198
  descriptor.lineno = 199U;
#line 198
  descriptor.flags = 0U;
#line 198
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 198
  if (tmp___1 != 0L) {
#line 198
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 198
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "chip->sdio_in_charge = %d\n",
                      chip->sdio_in_charge);
  } else {

  }
#line 200
  descriptor___0.modname = "rts5208";
#line 200
  descriptor___0.function = "rtsx_pre_handle_sdio_new";
#line 200
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 200
  descriptor___0.format = "chip->driver_first_load = %d\n";
#line 200
  descriptor___0.lineno = 201U;
#line 200
  descriptor___0.flags = 0U;
#line 200
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 200
  if (tmp___3 != 0L) {
#line 200
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 200
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "chip->driver_first_load = %d\n",
                      chip->driver_first_load);
  } else {

  }
#line 202
  descriptor___1.modname = "rts5208";
#line 202
  descriptor___1.function = "rtsx_pre_handle_sdio_new";
#line 202
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 202
  descriptor___1.format = "sw_bypass_sd = %d\n";
#line 202
  descriptor___1.lineno = 203U;
#line 202
  descriptor___1.flags = 0U;
#line 202
  tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 202
  if (tmp___5 != 0L) {
#line 202
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 202
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "sw_bypass_sd = %d\n",
                      (int )sw_bypass_sd);
  } else {

  }
#line 205
  if ((int )sw_bypass_sd) {
#line 206
    cd_toggle_mask = 0U;
#line 208
    retval = rtsx_read_register(chip, 65063, & tmp);
#line 209
    if (retval != 0) {
#line 210
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_pre_handle_sdio_new", 210);
#line 211
      return (retval);
    } else {

    }
#line 213
    cd_toggle_mask = 8U;
#line 215
    if ((unsigned int )((int )tmp & (int )cd_toggle_mask) != 0U) {
#line 217
      if ((unsigned int )chip->product_id == 21128U) {
#line 218
        retval = rtsx_write_register(chip, 65114, 8, 0);
#line 220
        if (retval != 0) {
#line 221
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 221);
#line 222
          return (retval);
        } else {

        }
      } else
#line 224
      if ((unsigned int )chip->product_id == 21000U) {
#line 225
        retval = rtsx_write_register(chip, 65136, 128, 0);
#line 227
        if (retval != 0) {
#line 228
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 228);
#line 229
          return (retval);
        } else {

        }
      } else {

      }
#line 233
      retval = rtsx_write_register(chip, 65063, 255, (int )tmp);
#line 235
      if (retval != 0) {
#line 236
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_new", 236);
#line 237
        return (retval);
      } else {

      }
#line 240
      chip->need_reset = chip->need_reset | 4UL;
    } else {
#line 242
      descriptor___2.modname = "rts5208";
#line 242
      descriptor___2.function = "rtsx_pre_handle_sdio_new";
#line 242
      descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 242
      descriptor___2.format = "Chip inserted with SDIO!\n";
#line 242
      descriptor___2.lineno = 242U;
#line 242
      descriptor___2.flags = 0U;
#line 242
      tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 242
      if (tmp___7 != 0L) {
#line 242
        tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 242
        __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "Chip inserted with SDIO!\n");
      } else {

      }
#line 244
      if (chip->asic_code != 0) {
#line 245
        retval = sd_pull_ctl_enable(chip);
#line 246
        if (retval != 0) {
#line 247
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 247);
#line 248
          return (1);
        } else {

        }
      } else {
#line 251
        retval = rtsx_write_register(chip, 64541, 40, 0);
#line 255
        if (retval != 0) {
#line 256
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 256);
#line 257
          return (retval);
        } else {

        }
      }
#line 260
      retval = card_share_mode(chip, 4);
#line 261
      if (retval != 0) {
#line 262
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_pre_handle_sdio_new", 262);
#line 263
        return (1);
      } else {

      }
#line 267
      if ((unsigned int )chip->product_id == 21128U) {
#line 268
        retval = rtsx_write_register(chip, 65114, 8, 8);
#line 270
        if (retval != 0) {
#line 271
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 271);
#line 272
          return (retval);
        } else {

        }
      } else
#line 274
      if ((unsigned int )chip->product_id == 21000U) {
#line 275
        retval = rtsx_write_register(chip, 65136, 128, 128);
#line 277
        if (retval != 0) {
#line 278
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                      "rtsx_pre_handle_sdio_new", 278);
#line 279
          return (retval);
        } else {

        }
      } else {

      }
#line 283
      chip->chip_insert_with_sdio = 1;
#line 284
      chip->sd_io = 1U;
    }
  } else {
#line 287
    retval = rtsx_write_register(chip, 65063, 8, 8);
#line 288
    if (retval != 0) {
#line 289
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_pre_handle_sdio_new", 289);
#line 290
      return (retval);
    } else {

    }
#line 293
    chip->need_reset = chip->need_reset | 4UL;
  }
#line 296
  return (0);
}
}
#line 300 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rtsx_reset_aspm(struct rtsx_chip *chip ) 
{ 
  int ret ;

  {
#line 304
  if (chip->dynamic_aspm != 0) {
#line 305
    if ((chip->sdio_func_exist & 1) == 0 || (unsigned int )chip->product_id != 21128U) {
#line 306
      return (0);
    } else {

    }
#line 308
    ret = rtsx_write_cfg_dw(chip, 2, 192, 255U, (u32 )chip->aspm_l0s_l1_en);
#line 310
    if (ret != 0) {
#line 311
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_aspm", 311);
#line 312
      return (1);
    } else {

    }
#line 315
    return (0);
  } else {

  }
#line 318
  if ((unsigned int )chip->product_id == 21000U) {
#line 319
    ret = rtsx_write_register(chip, 65111, 255, 63);
#line 320
    if (ret != 0) {
#line 321
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_aspm", 321);
#line 322
      return (ret);
    } else {

    }
  } else {

  }
#line 325
  ret = pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 128, (int )chip->aspm_l0s_l1_en);
#line 326
  if (ret != 0) {
#line 327
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_aspm", 327);
#line 328
    return (1);
  } else {

  }
#line 331
  chip->aspm_level[0] = chip->aspm_l0s_l1_en;
#line 332
  if (chip->sdio_func_exist & 1) {
#line 333
    chip->aspm_level[1] = chip->aspm_l0s_l1_en;
#line 334
    ret = rtsx_write_cfg_dw(chip, (unsigned int )chip->product_id == 21128U ? 2 : 1,
                            192, 255U, (u32 )chip->aspm_l0s_l1_en);
#line 336
    if (ret != 0) {
#line 337
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_aspm", 337);
#line 338
      return (1);
    } else {

    }
  } else {

  }
#line 342
  chip->aspm_enabled = 1;
#line 344
  return (0);
}
}
#line 347 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rtsx_enable_pcie_intr(struct rtsx_chip *chip ) 
{ 
  int ret ;
  u16 reg ;

  {
#line 351
  if (chip->asic_code == 0 || (unsigned int )chip->product_id != 21000U) {
#line 352
    rtsx_enable_bus_int(chip);
#line 353
    return (0);
  } else {

  }
#line 356
  if (chip->phy_debug_mode != 0) {
#line 357
    ret = rtsx_write_register(chip, 65106, 119, 0);
#line 358
    if (ret != 0) {
#line 359
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_enable_pcie_intr", 359);
#line 360
      return (ret);
    } else {

    }
#line 362
    rtsx_disable_bus_int(chip);
  } else {
#line 364
    rtsx_enable_bus_int(chip);
  }
#line 367
  if ((unsigned int )chip->ic_version > 2U) {
#line 370
    ret = rtsx_read_phy_register(chip, 0, & reg);
#line 371
    if (ret != 0) {
#line 372
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_enable_pcie_intr", 372);
#line 373
      return (1);
    } else {

    }
#line 376
    reg = (unsigned int )reg & 65151U;
#line 377
    reg = (u16 )((unsigned int )reg | 128U);
#line 378
    ret = rtsx_write_phy_register(chip, 0, (int )reg);
#line 379
    if (ret != 0) {
#line 380
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_enable_pcie_intr", 380);
#line 381
      return (1);
    } else {

    }
#line 384
    ret = rtsx_read_phy_register(chip, 28, & reg);
#line 385
    if (ret != 0) {
#line 386
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_enable_pcie_intr", 386);
#line 387
      return (1);
    } else {

    }
#line 390
    reg = (unsigned int )reg & 65527U;
#line 391
    ret = rtsx_write_phy_register(chip, 28, (int )reg);
#line 392
    if (ret != 0) {
#line 393
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_enable_pcie_intr", 393);
#line 394
      return (1);
    } else {

    }
  } else {

  }
#line 398
  if (chip->driver_first_load != 0 && (unsigned int )chip->ic_version <= 1U) {
#line 399
    rtsx_calibration(chip);
  } else {

  }
#line 401
  return (0);
}
}
#line 404 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_reset_chip(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct task_struct *tmp___5 ;
  long volatile   __ret ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;

  {
#line 408
  iowrite32((u32 )chip->host_cmds_addr, (chip->rtsx)->remap_addr);
#line 410
  rtsx_disable_aspm(chip);
#line 412
  retval = rtsx_write_register(chip, 65120, 3, 0);
#line 413
  if (retval != 0) {
#line 414
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 414);
#line 415
    return (retval);
  } else {

  }
#line 419
  retval = rtsx_write_register(chip, 64873, 30, 0);
#line 420
  if (retval != 0) {
#line 421
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 421);
#line 422
    return (retval);
  } else {

  }
#line 427
  if ((unsigned int )chip->lun_mode == 1U) {
#line 428
    retval = rtsx_write_register(chip, 64512, 6, 0);
#line 429
    if (retval != 0) {
#line 430
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 430);
#line 431
      return (retval);
    } else {

    }
  } else {
#line 434
    retval = rtsx_write_register(chip, 64512, 6, 4);
#line 436
    if (retval != 0) {
#line 437
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 437);
#line 438
      return (retval);
    } else {

    }
  }
#line 442
  retval = rtsx_write_register(chip, 64536, 56, 40);
#line 444
  if (retval != 0) {
#line 445
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 445);
#line 446
    return (retval);
  } else {

  }
#line 448
  retval = rtsx_write_register(chip, 64537, 192, 128);
#line 450
  if (retval != 0) {
#line 451
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 451);
#line 452
    return (retval);
  } else {

  }
#line 454
  retval = rtsx_write_register(chip, 64533, 255, 40);
#line 456
  if (retval != 0) {
#line 457
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 457);
#line 458
    return (retval);
  } else {

  }
#line 470
  if ((unsigned int )chip->product_id != 21128U) {
#line 471
    retval = rtsx_write_register(chip, 64855, 255, 3);
#line 472
    if (retval != 0) {
#line 473
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 473);
#line 474
      return (retval);
    } else {

    }
  } else {

  }
#line 479
  retval = rtsx_write_register(chip, 64856, 255, 3);
#line 480
  if (retval != 0) {
#line 481
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 481);
#line 482
    return (retval);
  } else {

  }
#line 486
  retval = rtsx_write_register(chip, 65115, 10, 0);
#line 487
  if (retval != 0) {
#line 488
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 488);
#line 489
    return (retval);
  } else {

  }
#line 493
  retval = rtsx_write_register(chip, 64851, 255, (int )chip->card_drive_sel);
#line 495
  if (retval != 0) {
#line 496
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 496);
#line 497
    return (retval);
  } else {

  }
#line 509
  if (chip->asic_code != 0) {
#line 511
    retval = rtsx_write_register(chip, 64529, 255, 80);
#line 513
    if (retval != 0) {
#line 514
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 514);
#line 515
      return (retval);
    } else {

    }
#line 517
    retval = rtsx_write_register(chip, 64530, 255, 18);
#line 518
    if (retval != 0) {
#line 519
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 519);
#line 520
      return (retval);
    } else {

    }
  } else {

  }
#line 531
  retval = rtsx_write_register(chip, 65115, 22, 16);
#line 532
  if (retval != 0) {
#line 533
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 533);
#line 534
    return (retval);
  } else {

  }
#line 538
  if ((unsigned int )chip->aspm_l0s_l1_en != 0U) {
#line 539
    retval = rtsx_reset_aspm(chip);
#line 540
    if (retval != 0) {
#line 541
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 541);
#line 542
      return (1);
    } else {

    }
  } else {
#line 545
    if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 546
      retval = rtsx_write_phy_register(chip, 7, 297);
#line 547
      if (retval != 0) {
#line 548
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_reset_chip", 548);
#line 549
        return (1);
      } else {

      }
    } else {

    }
#line 552
    retval = pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 128,
                                   (int )chip->aspm_l0s_l1_en);
#line 554
    if (retval != 0) {
#line 555
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 555);
#line 556
      return (1);
    } else {

    }
  }
#line 560
  retval = pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 129,
                                 1);
#line 561
  if (retval != 0) {
#line 562
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 562);
#line 563
    return (1);
  } else {

  }
#line 566
  if (chip->sdio_func_exist & 1) {
#line 567
    retval = rtsx_write_cfg_dw(chip, (unsigned int )chip->product_id == 21128U ? 2 : 1,
                               192, 65280U, 256U);
#line 571
    if (retval != 0) {
#line 572
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 572);
#line 573
      return (1);
    } else {

    }
  } else {

  }
#line 577
  if ((unsigned int )chip->product_id == 21128U && (chip->sdio_func_exist & 1) == 0) {
#line 578
    retval = rtsx_write_cfg_dw(chip, 2, 192, 65535U, 259U);
#line 579
    if (retval != 0) {
#line 580
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 580);
#line 581
      return (1);
    } else {

    }
#line 584
    retval = rtsx_write_cfg_dw(chip, 2, 132, 255U, 3U);
#line 585
    if (retval != 0) {
#line 586
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 586);
#line 587
      return (1);
    } else {

    }
  } else {

  }
#line 591
  retval = rtsx_write_register(chip, 65057, 32, 32);
#line 593
  if (retval != 0) {
#line 594
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 594);
#line 595
    return (retval);
  } else {

  }
#line 598
  retval = rtsx_write_register(chip, 65116, 255, 128);
#line 599
  if (retval != 0) {
#line 600
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 600);
#line 601
    return (retval);
  } else {

  }
#line 604
  retval = rtsx_enable_pcie_intr(chip);
#line 605
  if (retval != 0) {
#line 606
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 606);
#line 607
    return (1);
  } else {

  }
#line 610
  chip->need_reset = 0UL;
#line 612
  chip->int_reg = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 614
  if (chip->hw_bypass_sd != 0) {
#line 615
    goto nextcard;
  } else {

  }
#line 616
  descriptor.modname = "rts5208";
#line 616
  descriptor.function = "rtsx_reset_chip";
#line 616
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 616
  descriptor.format = "In %s, chip->int_reg = 0x%x\n";
#line 616
  descriptor.lineno = 617U;
#line 616
  descriptor.flags = 0U;
#line 616
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 616
  if (tmp___0 != 0L) {
#line 616
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 616
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "In %s, chip->int_reg = 0x%x\n",
                      "rtsx_reset_chip", chip->int_reg);
  } else {

  }
#line 618
  if ((chip->int_reg & 65536U) != 0U) {
#line 620
    if ((unsigned int )chip->product_id == 21000U && (unsigned int )chip->ic_version <= 1U) {
#line 621
      retval = rtsx_pre_handle_sdio_old(chip);
    } else {
#line 623
      retval = rtsx_pre_handle_sdio_new(chip);
    }
#line 625
    descriptor___0.modname = "rts5208";
#line 625
    descriptor___0.function = "rtsx_reset_chip";
#line 625
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 625
    descriptor___0.format = "chip->need_reset = 0x%x (rtsx_reset_chip)\n";
#line 625
    descriptor___0.lineno = 626U;
#line 625
    descriptor___0.flags = 0U;
#line 625
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 625
    if (tmp___2 != 0L) {
#line 625
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 625
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "chip->need_reset = 0x%x (rtsx_reset_chip)\n",
                        (unsigned int )chip->need_reset);
    } else {

    }
#line 630
    if (retval != 0) {
#line 631
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 631);
#line 632
      return (1);
    } else {

    }
  } else {
#line 636
    chip->sd_io = 0U;
#line 637
    retval = rtsx_write_register(chip, 64875, 3, 0);
#line 639
    if (retval != 0) {
#line 640
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 640);
#line 641
      return (retval);
    } else {

    }
  }
  nextcard: ;
#line 646
  if ((chip->int_reg & 262144U) != 0U) {
#line 647
    chip->need_reset = chip->need_reset | 16UL;
  } else {

  }
#line 648
  if ((chip->int_reg & 131072U) != 0U) {
#line 649
    chip->need_reset = chip->need_reset | 8UL;
  } else {

  }
#line 650
  if ((chip->int_reg & 458752U) != 0U) {
#line 651
    retval = rtsx_write_register(chip, 64529, 128, 128);
#line 653
    if (retval != 0) {
#line 654
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 654);
#line 655
      return (retval);
    } else {

    }
  } else {

  }
#line 659
  descriptor___1.modname = "rts5208";
#line 659
  descriptor___1.function = "rtsx_reset_chip";
#line 659
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 659
  descriptor___1.format = "In %s, chip->need_reset = 0x%x\n";
#line 659
  descriptor___1.lineno = 660U;
#line 659
  descriptor___1.flags = 0U;
#line 659
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 659
  if (tmp___4 != 0L) {
#line 659
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 659
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "In %s, chip->need_reset = 0x%x\n",
                      "rtsx_reset_chip", (unsigned int )chip->need_reset);
  } else {

  }
#line 662
  retval = rtsx_write_register(chip, 64532, 1, 0);
#line 663
  if (retval != 0) {
#line 664
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_reset_chip", 664);
#line 665
    return (retval);
  } else {

  }
#line 668
  if ((unsigned int )chip->product_id == 21000U || (unsigned int )chip->product_id == 21128U) {
#line 670
    retval = rtsx_write_register(chip, 65136, 3, 3);
#line 672
    if (retval != 0) {
#line 673
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 673);
#line 674
      return (retval);
    } else {

    }
  } else {

  }
#line 678
  if (chip->remote_wakeup_en != 0 && chip->auto_delink_en == 0) {
#line 679
    retval = rtsx_write_register(chip, 65108, 7, 7);
#line 680
    if (retval != 0) {
#line 681
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 681);
#line 682
      return (retval);
    } else {

    }
#line 684
    if (chip->aux_pwr_exist != 0) {
#line 685
      retval = rtsx_write_register(chip, 65110, 255, 51);
#line 687
      if (retval != 0) {
#line 688
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                    "rtsx_reset_chip", 688);
#line 689
        return (retval);
      } else {

      }
    } else {

    }
  } else {
#line 693
    retval = rtsx_write_register(chip, 65108, 7, 4);
#line 694
    if (retval != 0) {
#line 695
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 695);
#line 696
      return (retval);
    } else {

    }
#line 698
    retval = rtsx_write_register(chip, 65110, 255, 48);
#line 699
    if (retval != 0) {
#line 700
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 700);
#line 701
      return (retval);
    } else {

    }
  }
#line 705
  if ((unsigned int )chip->product_id == 21000U && (unsigned int )chip->ic_version > 2U) {
#line 706
    retval = rtsx_write_register(chip, 65097, 28, 20);
#line 707
    if (retval != 0) {
#line 708
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 708);
#line 709
      return (retval);
    } else {

    }
  } else {

  }
#line 713
  if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 714
    retval = rtsx_clr_phy_reg_bit(chip, 28, 2);
#line 715
    if (retval != 0) {
#line 716
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 716);
#line 717
      return (1);
    } else {

    }
  } else {

  }
#line 721
  if (chip->ft2_fast_mode != 0) {
#line 722
    retval = rtsx_write_register(chip, 64848, 255, 5);
#line 724
    if (retval != 0) {
#line 725
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 725);
#line 726
      return (retval);
    } else {

    }
#line 728
    __udelay((unsigned long )chip->pmos_pwr_on_interval);
#line 729
    retval = rtsx_write_register(chip, 64848, 255, 0);
#line 731
    if (retval != 0) {
#line 732
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_reset_chip", 732);
#line 733
      return (retval);
    } else {

    }
#line 736
    tmp___5 = get_current();
#line 736
    tmp___5->task_state_change = 0UL;
#line 736
    __ret = 1L;
#line 736
    switch (8UL) {
    case 1UL: 
#line 736
    tmp___6 = get_current();
#line 736
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___6->state): : "memory",
                         "cc");
#line 736
    goto ldv_38457;
    case 2UL: 
#line 736
    tmp___7 = get_current();
#line 736
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___7->state): : "memory",
                         "cc");
#line 736
    goto ldv_38457;
    case 4UL: 
#line 736
    tmp___8 = get_current();
#line 736
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 736
    goto ldv_38457;
    case 8UL: 
#line 736
    tmp___9 = get_current();
#line 736
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___9->state): : "memory",
                         "cc");
#line 736
    goto ldv_38457;
    default: 
#line 736
    __xchg_wrong_size();
    }
    ldv_38457: 
#line 736
    schedule_timeout(50L);
  } else {

  }
#line 740
  rtsx_reset_detected_cards(chip, 0);
#line 742
  chip->driver_first_load = 0;
#line 744
  return (0);
}
}
#line 747 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
__inline static int check_sd_speed_prior(u32 sd_speed_prior ) 
{ 
  bool fake_para ;
  int i ;
  u8 tmp ;

  {
#line 749
  fake_para = 0;
#line 752
  i = 0;
#line 752
  goto ldv_38471;
  ldv_38470: 
#line 753
  tmp = (unsigned char )(sd_speed_prior >> i * 8);
#line 755
  if ((unsigned int )tmp == 0U || (unsigned int )tmp > 4U) {
#line 756
    fake_para = 1;
#line 757
    goto ldv_38469;
  } else {

  }
#line 752
  i = i + 1;
  ldv_38471: ;
#line 752
  if (i <= 3) {
#line 754
    goto ldv_38470;
  } else {

  }
  ldv_38469: ;
#line 761
  return (! fake_para);
}
}
#line 764 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
__inline static int check_sd_current_prior(u32 sd_current_prior ) 
{ 
  bool fake_para ;
  int i ;
  u8 tmp ;

  {
#line 766
  fake_para = 0;
#line 769
  i = 0;
#line 769
  goto ldv_38480;
  ldv_38479: 
#line 770
  tmp = (unsigned char )(sd_current_prior >> i * 8);
#line 772
  if ((unsigned int )tmp > 3U) {
#line 773
    fake_para = 1;
#line 774
    goto ldv_38478;
  } else {

  }
#line 769
  i = i + 1;
  ldv_38480: ;
#line 769
  if (i <= 3) {
#line 771
    goto ldv_38479;
  } else {

  }
  ldv_38478: ;
#line 778
  return (! fake_para);
}
}
#line 781 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rts5208_init(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u16 reg ;
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 784
  reg = 0U;
#line 785
  val = 0U;
#line 787
  retval = rtsx_write_register(chip, 64516, 3, 3);
#line 788
  if (retval != 0) {
#line 789
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5208_init", 789);
#line 790
    return (retval);
  } else {

  }
#line 792
  retval = rtsx_read_register(chip, 64516, & val);
#line 793
  if (retval != 0) {
#line 794
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5208_init", 794);
#line 795
    return (retval);
  } else {

  }
#line 797
  chip->asic_code = (unsigned int )val == 0U;
#line 799
  if (chip->asic_code != 0) {
#line 800
    retval = rtsx_read_phy_register(chip, 28, & reg);
#line 801
    if (retval != 0) {
#line 802
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rts5208_init", 802);
#line 803
      return (1);
    } else {

    }
#line 806
    descriptor.modname = "rts5208";
#line 806
    descriptor.function = "rts5208_init";
#line 806
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 806
    descriptor.format = "Value of phy register 0x1C is 0x%x\n";
#line 806
    descriptor.lineno = 807U;
#line 806
    descriptor.flags = 0U;
#line 806
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 806
    if (tmp___0 != 0L) {
#line 806
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 806
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Value of phy register 0x1C is 0x%x\n",
                        (int )reg);
    } else {

    }
#line 808
    chip->ic_version = (unsigned int )((u8 )((int )reg >> 4)) & 7U;
#line 809
    chip->phy_debug_mode = (int )reg & 1;
  } else {
#line 812
    retval = rtsx_read_register(chip, 65152, & val);
#line 813
    if (retval != 0) {
#line 814
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rts5208_init", 814);
#line 815
      return (retval);
    } else {

    }
#line 817
    chip->ic_version = val;
#line 818
    chip->phy_debug_mode = 0;
  }
#line 821
  retval = rtsx_read_register(chip, 64513, & val);
#line 822
  if (retval != 0) {
#line 823
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5208_init", 823);
#line 824
    return (retval);
  } else {

  }
#line 826
  descriptor___0.modname = "rts5208";
#line 826
  descriptor___0.function = "rts5208_init";
#line 826
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 826
  descriptor___0.format = "PDINFO: 0x%x\n";
#line 826
  descriptor___0.lineno = 826U;
#line 826
  descriptor___0.flags = 0U;
#line 826
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 826
  if (tmp___2 != 0L) {
#line 826
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 826
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "PDINFO: 0x%x\n",
                      (int )val);
  } else {

  }
#line 827
  chip->aux_pwr_exist = (int )val & 1;
#line 829
  retval = rtsx_read_register(chip, 65104, & val);
#line 830
  if (retval != 0) {
#line 831
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5208_init", 831);
#line 832
    return (retval);
  } else {

  }
#line 834
  chip->hw_bypass_sd = (int )val & 1;
#line 836
  pci_read_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 14, & val);
#line 837
  if ((int )((signed char )val) < 0) {
#line 838
    chip->sdio_func_exist = chip->sdio_func_exist | 1;
  } else {
#line 840
    chip->sdio_func_exist = chip->sdio_func_exist & -2;
  }
#line 842
  if (chip->use_hw_setting != 0) {
#line 843
    retval = rtsx_read_register(chip, 65115, & val);
#line 844
    if (retval != 0) {
#line 845
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rts5208_init", 845);
#line 846
      return (retval);
    } else {

    }
#line 848
    chip->auto_delink_en = (int )((signed char )val) < 0;
  } else {

  }
#line 851
  return (0);
}
}
#line 854 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static int rts5288_init(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 val ;
  u8 max_func ;
  u32 lval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 857
  val = 0U;
#line 858
  lval = 0U;
#line 860
  retval = rtsx_write_register(chip, 64516, 3, 3);
#line 861
  if (retval != 0) {
#line 862
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 862);
#line 863
    return (retval);
  } else {

  }
#line 865
  retval = rtsx_read_register(chip, 64516, & val);
#line 866
  if (retval != 0) {
#line 867
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 867);
#line 868
    return (retval);
  } else {

  }
#line 870
  chip->asic_code = (unsigned int )val == 0U;
#line 872
  chip->ic_version = 0U;
#line 873
  chip->phy_debug_mode = 0;
#line 875
  retval = rtsx_read_register(chip, 64513, & val);
#line 876
  if (retval != 0) {
#line 877
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 877);
#line 878
    return (retval);
  } else {

  }
#line 880
  descriptor.modname = "rts5208";
#line 880
  descriptor.function = "rts5288_init";
#line 880
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 880
  descriptor.format = "PDINFO: 0x%x\n";
#line 880
  descriptor.lineno = 880U;
#line 880
  descriptor.flags = 0U;
#line 880
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 880
  if (tmp___0 != 0L) {
#line 880
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 880
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "PDINFO: 0x%x\n",
                      (int )val);
  } else {

  }
#line 881
  chip->aux_pwr_exist = (int )val & 1;
#line 883
  retval = rtsx_read_register(chip, 64850, & val);
#line 884
  if (retval != 0) {
#line 885
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 885);
#line 886
    return (retval);
  } else {

  }
#line 888
  descriptor___0.modname = "rts5208";
#line 888
  descriptor___0.function = "rts5288_init";
#line 888
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 888
  descriptor___0.format = "CARD_SHARE_MODE: 0x%x\n";
#line 888
  descriptor___0.lineno = 888U;
#line 888
  descriptor___0.flags = 0U;
#line 888
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 888
  if (tmp___2 != 0L) {
#line 888
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 888
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "CARD_SHARE_MODE: 0x%x\n",
                      (int )val);
  } else {

  }
#line 889
  chip->baro_pkg = ((int )val & 4) == 0;
#line 891
  retval = rtsx_read_register(chip, 65114, & val);
#line 892
  if (retval != 0) {
#line 893
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 893);
#line 894
    return (retval);
  } else {

  }
#line 896
  chip->hw_bypass_sd = ((int )val & 16) != 0;
#line 898
  retval = rtsx_read_cfg_dw(chip, 0, 1816, & lval);
#line 899
  if (retval != 0) {
#line 900
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rts5288_init", 900);
#line 901
    return (1);
  } else {

  }
#line 904
  max_func = (unsigned int )((unsigned char )(lval >> 29)) & 7U;
#line 905
  descriptor___1.modname = "rts5208";
#line 905
  descriptor___1.function = "rts5288_init";
#line 905
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 905
  descriptor___1.format = "Max function number: %d\n";
#line 905
  descriptor___1.lineno = 905U;
#line 905
  descriptor___1.flags = 0U;
#line 905
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 905
  if (tmp___4 != 0L) {
#line 905
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 905
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "Max function number: %d\n",
                      (int )max_func);
  } else {

  }
#line 906
  if ((unsigned int )max_func == 2U) {
#line 907
    chip->sdio_func_exist = chip->sdio_func_exist | 1;
  } else {
#line 909
    chip->sdio_func_exist = chip->sdio_func_exist & -2;
  }
#line 911
  if (chip->use_hw_setting != 0) {
#line 912
    retval = rtsx_read_register(chip, 65115, & val);
#line 913
    if (retval != 0) {
#line 914
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rts5288_init", 914);
#line 915
      return (retval);
    } else {

    }
#line 917
    chip->auto_delink_en = (int )((signed char )val) < 0;
#line 919
    if (chip->baro_pkg == 1) {
#line 920
      chip->lun_mode = 2U;
    } else {
#line 922
      chip->lun_mode = 0U;
    }
  } else {

  }
#line 925
  return (0);
}
}
#line 928 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_init_chip(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  struct xd_info *xd_card ;
  struct ms_info *ms_card ;
  int retval ;
  unsigned int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  int tmp___4 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct task_struct *tmp___7 ;
  long volatile   __ret ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  struct task_struct *tmp___10 ;
  struct task_struct *tmp___11 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___12 ;
  long tmp___13 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___14 ;
  long tmp___15 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___16 ;
  long tmp___17 ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___18 ;
  long tmp___19 ;
  struct _ddebug descriptor___6 ;
  struct device *tmp___20 ;
  long tmp___21 ;
  struct _ddebug descriptor___7 ;
  struct device *tmp___22 ;
  long tmp___23 ;
  struct _ddebug descriptor___8 ;
  struct device *tmp___24 ;
  long tmp___25 ;
  struct _ddebug descriptor___9 ;
  struct device *tmp___26 ;
  long tmp___27 ;
  struct _ddebug descriptor___10 ;
  struct device *tmp___28 ;
  long tmp___29 ;
  struct _ddebug descriptor___11 ;
  struct device *tmp___30 ;
  long tmp___31 ;
  struct _ddebug descriptor___12 ;
  struct device *tmp___32 ;
  long tmp___33 ;
  struct _ddebug descriptor___13 ;
  struct device *tmp___34 ;
  long tmp___35 ;

  {
#line 930
  sd_card = & chip->sd_card;
#line 931
  xd_card = & chip->xd_card;
#line 932
  ms_card = & chip->ms_card;
#line 936
  descriptor.modname = "rts5208";
#line 936
  descriptor.function = "rtsx_init_chip";
#line 936
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 936
  descriptor.format = "Vendor ID: 0x%04x, Product ID: 0x%04x\n";
#line 936
  descriptor.lineno = 937U;
#line 936
  descriptor.flags = 0U;
#line 936
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 936
  if (tmp___0 != 0L) {
#line 936
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 936
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Vendor ID: 0x%04x, Product ID: 0x%04x\n",
                      (int )chip->vendor_id, (int )chip->product_id);
  } else {

  }
#line 939
  chip->ic_version = 0U;
#line 942
  chip->msg_idx = 0;
#line 945
  memset((void *)xd_card, 0, 56UL);
#line 946
  memset((void *)sd_card, 0, 104UL);
#line 947
  memset((void *)ms_card, 0, 240UL);
#line 949
  chip->xd_reset_counter = 0;
#line 950
  chip->sd_reset_counter = 0;
#line 951
  chip->ms_reset_counter = 0;
#line 953
  chip->xd_show_cnt = 10;
#line 954
  chip->sd_show_cnt = 10;
#line 955
  chip->ms_show_cnt = 10;
#line 957
  chip->sd_io = 0U;
#line 958
  chip->auto_delink_cnt = 0;
#line 959
  chip->auto_delink_allowed = 1;
#line 960
  chip->idle_counter = 0;
#line 960
  chip->rtsx_stat = 0;
#line 962
  chip->aspm_enabled = 0;
#line 963
  chip->chip_insert_with_sdio = 0;
#line 964
  chip->sdio_aspm = 0;
#line 965
  chip->sdio_idle = 0;
#line 966
  chip->sdio_counter = 0;
#line 967
  chip->cur_card = 0;
#line 968
  chip->phy_debug_mode = 0;
#line 969
  chip->sdio_func_exist = 0;
#line 970
  memset((void *)(& chip->sdio_raw_data), 0, 12UL);
#line 972
  i = 0U;
#line 972
  goto ldv_38512;
  ldv_38511: 
#line 973
  set_sense_type(chip, i, 0);
#line 974
  chip->rw_fail_cnt[i] = 0;
#line 972
  i = i + 1U;
  ldv_38512: ;
#line 972
  if (i <= 7U) {
#line 974
    goto ldv_38511;
  } else {

  }
#line 977
  tmp___1 = check_sd_speed_prior(chip->sd_speed_prior);
#line 977
  if (tmp___1 == 0) {
#line 978
    chip->sd_speed_prior = 17039875U;
  } else {

  }
#line 980
  descriptor___0.modname = "rts5208";
#line 980
  descriptor___0.function = "rtsx_init_chip";
#line 980
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 980
  descriptor___0.format = "sd_speed_prior = 0x%08x\n";
#line 980
  descriptor___0.lineno = 981U;
#line 980
  descriptor___0.flags = 0U;
#line 980
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 980
  if (tmp___3 != 0L) {
#line 980
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 980
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "sd_speed_prior = 0x%08x\n",
                      chip->sd_speed_prior);
  } else {

  }
#line 983
  tmp___4 = check_sd_current_prior(chip->sd_current_prior);
#line 983
  if (tmp___4 == 0) {
#line 984
    chip->sd_current_prior = 66051U;
  } else {

  }
#line 986
  descriptor___1.modname = "rts5208";
#line 986
  descriptor___1.function = "rtsx_init_chip";
#line 986
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 986
  descriptor___1.format = "sd_current_prior = 0x%08x\n";
#line 986
  descriptor___1.lineno = 987U;
#line 986
  descriptor___1.flags = 0U;
#line 986
  tmp___6 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 986
  if (tmp___6 != 0L) {
#line 986
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 986
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___5, "sd_current_prior = 0x%08x\n",
                      chip->sd_current_prior);
  } else {

  }
#line 989
  if (chip->sd_ddr_tx_phase > 31 || chip->sd_ddr_tx_phase < 0) {
#line 990
    chip->sd_ddr_tx_phase = 0;
  } else {

  }
#line 992
  if (chip->mmc_ddr_tx_phase > 31 || chip->mmc_ddr_tx_phase < 0) {
#line 993
    chip->mmc_ddr_tx_phase = 0;
  } else {

  }
#line 995
  retval = rtsx_write_register(chip, 64512, 1, 0);
#line 996
  if (retval != 0) {
#line 997
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_init_chip", 997);
#line 998
    return (retval);
  } else {

  }
#line 1000
  tmp___7 = get_current();
#line 1000
  tmp___7->task_state_change = 0UL;
#line 1000
  __ret = 1L;
#line 1000
  switch (8UL) {
  case 1UL: 
#line 1000
  tmp___8 = get_current();
#line 1000
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 1000
  goto ldv_38518;
  case 2UL: 
#line 1000
  tmp___9 = get_current();
#line 1000
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___9->state): : "memory",
                       "cc");
#line 1000
  goto ldv_38518;
  case 4UL: 
#line 1000
  tmp___10 = get_current();
#line 1000
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___10->state): : "memory",
                       "cc");
#line 1000
  goto ldv_38518;
  case 8UL: 
#line 1000
  tmp___11 = get_current();
#line 1000
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___11->state): : "memory",
                       "cc");
#line 1000
  goto ldv_38518;
  default: 
#line 1000
  __xchg_wrong_size();
  }
  ldv_38518: 
#line 1000
  schedule_timeout(50L);
#line 1001
  retval = rtsx_write_register(chip, 64515, 7, 7);
#line 1002
  if (retval != 0) {
#line 1003
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_init_chip", 1003);
#line 1004
    return (retval);
  } else {

  }
#line 1006
  descriptor___2.modname = "rts5208";
#line 1006
  descriptor___2.function = "rtsx_init_chip";
#line 1006
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1006
  descriptor___2.format = "chip->use_hw_setting = %d\n";
#line 1006
  descriptor___2.lineno = 1007U;
#line 1006
  descriptor___2.flags = 0U;
#line 1006
  tmp___13 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1006
  if (tmp___13 != 0L) {
#line 1006
    tmp___12 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1006
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___12, "chip->use_hw_setting = %d\n",
                      chip->use_hw_setting);
  } else {

  }
#line 1009
  if ((unsigned int )chip->product_id == 21000U) {
#line 1010
    retval = rts5208_init(chip);
#line 1011
    if (retval != 0) {
#line 1012
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_init_chip", 1012);
#line 1013
      return (1);
    } else {

    }
  } else
#line 1016
  if ((unsigned int )chip->product_id == 21128U) {
#line 1017
    retval = rts5288_init(chip);
#line 1018
    if (retval != 0) {
#line 1019
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_init_chip", 1019);
#line 1020
      return (1);
    } else {

    }
  } else {

  }
#line 1024
  if (chip->ss_en == 2) {
#line 1025
    chip->ss_en = 0;
  } else {

  }
#line 1027
  descriptor___3.modname = "rts5208";
#line 1027
  descriptor___3.function = "rtsx_init_chip";
#line 1027
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1027
  descriptor___3.format = "chip->asic_code = %d\n";
#line 1027
  descriptor___3.lineno = 1027U;
#line 1027
  descriptor___3.flags = 0U;
#line 1027
  tmp___15 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1027
  if (tmp___15 != 0L) {
#line 1027
    tmp___14 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1027
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___14, "chip->asic_code = %d\n",
                      chip->asic_code);
  } else {

  }
#line 1028
  descriptor___4.modname = "rts5208";
#line 1028
  descriptor___4.function = "rtsx_init_chip";
#line 1028
  descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1028
  descriptor___4.format = "chip->ic_version = 0x%x\n";
#line 1028
  descriptor___4.lineno = 1028U;
#line 1028
  descriptor___4.flags = 0U;
#line 1028
  tmp___17 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 1028
  if (tmp___17 != 0L) {
#line 1028
    tmp___16 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1028
    __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___16, "chip->ic_version = 0x%x\n",
                      (int )chip->ic_version);
  } else {

  }
#line 1029
  descriptor___5.modname = "rts5208";
#line 1029
  descriptor___5.function = "rtsx_init_chip";
#line 1029
  descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1029
  descriptor___5.format = "chip->phy_debug_mode = %d\n";
#line 1029
  descriptor___5.lineno = 1030U;
#line 1029
  descriptor___5.flags = 0U;
#line 1029
  tmp___19 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 1029
  if (tmp___19 != 0L) {
#line 1029
    tmp___18 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1029
    __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___18, "chip->phy_debug_mode = %d\n",
                      chip->phy_debug_mode);
  } else {

  }
#line 1031
  descriptor___6.modname = "rts5208";
#line 1031
  descriptor___6.function = "rtsx_init_chip";
#line 1031
  descriptor___6.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1031
  descriptor___6.format = "chip->aux_pwr_exist = %d\n";
#line 1031
  descriptor___6.lineno = 1032U;
#line 1031
  descriptor___6.flags = 0U;
#line 1031
  tmp___21 = ldv__builtin_expect((long )descriptor___6.flags & 1L, 0L);
#line 1031
  if (tmp___21 != 0L) {
#line 1031
    tmp___20 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1031
    __dynamic_dev_dbg(& descriptor___6, (struct device  const  *)tmp___20, "chip->aux_pwr_exist = %d\n",
                      chip->aux_pwr_exist);
  } else {

  }
#line 1033
  descriptor___7.modname = "rts5208";
#line 1033
  descriptor___7.function = "rtsx_init_chip";
#line 1033
  descriptor___7.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1033
  descriptor___7.format = "chip->sdio_func_exist = %d\n";
#line 1033
  descriptor___7.lineno = 1034U;
#line 1033
  descriptor___7.flags = 0U;
#line 1033
  tmp___23 = ldv__builtin_expect((long )descriptor___7.flags & 1L, 0L);
#line 1033
  if (tmp___23 != 0L) {
#line 1033
    tmp___22 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1033
    __dynamic_dev_dbg(& descriptor___7, (struct device  const  *)tmp___22, "chip->sdio_func_exist = %d\n",
                      chip->sdio_func_exist);
  } else {

  }
#line 1035
  descriptor___8.modname = "rts5208";
#line 1035
  descriptor___8.function = "rtsx_init_chip";
#line 1035
  descriptor___8.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1035
  descriptor___8.format = "chip->hw_bypass_sd = %d\n";
#line 1035
  descriptor___8.lineno = 1036U;
#line 1035
  descriptor___8.flags = 0U;
#line 1035
  tmp___25 = ldv__builtin_expect((long )descriptor___8.flags & 1L, 0L);
#line 1035
  if (tmp___25 != 0L) {
#line 1035
    tmp___24 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1035
    __dynamic_dev_dbg(& descriptor___8, (struct device  const  *)tmp___24, "chip->hw_bypass_sd = %d\n",
                      chip->hw_bypass_sd);
  } else {

  }
#line 1037
  descriptor___9.modname = "rts5208";
#line 1037
  descriptor___9.function = "rtsx_init_chip";
#line 1037
  descriptor___9.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1037
  descriptor___9.format = "chip->aspm_l0s_l1_en = %d\n";
#line 1037
  descriptor___9.lineno = 1038U;
#line 1037
  descriptor___9.flags = 0U;
#line 1037
  tmp___27 = ldv__builtin_expect((long )descriptor___9.flags & 1L, 0L);
#line 1037
  if (tmp___27 != 0L) {
#line 1037
    tmp___26 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1037
    __dynamic_dev_dbg(& descriptor___9, (struct device  const  *)tmp___26, "chip->aspm_l0s_l1_en = %d\n",
                      (int )chip->aspm_l0s_l1_en);
  } else {

  }
#line 1039
  descriptor___10.modname = "rts5208";
#line 1039
  descriptor___10.function = "rtsx_init_chip";
#line 1039
  descriptor___10.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1039
  descriptor___10.format = "chip->lun_mode = %d\n";
#line 1039
  descriptor___10.lineno = 1039U;
#line 1039
  descriptor___10.flags = 0U;
#line 1039
  tmp___29 = ldv__builtin_expect((long )descriptor___10.flags & 1L, 0L);
#line 1039
  if (tmp___29 != 0L) {
#line 1039
    tmp___28 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1039
    __dynamic_dev_dbg(& descriptor___10, (struct device  const  *)tmp___28, "chip->lun_mode = %d\n",
                      (int )chip->lun_mode);
  } else {

  }
#line 1040
  descriptor___11.modname = "rts5208";
#line 1040
  descriptor___11.function = "rtsx_init_chip";
#line 1040
  descriptor___11.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1040
  descriptor___11.format = "chip->auto_delink_en = %d\n";
#line 1040
  descriptor___11.lineno = 1041U;
#line 1040
  descriptor___11.flags = 0U;
#line 1040
  tmp___31 = ldv__builtin_expect((long )descriptor___11.flags & 1L, 0L);
#line 1040
  if (tmp___31 != 0L) {
#line 1040
    tmp___30 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1040
    __dynamic_dev_dbg(& descriptor___11, (struct device  const  *)tmp___30, "chip->auto_delink_en = %d\n",
                      chip->auto_delink_en);
  } else {

  }
#line 1042
  descriptor___12.modname = "rts5208";
#line 1042
  descriptor___12.function = "rtsx_init_chip";
#line 1042
  descriptor___12.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1042
  descriptor___12.format = "chip->ss_en = %d\n";
#line 1042
  descriptor___12.lineno = 1042U;
#line 1042
  descriptor___12.flags = 0U;
#line 1042
  tmp___33 = ldv__builtin_expect((long )descriptor___12.flags & 1L, 0L);
#line 1042
  if (tmp___33 != 0L) {
#line 1042
    tmp___32 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1042
    __dynamic_dev_dbg(& descriptor___12, (struct device  const  *)tmp___32, "chip->ss_en = %d\n",
                      chip->ss_en);
  } else {

  }
#line 1043
  descriptor___13.modname = "rts5208";
#line 1043
  descriptor___13.function = "rtsx_init_chip";
#line 1043
  descriptor___13.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1043
  descriptor___13.format = "chip->baro_pkg = %d\n";
#line 1043
  descriptor___13.lineno = 1043U;
#line 1043
  descriptor___13.flags = 0U;
#line 1043
  tmp___35 = ldv__builtin_expect((long )descriptor___13.flags & 1L, 0L);
#line 1043
  if (tmp___35 != 0L) {
#line 1043
    tmp___34 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1043
    __dynamic_dev_dbg(& descriptor___13, (struct device  const  *)tmp___34, "chip->baro_pkg = %d\n",
                      chip->baro_pkg);
  } else {

  }
#line 1045
  if ((unsigned int )chip->lun_mode == 1U) {
#line 1046
    chip->card2lun[4] = 0U;
#line 1047
    chip->card2lun[8] = 1U;
#line 1048
    chip->card2lun[16] = 255U;
#line 1049
    chip->lun2card[0] = 4U;
#line 1050
    chip->lun2card[1] = 8U;
#line 1051
    chip->max_lun = 1;
#line 1052
    chip->sdio_func_exist = chip->sdio_func_exist | 2;
  } else
#line 1053
  if ((unsigned int )chip->lun_mode == 2U) {
#line 1054
    chip->card2lun[4] = 0U;
#line 1055
    chip->card2lun[8] = 0U;
#line 1056
    chip->card2lun[16] = 255U;
#line 1057
    chip->lun2card[0] = 12U;
#line 1058
    chip->max_lun = 0;
  } else {
#line 1060
    chip->card2lun[16] = 0U;
#line 1061
    chip->card2lun[4] = 0U;
#line 1062
    chip->card2lun[8] = 0U;
#line 1063
    chip->lun2card[0] = 28U;
#line 1064
    chip->max_lun = 0;
  }
#line 1067
  retval = rtsx_reset_chip(chip);
#line 1068
  if (retval != 0) {
#line 1069
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_init_chip", 1069);
#line 1070
    return (1);
  } else {

  }
#line 1073
  return (0);
}
}
#line 1076 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_release_chip(struct rtsx_chip *chip ) 
{ 


  {
#line 1078
  xd_free_l2p_tbl(chip);
#line 1079
  ms_free_l2p_tbl(chip);
#line 1080
  chip->card_exist = 0U;
#line 1081
  chip->card_ready = 0U;
#line 1082
  return;
}
}
#line 1085 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
__inline static void rtsx_blink_led(struct rtsx_chip *chip ) 
{ 


  {
#line 1087
  if ((unsigned int )chip->card_exist != 0U && (unsigned int )chip->blink_led != 0U) {
#line 1088
    if (chip->led_toggle_counter <= 5) {
#line 1089
      chip->led_toggle_counter = chip->led_toggle_counter + 1;
    } else {
#line 1091
      chip->led_toggle_counter = 0;
#line 1092
      toggle_gpio(chip, 0);
    }
  } else {

  }
#line 1094
  return;
}
}
#line 1098 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_monitor_aspm_config(struct rtsx_chip *chip ) 
{ 
  bool reg_changed ;
  bool maybe_support_aspm ;
  u32 tmp ;
  u8 reg0 ;
  u8 reg1 ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;

  {
#line 1101
  tmp = 0U;
#line 1102
  reg0 = 0U;
#line 1102
  reg1 = 0U;
#line 1104
  maybe_support_aspm = 0;
#line 1105
  reg_changed = 0;
#line 1106
  pci_read_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 128, & reg0);
#line 1107
  if ((int )chip->aspm_level[0] != (int )reg0) {
#line 1108
    reg_changed = 1;
#line 1109
    chip->aspm_level[0] = reg0;
  } else {

  }
#line 1111
  if (chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) {
#line 1112
    rtsx_read_cfg_dw(chip, 1, 192, & tmp);
#line 1113
    reg1 = (unsigned char )tmp;
#line 1114
    if ((int )chip->aspm_level[1] != (int )reg1) {
#line 1115
      reg_changed = 1;
#line 1116
      chip->aspm_level[1] = reg1;
    } else {

    }
#line 1119
    if (((int )reg0 & 3) != 0 && ((int )reg1 & 3) != 0) {
#line 1120
      maybe_support_aspm = 1;
    } else {

    }
  } else
#line 1123
  if (((int )reg0 & 3) != 0) {
#line 1124
    maybe_support_aspm = 1;
  } else {

  }
#line 1127
  if ((int )reg_changed) {
#line 1128
    if ((int )maybe_support_aspm) {
#line 1129
      chip->aspm_l0s_l1_en = 3U;
    } else {

    }
#line 1131
    descriptor.modname = "rts5208";
#line 1131
    descriptor.function = "rtsx_monitor_aspm_config";
#line 1131
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1131
    descriptor.format = "aspm_level[0] = 0x%02x, aspm_level[1] = 0x%02x\n";
#line 1131
    descriptor.lineno = 1132U;
#line 1131
    descriptor.flags = 0U;
#line 1131
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1131
    if (tmp___1 != 0L) {
#line 1131
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1131
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "aspm_level[0] = 0x%02x, aspm_level[1] = 0x%02x\n",
                        (int )chip->aspm_level[0], (int )chip->aspm_level[1]);
    } else {

    }
#line 1134
    if ((unsigned int )chip->aspm_l0s_l1_en != 0U) {
#line 1135
      chip->aspm_enabled = 1;
    } else {
#line 1137
      chip->aspm_enabled = 0;
#line 1138
      chip->sdio_aspm = 0;
    }
#line 1140
    rtsx_write_register(chip, 65111, 255, (int )((u8 )((int )((signed char )((unsigned int )chip->aspm_level[0] | 48U)) | (int )((signed char )((int )chip->aspm_level[1] << 2)))));
  } else {

  }
#line 1144
  return;
}
}
#line 1146 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_ocp(struct rtsx_chip *chip ) 
{ 


  {
#line 1149
  if (chip->ocp_int == 0U) {
#line 1150
    return;
  } else {

  }
#line 1152
  rtsx_read_register(chip, 64534, & chip->ocp_stat);
#line 1154
  if (((int )chip->card_exist & 4) != 0) {
#line 1155
    sd_power_off_card3v3(chip);
  } else
#line 1156
  if (((int )chip->card_exist & 8) != 0) {
#line 1157
    ms_power_off_card3v3(chip);
  } else
#line 1158
  if (((int )chip->card_exist & 16) != 0) {
#line 1159
    xd_power_off_card3v3(chip);
  } else {

  }
#line 1161
  chip->ocp_int = 0U;
#line 1162
  return;
}
}
#line 1165 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_sd_lock(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  u8 val ;

  {
#line 1168
  sd_card = & chip->sd_card;
#line 1171
  if ((unsigned int )sd_card->sd_erase_status == 0U) {
#line 1172
    return;
  } else {

  }
#line 1174
  if (((int )chip->card_exist & 4) != 0) {
#line 1175
    rtsx_read_register(chip, 64816, & val);
#line 1176
    if (((int )val & 2) != 0) {
#line 1177
      sd_card->sd_erase_status = 0U;
#line 1178
      sd_card->sd_lock_notify = 1U;
#line 1179
      chip->need_reinit = chip->need_reinit | 4UL;
    } else {

    }
  } else {
#line 1182
    sd_card->sd_erase_status = 0U;
  }
#line 1183
  return;
}
}
#line 1187 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static bool rtsx_is_ss_allowed(struct rtsx_chip *chip ) 
{ 
  u32 val ;

  {
#line 1191
  if (chip->ss_en == 0 || (unsigned int )chip->product_id == 21128U) {
#line 1192
    return (0);
  } else {

  }
#line 1194
  if (chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) {
#line 1195
    rtsx_read_cfg_dw(chip, 1, 4, & val);
#line 1196
    if ((val & 7U) != 0U) {
#line 1197
      return (0);
    } else {

    }
  } else {

  }
#line 1200
  return (1);
}
}
#line 1203 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_ss(struct rtsx_chip *chip ) 
{ 
  bool tmp ;
  int tmp___0 ;

  {
#line 1205
  tmp = rtsx_is_ss_allowed(chip);
#line 1205
  if (tmp) {
#line 1205
    tmp___0 = 0;
  } else {
#line 1205
    tmp___0 = 1;
  }
#line 1205
  if (tmp___0 || (unsigned int )chip->sd_io != 0U) {
#line 1206
    return;
  } else {

  }
#line 1208
  if ((unsigned int )chip->rtsx_stat != 1U) {
#line 1209
    chip->ss_counter = 0;
#line 1210
    return;
  } else {

  }
#line 1213
  if (chip->ss_counter < chip->ss_idle_period / 30) {
#line 1214
    chip->ss_counter = chip->ss_counter + 1;
  } else {
#line 1216
    rtsx_exclusive_enter_ss(chip);
  }
#line 1217
  return;
}
}
#line 1219 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_aspm(struct rtsx_chip *chip ) 
{ 
  u8 data ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1223
  if ((unsigned int )chip->product_id != 21000U) {
#line 1224
    return;
  } else {

  }
#line 1226
  rtsx_monitor_aspm_config(chip);
#line 1229
  if ((((chip->sdio_func_exist & 1) == 0 || (chip->sdio_func_exist & 2) != 0) || (unsigned int )chip->aspm_l0s_l1_en == 0U) || chip->dynamic_aspm == 0) {
#line 1231
    return;
  } else {

  }
#line 1233
  if ((unsigned int )chip->sd_io != 0U) {
#line 1234
    dynamic_configure_sdio_aspm(chip);
#line 1235
    return;
  } else {

  }
#line 1238
  if (chip->sdio_aspm != 0) {
#line 1239
    return;
  } else {

  }
#line 1241
  descriptor.modname = "rts5208";
#line 1241
  descriptor.function = "rtsx_manage_aspm";
#line 1241
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1241
  descriptor.format = "SDIO enter ASPM!\n";
#line 1241
  descriptor.lineno = 1241U;
#line 1241
  descriptor.flags = 0U;
#line 1241
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1241
  if (tmp___0 != 0L) {
#line 1241
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1241
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SDIO enter ASPM!\n");
  } else {

  }
#line 1242
  data = (u8 )((int )((signed char )((int )chip->aspm_level[1] << 2)) | 48);
#line 1243
  rtsx_write_register(chip, 65111, 252, (int )data);
#line 1244
  chip->sdio_aspm = 1;
#line 1245
  return;
}
}
#line 1248 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_idle(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1250
  if (chip->idle_counter <= 9) {
#line 1251
    chip->idle_counter = chip->idle_counter + 1;
#line 1252
    return;
  } else {

  }
#line 1255
  if ((unsigned int )chip->rtsx_stat == 1U) {
#line 1256
    return;
  } else {

  }
#line 1258
  descriptor.modname = "rts5208";
#line 1258
  descriptor.function = "rtsx_manage_idle";
#line 1258
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1258
  descriptor.format = "Idle state!\n";
#line 1258
  descriptor.lineno = 1258U;
#line 1258
  descriptor.flags = 0U;
#line 1258
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1258
  if (tmp___0 != 0L) {
#line 1258
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1258
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Idle state!\n");
  } else {

  }
#line 1259
  chip->rtsx_stat = 1;
#line 1262
  chip->led_toggle_counter = 0;
#line 1264
  rtsx_force_power_on(chip, 1);
#line 1266
  turn_off_led(chip, 0);
#line 1268
  if ((chip->auto_power_down != 0 && (unsigned int )chip->card_ready == 0U) && (unsigned int )chip->sd_io == 0U) {
#line 1269
    rtsx_force_power_down(chip, 3);
  } else {

  }
#line 1270
  return;
}
}
#line 1272 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_2lun_mode(struct rtsx_chip *chip ) 
{ 
  u8 sd_oc ;
  u8 ms_oc ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1277
  sd_oc = (unsigned int )chip->ocp_stat & 6U;
#line 1278
  ms_oc = (unsigned int )chip->ocp_stat & 96U;
#line 1280
  if ((unsigned int )sd_oc != 0U || (unsigned int )ms_oc != 0U) {
#line 1281
    descriptor.modname = "rts5208";
#line 1281
    descriptor.function = "rtsx_manage_2lun_mode";
#line 1281
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1281
    descriptor.format = "Over current, OCPSTAT is 0x%x\n";
#line 1281
    descriptor.lineno = 1282U;
#line 1281
    descriptor.flags = 0U;
#line 1281
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1281
    if (tmp___0 != 0L) {
#line 1281
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1281
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Over current, OCPSTAT is 0x%x\n",
                        (int )chip->ocp_stat);
    } else {

    }
  } else {

  }
#line 1284
  if ((unsigned int )sd_oc != 0U && ((int )chip->card_exist & 4) != 0) {
#line 1285
    rtsx_write_register(chip, 64853, 4, 0);
#line 1286
    card_power_off(chip, 4);
#line 1287
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 4U);
  } else {

  }
#line 1290
  if ((unsigned int )ms_oc != 0U && ((int )chip->card_exist & 8) != 0) {
#line 1291
    rtsx_write_register(chip, 64853, 8, 0);
#line 1292
    card_power_off(chip, 8);
#line 1293
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 8U);
  } else {

  }
#line 1295
  return;
}
}
#line 1298 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_manage_1lun_mode(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1301
  if (((int )chip->ocp_stat & 6) == 0) {
#line 1302
    return;
  } else {

  }
#line 1304
  descriptor.modname = "rts5208";
#line 1304
  descriptor.function = "rtsx_manage_1lun_mode";
#line 1304
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1304
  descriptor.format = "Over current, OCPSTAT is 0x%x\n";
#line 1304
  descriptor.lineno = 1305U;
#line 1304
  descriptor.flags = 0U;
#line 1304
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1304
  if (tmp___0 != 0L) {
#line 1304
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1304
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Over current, OCPSTAT is 0x%x\n",
                      (int )chip->ocp_stat);
  } else {

  }
#line 1307
  if (((int )chip->card_exist & 4) != 0) {
#line 1308
    rtsx_write_register(chip, 64853, 4, 0);
#line 1309
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 4U);
  } else
#line 1310
  if (((int )chip->card_exist & 8) != 0) {
#line 1311
    rtsx_write_register(chip, 64853, 8, 0);
#line 1312
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 8U);
  } else
#line 1313
  if (((int )chip->card_exist & 16) != 0) {
#line 1314
    rtsx_write_register(chip, 64853, 2, 0);
#line 1315
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
  } else {

  }
#line 1317
  card_power_off(chip, 4);
#line 1318
  return;
}
}
#line 1321 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_delink_stage1(struct rtsx_chip *chip , int enter_L1 , int stage3_cnt ) 
{ 
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 1326
  chip->idle_counter = 0;
#line 1326
  chip->rtsx_stat = 4;
#line 1328
  if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 1329
    rtsx_set_phy_reg_bit(chip, 28, 2);
  } else {

  }
#line 1331
  if ((unsigned int )chip->card_exist != 0U) {
#line 1332
    descriptor.modname = "rts5208";
#line 1332
    descriptor.function = "rtsx_delink_stage1";
#line 1332
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1332
    descriptor.format = "False card inserted, do force delink\n";
#line 1332
    descriptor.lineno = 1332U;
#line 1332
    descriptor.flags = 0U;
#line 1332
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1332
    if (tmp___0 != 0L) {
#line 1332
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1332
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "False card inserted, do force delink\n");
    } else {

    }
  } else {
#line 1334
    descriptor___0.modname = "rts5208";
#line 1334
    descriptor___0.function = "rtsx_delink_stage1";
#line 1334
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1334
    descriptor___0.format = "No card inserted, do delink\n";
#line 1334
    descriptor___0.lineno = 1334U;
#line 1334
    descriptor___0.flags = 0U;
#line 1334
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1334
    if (tmp___2 != 0L) {
#line 1334
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1334
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "No card inserted, do delink\n");
    } else {

    }
  }
#line 1336
  if (enter_L1 != 0) {
#line 1337
    rtsx_write_register(chip, 65120, 3, 1);
  } else {

  }
#line 1339
  if ((unsigned int )chip->card_exist != 0U) {
#line 1340
    val = 2U;
  } else {
#line 1342
    val = 10U;
  }
#line 1344
  rtsx_write_register(chip, 65115, (int )val, (int )val);
#line 1346
  if (enter_L1 != 0) {
#line 1347
    rtsx_enter_L1(chip);
  } else {

  }
#line 1349
  if ((unsigned int )chip->card_exist != 0U) {
#line 1350
    chip->auto_delink_cnt = stage3_cnt + 1;
  } else {

  }
#line 1351
  return;
}
}
#line 1353 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_delink_stage(struct rtsx_chip *chip ) 
{ 
  int delink_stage1_cnt ;
  int delink_stage2_cnt ;
  int delink_stage3_cnt ;
  int enter_L1 ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1358
  if ((((chip->auto_delink_en == 0 || chip->auto_delink_allowed == 0) || (unsigned int )chip->card_ready != 0U) || (unsigned int )chip->card_ejected != 0U) || (unsigned int )chip->sd_io != 0U) {
#line 1360
    chip->auto_delink_cnt = 0;
#line 1361
    return;
  } else {

  }
#line 1364
  enter_L1 = chip->auto_delink_in_L1 != 0 && ((unsigned int )chip->aspm_l0s_l1_en != 0U || chip->ss_en != 0);
#line 1367
  delink_stage1_cnt = chip->delink_stage1_step;
#line 1368
  delink_stage2_cnt = chip->delink_stage2_step + delink_stage1_cnt;
#line 1369
  delink_stage3_cnt = chip->delink_stage3_step + delink_stage2_cnt;
#line 1371
  if (chip->auto_delink_cnt > delink_stage3_cnt) {
#line 1372
    return;
  } else {

  }
#line 1374
  if (chip->auto_delink_cnt == delink_stage1_cnt) {
#line 1375
    rtsx_delink_stage1(chip, enter_L1, delink_stage3_cnt);
  } else {

  }
#line 1377
  if (chip->auto_delink_cnt == delink_stage2_cnt) {
#line 1378
    descriptor.modname = "rts5208";
#line 1378
    descriptor.function = "rtsx_delink_stage";
#line 1378
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1378
    descriptor.format = "Try to do force delink\n";
#line 1378
    descriptor.lineno = 1378U;
#line 1378
    descriptor.flags = 0U;
#line 1378
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1378
    if (tmp___0 != 0L) {
#line 1378
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1378
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Try to do force delink\n");
    } else {

    }
#line 1380
    if (enter_L1 != 0) {
#line 1381
      rtsx_exit_L1(chip);
    } else {

    }
#line 1383
    if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 1384
      rtsx_set_phy_reg_bit(chip, 28, 2);
    } else {

    }
#line 1386
    rtsx_write_register(chip, 65115, 10, 10);
  } else {

  }
#line 1389
  chip->auto_delink_cnt = chip->auto_delink_cnt + 1;
#line 1390
  return;
}
}
#line 1392 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_polling_func(struct rtsx_chip *chip ) 
{ 
  u8 val ;

  {
#line 1394
  if ((unsigned int )chip->rtsx_stat == 5U) {
#line 1395
    return;
  } else {

  }
#line 1397
  if ((unsigned int )chip->rtsx_stat == 4U) {
#line 1398
    goto delink_stage;
  } else {

  }
#line 1400
  if (chip->polling_config != 0) {
#line 1403
    pci_read_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 0, & val);
  } else {

  }
#line 1406
  if ((unsigned int )chip->rtsx_stat == 3U) {
#line 1407
    return;
  } else {

  }
#line 1409
  rtsx_manage_ocp(chip);
#line 1411
  rtsx_manage_sd_lock(chip);
#line 1413
  rtsx_init_cards(chip);
#line 1415
  rtsx_manage_ss(chip);
#line 1417
  rtsx_manage_aspm(chip);
#line 1419
  rtsx_manage_idle(chip);
#line 1421
  switch ((unsigned int )chip->rtsx_stat) {
  case 2U: 
#line 1424
  rtsx_blink_led(chip);
#line 1426
  do_remaining_work(chip);
#line 1427
  goto ldv_38614;
  case 1U: ;
#line 1430
  if ((unsigned int )chip->sd_io != 0U && (unsigned int )chip->sd_int == 0U) {
#line 1431
    try_to_switch_sdio_ctrl(chip);
  } else {

  }
#line 1433
  rtsx_enable_aspm(chip);
#line 1434
  goto ldv_38614;
  default: ;
#line 1437
  goto ldv_38614;
  }
  ldv_38614: ;
#line 1440
  if ((unsigned int )chip->lun_mode == 1U) {
#line 1441
    rtsx_manage_2lun_mode(chip);
  } else {
#line 1443
    rtsx_manage_1lun_mode(chip);
  }
  delink_stage: 
#line 1446
  rtsx_delink_stage(chip);
#line 1447
  return;
}
}
#line 1449 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_undo_delink(struct rtsx_chip *chip ) 
{ 


  {
#line 1451
  chip->auto_delink_allowed = 0;
#line 1452
  rtsx_write_register(chip, 65115, 10, 0);
#line 1453
  return;
}
}
#line 1463 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_stop_cmd(struct rtsx_chip *chip , int card ) 
{ 
  int i ;
  int addr ;
  u32 reg ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u16 addr___0 ;
  u8 val ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 1467
  i = 0;
#line 1467
  goto ldv_38630;
  ldv_38629: 
#line 1468
  addr = i * 4;
#line 1471
  reg = ioread32((chip->rtsx)->remap_addr + (unsigned long )addr);
#line 1472
  descriptor.modname = "rts5208";
#line 1472
  descriptor.function = "rtsx_stop_cmd";
#line 1472
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1472
  descriptor.format = "BAR (0x%02x): 0x%08x\n";
#line 1472
  descriptor.lineno = 1472U;
#line 1472
  descriptor.flags = 0U;
#line 1472
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1472
  if (tmp___0 != 0L) {
#line 1472
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1472
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "BAR (0x%02x): 0x%08x\n",
                      addr, reg);
  } else {

  }
#line 1467
  i = i + 1;
  ldv_38630: ;
#line 1467
  if (i <= 8) {
#line 1469
    goto ldv_38629;
  } else {

  }
#line 1474
  iowrite32(268435456U, (chip->rtsx)->remap_addr + 4UL);
#line 1475
  iowrite32(268435456U, (chip->rtsx)->remap_addr + 12UL);
#line 1477
  i = 0;
#line 1477
  goto ldv_38636;
  ldv_38635: 
#line 1478
  addr___0 = (unsigned int )((u16 )i) + 65056U;
#line 1481
  rtsx_read_register(chip, (int )addr___0, & val);
#line 1482
  descriptor___0.modname = "rts5208";
#line 1482
  descriptor___0.function = "rtsx_stop_cmd";
#line 1482
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1482
  descriptor___0.format = "0x%04X: 0x%02x\n";
#line 1482
  descriptor___0.lineno = 1482U;
#line 1482
  descriptor___0.flags = 0U;
#line 1482
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1482
  if (tmp___2 != 0L) {
#line 1482
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1482
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "0x%04X: 0x%02x\n",
                      (int )addr___0, (int )val);
  } else {

  }
#line 1477
  i = i + 1;
  ldv_38636: ;
#line 1477
  if (i <= 15) {
#line 1479
    goto ldv_38635;
  } else {

  }
#line 1485
  rtsx_write_register(chip, 65068, 128, 128);
#line 1486
  rtsx_write_register(chip, 65076, 128, 128);
#line 1487
  return;
}
}
#line 1491 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_register(struct rtsx_chip *chip , u16 addr , u8 mask , u8 data ) 
{ 
  int i ;
  u32 val ;

  {
#line 1494
  val = 3221225472U;
#line 1496
  val = (((unsigned int )addr & 16383U) << 16) | val;
#line 1497
  val = ((unsigned int )mask << 8) | val;
#line 1498
  val = (u32 )data | val;
#line 1500
  iowrite32(val, (chip->rtsx)->remap_addr + 16UL);
#line 1502
  i = 0;
#line 1502
  goto ldv_38648;
  ldv_38647: 
#line 1503
  val = ioread32((chip->rtsx)->remap_addr + 16UL);
#line 1504
  if ((int )val >= 0) {
#line 1505
    if ((int )((unsigned char )val) != (int )data) {
#line 1506
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_register", 1506);
#line 1507
      return (1);
    } else {

    }
#line 1510
    return (0);
  } else {

  }
#line 1502
  i = i + 1;
  ldv_38648: ;
#line 1502
  if (i <= 1023) {
#line 1504
    goto ldv_38647;
  } else {

  }
#line 1514
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
              "rtsx_write_register", 1514);
#line 1515
  return (2);
}
}
#line 1518 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_register(struct rtsx_chip *chip , u16 addr , u8 *data ) 
{ 
  u32 val ;
  int i ;

  {
#line 1520
  val = 2147483648U;
#line 1523
  if ((unsigned long )data != (unsigned long )((u8 *)0U)) {
#line 1524
    *data = 0U;
  } else {

  }
#line 1526
  val = (((unsigned int )addr & 16383U) << 16) | val;
#line 1528
  iowrite32(val, (chip->rtsx)->remap_addr + 16UL);
#line 1530
  i = 0;
#line 1530
  goto ldv_38659;
  ldv_38658: 
#line 1531
  val = ioread32((chip->rtsx)->remap_addr + 16UL);
#line 1532
  if ((int )val >= 0) {
#line 1533
    goto ldv_38657;
  } else {

  }
#line 1530
  i = i + 1;
  ldv_38659: ;
#line 1530
  if (i <= 1023) {
#line 1532
    goto ldv_38658;
  } else {

  }
  ldv_38657: ;
#line 1536
  if (i > 1023) {
#line 1537
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_register", 1537);
#line 1538
    return (2);
  } else {

  }
#line 1541
  if ((unsigned long )data != (unsigned long )((u8 *)0U)) {
#line 1542
    *data = (unsigned char )val;
  } else {

  }
#line 1544
  return (0);
}
}
#line 1547 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_cfg_dw(struct rtsx_chip *chip , u8 func_no , u16 addr , u32 mask ,
                      u32 val ) 
{ 
  int retval ;
  u8 mode ;
  u8 tmp ;
  int i ;

  {
#line 1551
  mode = 0U;
#line 1554
  i = 0;
#line 1554
  goto ldv_38674;
  ldv_38673: ;
#line 1555
  if ((mask & 255U) != 0U) {
#line 1556
    retval = rtsx_write_register(chip, (int )((unsigned int )((u16 )i) + 65079U),
                                 255, (int )((unsigned char )val) & (int )((unsigned char )mask));
#line 1559
    if (retval != 0) {
#line 1560
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_cfg_dw", 1560);
#line 1561
      return (retval);
    } else {

    }
#line 1563
    mode = (u8 )((int )((signed char )(1 << i)) | (int )((signed char )mode));
  } else {

  }
#line 1565
  mask = mask >> 8;
#line 1566
  val = val >> 8;
#line 1554
  i = i + 1;
  ldv_38674: ;
#line 1554
  if (i <= 3) {
#line 1556
    goto ldv_38673;
  } else {

  }

#line 1569
  if ((unsigned int )mode != 0U) {
#line 1570
    retval = rtsx_write_register(chip, 65077, 255, (int )((unsigned char )addr));
#line 1571
    if (retval != 0) {
#line 1572
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_cfg_dw", 1572);
#line 1573
      return (retval);
    } else {

    }
#line 1575
    retval = rtsx_write_register(chip, 65078, 255, (int )((unsigned char )((int )addr >> 8)));
#line 1577
    if (retval != 0) {
#line 1578
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_cfg_dw", 1578);
#line 1579
      return (retval);
    } else {

    }
#line 1582
    retval = rtsx_write_register(chip, 65083, 255, (int )((u8 )((int )((signed char )((unsigned int )mode | 128U)) | (int )((signed char )(((int )func_no & 3) << 4)))));
#line 1584
    if (retval != 0) {
#line 1585
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_cfg_dw", 1585);
#line 1586
      return (retval);
    } else {

    }
#line 1589
    i = 0;
#line 1589
    goto ldv_38678;
    ldv_38677: 
#line 1590
    retval = rtsx_read_register(chip, 65083, & tmp);
#line 1591
    if (retval != 0) {
#line 1592
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_cfg_dw", 1592);
#line 1593
      return (retval);
    } else {

    }
#line 1595
    if ((int )((signed char )tmp) >= 0) {
#line 1596
      goto ldv_38676;
    } else {

    }
#line 1589
    i = i + 1;
    ldv_38678: ;
#line 1589
    if (i <= 1023) {
#line 1591
      goto ldv_38677;
    } else {

    }
    ldv_38676: ;
  } else {

  }
#line 1600
  return (0);
}
}
#line 1603 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_cfg_dw(struct rtsx_chip *chip , u8 func_no , u16 addr , u32 *val ) 
{ 
  int retval ;
  int i ;
  u8 tmp ;
  u32 data ;

  {
#line 1608
  data = 0U;
#line 1610
  retval = rtsx_write_register(chip, 65077, 255, (int )((unsigned char )addr));
#line 1611
  if (retval != 0) {
#line 1612
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_dw", 1612);
#line 1613
    return (retval);
  } else {

  }
#line 1615
  retval = rtsx_write_register(chip, 65078, 255, (int )((unsigned char )((int )addr >> 8)));
#line 1616
  if (retval != 0) {
#line 1617
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_dw", 1617);
#line 1618
    return (retval);
  } else {

  }
#line 1620
  retval = rtsx_write_register(chip, 65083, 255, (int )((u8 )((int )((signed char )(((int )func_no & 3) << 4)) | -128)));
#line 1622
  if (retval != 0) {
#line 1623
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_dw", 1623);
#line 1624
    return (retval);
  } else {

  }
#line 1627
  i = 0;
#line 1627
  goto ldv_38692;
  ldv_38691: 
#line 1628
  retval = rtsx_read_register(chip, 65083, & tmp);
#line 1629
  if (retval != 0) {
#line 1630
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_dw", 1630);
#line 1631
    return (retval);
  } else {

  }
#line 1633
  if ((int )((signed char )tmp) >= 0) {
#line 1634
    goto ldv_38690;
  } else {

  }
#line 1627
  i = i + 1;
  ldv_38692: ;
#line 1627
  if (i <= 1023) {
#line 1629
    goto ldv_38691;
  } else {

  }
  ldv_38690: 
#line 1637
  i = 0;
#line 1637
  goto ldv_38694;
  ldv_38693: 
#line 1638
  retval = rtsx_read_register(chip, (int )((unsigned int )((u16 )i) + 65079U), & tmp);
#line 1639
  if (retval != 0) {
#line 1640
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_dw", 1640);
#line 1641
    return (retval);
  } else {

  }
#line 1643
  data = ((unsigned int )tmp << i * 8) | data;
#line 1637
  i = i + 1;
  ldv_38694: ;
#line 1637
  if (i <= 3) {
#line 1639
    goto ldv_38693;
  } else {

  }

#line 1646
  if ((unsigned long )val != (unsigned long )((u32 *)0U)) {
#line 1647
    *val = data;
  } else {

  }
#line 1649
  return (0);
}
}
#line 1652 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_cfg_seq(struct rtsx_chip *chip , u8 func , u16 addr , u8 *buf , int len ) 
{ 
  u32 *data ;
  u32 *mask ;
  u16 offset ;
  u16 aligned_addr ;
  int dw_len ;
  int i ;
  int j ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  struct _ddebug descriptor___0 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  long tmp___4 ;

  {
#line 1656
  offset = (unsigned int )addr & 3U;
#line 1657
  aligned_addr = (int )addr - (int )offset;
#line 1661
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1662
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_cfg_seq", 1662);
#line 1663
    return (3);
  } else {

  }
#line 1666
  if (((unsigned int )((int )offset + len) & 3U) != 0U) {
#line 1667
    dw_len = ((int )offset + len) / 4 + 1;
  } else {
#line 1669
    dw_len = ((int )offset + len) / 4;
  }
#line 1671
  descriptor.modname = "rts5208";
#line 1671
  descriptor.function = "rtsx_write_cfg_seq";
#line 1671
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1671
  descriptor.format = "dw_len = %d\n";
#line 1671
  descriptor.lineno = 1671U;
#line 1671
  descriptor.flags = 0U;
#line 1671
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1671
  if (tmp___0 != 0L) {
#line 1671
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1671
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "dw_len = %d\n",
                      dw_len);
  } else {

  }
#line 1673
  tmp___1 = vzalloc((unsigned long )(dw_len * 4));
#line 1673
  data = (u32 *)tmp___1;
#line 1674
  if ((unsigned long )data == (unsigned long )((u32 *)0U)) {
#line 1675
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_cfg_seq", 1675);
#line 1676
    return (3);
  } else {

  }
#line 1679
  tmp___2 = vzalloc((unsigned long )(dw_len * 4));
#line 1679
  mask = (u32 *)tmp___2;
#line 1680
  if ((unsigned long )mask == (unsigned long )((u32 *)0U)) {
#line 1681
    vfree((void const   *)data);
#line 1682
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_cfg_seq", 1682);
#line 1683
    return (3);
  } else {

  }
#line 1686
  j = 0;
#line 1687
  i = 0;
#line 1687
  goto ldv_38714;
  ldv_38713: 
#line 1688
  *(mask + (unsigned long )j) = *(mask + (unsigned long )j) | (u32 )(255 << (int )offset * 8);
#line 1689
  *(data + (unsigned long )j) = *(data + (unsigned long )j) | (u32 )((int )*(buf + (unsigned long )i) << (int )offset * 8);
#line 1690
  offset = (u16 )((int )offset + 1);
#line 1690
  if ((unsigned int )offset == 4U) {
#line 1691
    j = j + 1;
#line 1692
    offset = 0U;
  } else {

  }
#line 1687
  i = i + 1;
  ldv_38714: ;
#line 1687
  if (i < len) {
#line 1689
    goto ldv_38713;
  } else {

  }
#line 1696
  descriptor___0.modname = "rts5208";
#line 1696
  descriptor___0.function = "rtsx_write_cfg_seq";
#line 1696
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1696
  descriptor___0.format = "rts5208: ";
#line 1696
  descriptor___0.lineno = 1697U;
#line 1696
  descriptor___0.flags = 0U;
#line 1696
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1696
  if (tmp___3 != 0L) {
#line 1696
    print_hex_dump("\017", "rts5208: ", 0, 16, 1, (void const   *)mask, (size_t )(dw_len * 4),
                   1);
  } else {

  }
#line 1698
  descriptor___1.modname = "rts5208";
#line 1698
  descriptor___1.function = "rtsx_write_cfg_seq";
#line 1698
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1698
  descriptor___1.format = "rts5208: ";
#line 1698
  descriptor___1.lineno = 1699U;
#line 1698
  descriptor___1.flags = 0U;
#line 1698
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1698
  if (tmp___4 != 0L) {
#line 1698
    print_hex_dump("\017", "rts5208: ", 0, 16, 1, (void const   *)data, (size_t )(dw_len * 4),
                   1);
  } else {

  }
#line 1701
  i = 0;
#line 1701
  goto ldv_38719;
  ldv_38718: 
#line 1702
  retval = rtsx_write_cfg_dw(chip, (int )func, (int )((unsigned int )((u16 )i) * 4U + (unsigned int )aligned_addr),
                             *(mask + (unsigned long )i), *(data + (unsigned long )i));
#line 1704
  if (retval != 0) {
#line 1705
    vfree((void const   *)data);
#line 1706
    vfree((void const   *)mask);
#line 1707
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_cfg_seq", 1707);
#line 1708
    return (1);
  } else {

  }
#line 1701
  i = i + 1;
  ldv_38719: ;
#line 1701
  if (i < dw_len) {
#line 1703
    goto ldv_38718;
  } else {

  }
#line 1712
  vfree((void const   *)data);
#line 1713
  vfree((void const   *)mask);
#line 1715
  return (0);
}
}
#line 1718 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_cfg_seq(struct rtsx_chip *chip , u8 func , u16 addr , u8 *buf , int len ) 
{ 
  u32 *data ;
  u16 offset ;
  u16 aligned_addr ;
  int dw_len ;
  int i ;
  int j ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  void *tmp___1 ;

  {
#line 1722
  offset = (unsigned int )addr & 3U;
#line 1723
  aligned_addr = (int )addr - (int )offset;
#line 1727
  if (((unsigned int )((int )offset + len) & 3U) != 0U) {
#line 1728
    dw_len = ((int )offset + len) / 4 + 1;
  } else {
#line 1730
    dw_len = ((int )offset + len) / 4;
  }
#line 1732
  descriptor.modname = "rts5208";
#line 1732
  descriptor.function = "rtsx_read_cfg_seq";
#line 1732
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1732
  descriptor.format = "dw_len = %d\n";
#line 1732
  descriptor.lineno = 1732U;
#line 1732
  descriptor.flags = 0U;
#line 1732
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1732
  if (tmp___0 != 0L) {
#line 1732
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1732
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "dw_len = %d\n",
                      dw_len);
  } else {

  }
#line 1734
  tmp___1 = vmalloc((unsigned long )(dw_len * 4));
#line 1734
  data = (u32 *)tmp___1;
#line 1735
  if ((unsigned long )data == (unsigned long )((u32 *)0U)) {
#line 1736
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_seq", 1736);
#line 1737
    return (3);
  } else {

  }
#line 1740
  i = 0;
#line 1740
  goto ldv_38738;
  ldv_38737: 
#line 1741
  retval = rtsx_read_cfg_dw(chip, (int )func, (int )((unsigned int )((u16 )i) * 4U + (unsigned int )aligned_addr),
                            data + (unsigned long )i);
#line 1743
  if (retval != 0) {
#line 1744
    vfree((void const   *)data);
#line 1745
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_cfg_seq", 1745);
#line 1746
    return (1);
  } else {

  }
#line 1740
  i = i + 1;
  ldv_38738: ;
#line 1740
  if (i < dw_len) {
#line 1742
    goto ldv_38737;
  } else {

  }

#line 1750
  if ((unsigned long )buf != (unsigned long )((u8 *)0U)) {
#line 1751
    j = 0;
#line 1753
    i = 0;
#line 1753
    goto ldv_38741;
    ldv_38740: 
#line 1754
    *(buf + (unsigned long )i) = (unsigned char )(*(data + (unsigned long )j) >> (int )offset * 8);
#line 1755
    offset = (u16 )((int )offset + 1);
#line 1755
    if ((unsigned int )offset == 4U) {
#line 1756
      j = j + 1;
#line 1757
      offset = 0U;
    } else {

    }
#line 1753
    i = i + 1;
    ldv_38741: ;
#line 1753
    if (i < len) {
#line 1755
      goto ldv_38740;
    } else {

    }

  } else {

  }
#line 1762
  vfree((void const   *)data);
#line 1764
  return (0);
}
}
#line 1767 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_phy_register(struct rtsx_chip *chip , u8 addr , u16 val ) 
{ 
  int retval ;
  bool finished ;
  int i ;
  u8 tmp ;

  {
#line 1770
  finished = 0;
#line 1774
  retval = rtsx_write_register(chip, 65085, 255, (int )((unsigned char )val));
#line 1775
  if (retval != 0) {
#line 1776
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1776);
#line 1777
    return (retval);
  } else {

  }
#line 1779
  retval = rtsx_write_register(chip, 65086, 255, (int )((unsigned char )((int )val >> 8)));
#line 1780
  if (retval != 0) {
#line 1781
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1781);
#line 1782
    return (retval);
  } else {

  }
#line 1784
  retval = rtsx_write_register(chip, 65087, 255, (int )addr);
#line 1785
  if (retval != 0) {
#line 1786
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1786);
#line 1787
    return (retval);
  } else {

  }
#line 1789
  retval = rtsx_write_register(chip, 65084, 255, 129);
#line 1790
  if (retval != 0) {
#line 1791
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1791);
#line 1792
    return (retval);
  } else {

  }
#line 1795
  i = 0;
#line 1795
  goto ldv_38755;
  ldv_38754: 
#line 1796
  retval = rtsx_read_register(chip, 65084, & tmp);
#line 1797
  if (retval != 0) {
#line 1798
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1798);
#line 1799
    return (retval);
  } else {

  }
#line 1801
  if ((int )((signed char )tmp) >= 0) {
#line 1802
    finished = 1;
#line 1803
    goto ldv_38753;
  } else {

  }
#line 1795
  i = i + 1;
  ldv_38755: ;
#line 1795
  if (i <= 99999) {
#line 1797
    goto ldv_38754;
  } else {

  }
  ldv_38753: ;
#line 1807
  if (! finished) {
#line 1808
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_phy_register", 1808);
#line 1809
    return (1);
  } else {

  }
#line 1812
  return (0);
}
}
#line 1815 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_phy_register(struct rtsx_chip *chip , u8 addr , u16 *val ) 
{ 
  int retval ;
  bool finished ;
  int i ;
  u16 data ;
  u8 tmp ;

  {
#line 1818
  finished = 0;
#line 1820
  data = 0U;
#line 1823
  retval = rtsx_write_register(chip, 65087, 255, (int )addr);
#line 1824
  if (retval != 0) {
#line 1825
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1825);
#line 1826
    return (retval);
  } else {

  }
#line 1828
  retval = rtsx_write_register(chip, 65084, 255, 128);
#line 1829
  if (retval != 0) {
#line 1830
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1830);
#line 1831
    return (retval);
  } else {

  }
#line 1834
  i = 0;
#line 1834
  goto ldv_38769;
  ldv_38768: 
#line 1835
  retval = rtsx_read_register(chip, 65084, & tmp);
#line 1836
  if (retval != 0) {
#line 1837
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1837);
#line 1838
    return (retval);
  } else {

  }
#line 1840
  if ((int )((signed char )tmp) >= 0) {
#line 1841
    finished = 1;
#line 1842
    goto ldv_38767;
  } else {

  }
#line 1834
  i = i + 1;
  ldv_38769: ;
#line 1834
  if (i <= 99999) {
#line 1836
    goto ldv_38768;
  } else {

  }
  ldv_38767: ;
#line 1846
  if (! finished) {
#line 1847
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1847);
#line 1848
    return (1);
  } else {

  }
#line 1851
  retval = rtsx_read_register(chip, 65085, & tmp);
#line 1852
  if (retval != 0) {
#line 1853
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1853);
#line 1854
    return (retval);
  } else {

  }
#line 1856
  data = (u16 )tmp;
#line 1857
  retval = rtsx_read_register(chip, 65086, & tmp);
#line 1858
  if (retval != 0) {
#line 1859
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_phy_register", 1859);
#line 1860
    return (retval);
  } else {

  }
#line 1862
  data = (u16 )((int )((short )((int )tmp << 8)) | (int )((short )data));
#line 1864
  if ((unsigned long )val != (unsigned long )((u16 *)0U)) {
#line 1865
    *val = data;
  } else {

  }
#line 1867
  return (0);
}
}
#line 1870 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_efuse(struct rtsx_chip *chip , u8 addr , u8 *val ) 
{ 
  int retval ;
  int i ;
  u8 data ;

  {
#line 1874
  data = 0U;
#line 1876
  retval = rtsx_write_register(chip, 64545, 255, (int )((unsigned int )addr | 128U));
#line 1877
  if (retval != 0) {
#line 1878
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_efuse", 1878);
#line 1879
    return (retval);
  } else {

  }
#line 1882
  i = 0;
#line 1882
  goto ldv_38781;
  ldv_38780: 
#line 1883
  retval = rtsx_read_register(chip, 64545, & data);
#line 1884
  if (retval != 0) {
#line 1885
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_efuse", 1885);
#line 1886
    return (retval);
  } else {

  }
#line 1888
  if ((int )((signed char )data) >= 0) {
#line 1889
    goto ldv_38779;
  } else {

  }
#line 1890
  __const_udelay(4295UL);
#line 1882
  i = i + 1;
  ldv_38781: ;
#line 1882
  if (i <= 99) {
#line 1884
    goto ldv_38780;
  } else {

  }
  ldv_38779: ;
#line 1893
  if ((int )((signed char )data) < 0) {
#line 1894
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_efuse", 1894);
#line 1895
    return (2);
  } else {

  }
#line 1898
  retval = rtsx_read_register(chip, 64546, & data);
#line 1899
  if (retval != 0) {
#line 1900
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_efuse", 1900);
#line 1901
    return (retval);
  } else {

  }
#line 1903
  if ((unsigned long )val != (unsigned long )((u8 *)0U)) {
#line 1904
    *val = data;
  } else {

  }
#line 1906
  return (0);
}
}
#line 1909 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_efuse(struct rtsx_chip *chip , u8 addr , u8 val ) 
{ 
  int retval ;
  int i ;
  int j ;
  u8 data ;
  u8 tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct task_struct *tmp___2 ;
  long volatile   __ret ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  struct task_struct *tmp___10 ;
  struct task_struct *tmp___11 ;

  {
#line 1913
  data = 0U;
#line 1913
  tmp = 255U;
#line 1915
  i = 0;
#line 1915
  goto ldv_38815;
  ldv_38814: ;
#line 1916
  if ((unsigned int )((int )((unsigned char )(1 << i)) & (int )val) != 0U) {
#line 1917
    goto ldv_38792;
  } else {

  }
#line 1919
  tmp = (u8 )(~ ((int )((signed char )(1 << i))) & (int )((signed char )tmp));
#line 1920
  descriptor.modname = "rts5208";
#line 1920
  descriptor.function = "rtsx_write_efuse";
#line 1920
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 1920
  descriptor.format = "Write 0x%x to 0x%x\n";
#line 1920
  descriptor.lineno = 1920U;
#line 1920
  descriptor.flags = 0U;
#line 1920
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1920
  if (tmp___1 != 0L) {
#line 1920
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1920
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "Write 0x%x to 0x%x\n",
                      (int )tmp, (int )addr);
  } else {

  }
#line 1922
  retval = rtsx_write_register(chip, 64546, 255, (int )tmp);
#line 1923
  if (retval != 0) {
#line 1924
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_efuse", 1924);
#line 1925
    return (retval);
  } else {

  }
#line 1927
  retval = rtsx_write_register(chip, 64545, 255, (int )((unsigned int )addr | 160U));
#line 1929
  if (retval != 0) {
#line 1930
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_efuse", 1930);
#line 1931
    return (retval);
  } else {

  }
#line 1934
  j = 0;
#line 1934
  goto ldv_38805;
  ldv_38804: 
#line 1935
  retval = rtsx_read_register(chip, 64545, & data);
#line 1936
  if (retval != 0) {
#line 1937
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_efuse", 1937);
#line 1938
    return (retval);
  } else {

  }
#line 1940
  if ((int )((signed char )data) >= 0) {
#line 1941
    goto ldv_38795;
  } else {

  }
#line 1942
  tmp___2 = get_current();
#line 1942
  tmp___2->task_state_change = 0UL;
#line 1942
  __ret = 1L;
#line 1942
  switch (8UL) {
  case 1UL: 
#line 1942
  tmp___3 = get_current();
#line 1942
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 1942
  goto ldv_38798;
  case 2UL: 
#line 1942
  tmp___4 = get_current();
#line 1942
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                       "cc");
#line 1942
  goto ldv_38798;
  case 4UL: 
#line 1942
  tmp___5 = get_current();
#line 1942
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 1942
  goto ldv_38798;
  case 8UL: 
#line 1942
  tmp___6 = get_current();
#line 1942
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 1942
  goto ldv_38798;
  default: 
#line 1942
  __xchg_wrong_size();
  }
  ldv_38798: 
#line 1942
  schedule_timeout(0L);
#line 1934
  j = j + 1;
  ldv_38805: ;
#line 1934
  if (j <= 99) {
#line 1936
    goto ldv_38804;
  } else {

  }
  ldv_38795: ;
#line 1945
  if ((int )((signed char )data) < 0) {
#line 1946
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_efuse", 1946);
#line 1947
    return (2);
  } else {

  }
#line 1950
  tmp___7 = get_current();
#line 1950
  tmp___7->task_state_change = 0UL;
#line 1950
  __ret___0 = 1L;
#line 1950
  switch (8UL) {
  case 1UL: 
#line 1950
  tmp___8 = get_current();
#line 1950
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 1950
  goto ldv_38808;
  case 2UL: 
#line 1950
  tmp___9 = get_current();
#line 1950
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___9->state): : "memory",
                       "cc");
#line 1950
  goto ldv_38808;
  case 4UL: 
#line 1950
  tmp___10 = get_current();
#line 1950
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___10->state): : "memory",
                       "cc");
#line 1950
  goto ldv_38808;
  case 8UL: 
#line 1950
  tmp___11 = get_current();
#line 1950
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___11->state): : "memory",
                       "cc");
#line 1950
  goto ldv_38808;
  default: 
#line 1950
  __xchg_wrong_size();
  }
  ldv_38808: 
#line 1950
  schedule_timeout(1L);
  ldv_38792: 
#line 1915
  i = i + 1;
  ldv_38815: ;
#line 1915
  if (i <= 7) {
#line 1917
    goto ldv_38814;
  } else {

  }

#line 1953
  return (0);
}
}
#line 1956 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_clr_phy_reg_bit(struct rtsx_chip *chip , u8 reg , u8 bit ) 
{ 
  int retval ;
  u16 value ;

  {
#line 1961
  retval = rtsx_read_phy_register(chip, (int )reg, & value);
#line 1962
  if (retval != 0) {
#line 1963
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_clr_phy_reg_bit", 1963);
#line 1964
    return (1);
  } else {

  }
#line 1967
  if (((int )value >> (int )bit) & 1) {
#line 1968
    value = (u16 )(~ ((int )((short )(1 << (int )bit))) & (int )((short )value));
#line 1969
    retval = rtsx_write_phy_register(chip, (int )reg, (int )value);
#line 1970
    if (retval != 0) {
#line 1971
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_clr_phy_reg_bit", 1971);
#line 1972
      return (1);
    } else {

    }
  } else {

  }
#line 1976
  return (0);
}
}
#line 1979 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_set_phy_reg_bit(struct rtsx_chip *chip , u8 reg , u8 bit ) 
{ 
  int retval ;
  u16 value ;

  {
#line 1984
  retval = rtsx_read_phy_register(chip, (int )reg, & value);
#line 1985
  if (retval != 0) {
#line 1986
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_set_phy_reg_bit", 1986);
#line 1987
    return (1);
  } else {

  }
#line 1990
  if ((((int )value >> (int )bit) & 1) == 0) {
#line 1991
    value = (u16 )((int )((short )(1 << (int )bit)) | (int )((short )value));
#line 1992
    retval = rtsx_write_phy_register(chip, (int )reg, (int )value);
#line 1993
    if (retval != 0) {
#line 1994
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_set_phy_reg_bit", 1994);
#line 1995
      return (1);
    } else {

    }
  } else {

  }
#line 1999
  return (0);
}
}
#line 2002 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_check_link_ready(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 2007
  retval = rtsx_read_register(chip, 65057, & val);
#line 2008
  if (retval != 0) {
#line 2009
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_check_link_ready", 2009);
#line 2010
    return (retval);
  } else {

  }
#line 2013
  descriptor.modname = "rts5208";
#line 2013
  descriptor.function = "rtsx_check_link_ready";
#line 2013
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2013
  descriptor.format = "IRQSTAT0: 0x%x\n";
#line 2013
  descriptor.lineno = 2013U;
#line 2013
  descriptor.flags = 0U;
#line 2013
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2013
  if (tmp___0 != 0L) {
#line 2013
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2013
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "IRQSTAT0: 0x%x\n",
                      (int )val);
  } else {

  }
#line 2014
  if (((int )val & 32) != 0) {
#line 2015
    descriptor___0.modname = "rts5208";
#line 2015
    descriptor___0.function = "rtsx_check_link_ready";
#line 2015
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2015
    descriptor___0.format = "Delinked!\n";
#line 2015
    descriptor___0.lineno = 2015U;
#line 2015
    descriptor___0.flags = 0U;
#line 2015
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2015
    if (tmp___2 != 0L) {
#line 2015
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2015
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Delinked!\n");
    } else {

    }
#line 2016
    rtsx_write_register(chip, 65057, 32, 32);
#line 2017
    return (1);
  } else {

  }
#line 2020
  return (0);
}
}
#line 2023 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
static void rtsx_handle_pm_dstate(struct rtsx_chip *chip , u8 dstate ) 
{ 
  u32 ultmp ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u8 func_no ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 2027
  descriptor.modname = "rts5208";
#line 2027
  descriptor.function = "rtsx_handle_pm_dstate";
#line 2027
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2027
  descriptor.format = "%04x set pm_dstate to %d\n";
#line 2027
  descriptor.lineno = 2028U;
#line 2027
  descriptor.flags = 0U;
#line 2027
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2027
  if (tmp___0 != 0L) {
#line 2027
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2027
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%04x set pm_dstate to %d\n",
                      (int )chip->product_id, (int )dstate);
  } else {

  }
#line 2030
  if (chip->sdio_func_exist & 1) {
#line 2033
    if ((unsigned int )chip->product_id == 21128U) {
#line 2034
      func_no = 2U;
    } else {
#line 2036
      func_no = 1U;
    }
#line 2038
    rtsx_read_cfg_dw(chip, (int )func_no, 132, & ultmp);
#line 2039
    descriptor___0.modname = "rts5208";
#line 2039
    descriptor___0.function = "rtsx_handle_pm_dstate";
#line 2039
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2039
    descriptor___0.format = "pm_dstate of function %d: 0x%x\n";
#line 2039
    descriptor___0.lineno = 2040U;
#line 2039
    descriptor___0.flags = 0U;
#line 2039
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2039
    if (tmp___2 != 0L) {
#line 2039
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2039
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "pm_dstate of function %d: 0x%x\n",
                        (int )func_no, ultmp);
    } else {

    }
#line 2041
    rtsx_write_cfg_dw(chip, (int )func_no, 132, 255U, (u32 )dstate);
  } else {

  }
#line 2044
  pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 68, (int )dstate);
#line 2045
  pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 69, 0);
#line 2046
  return;
}
}
#line 2048 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_enter_L1(struct rtsx_chip *chip ) 
{ 


  {
#line 2050
  rtsx_handle_pm_dstate(chip, 2);
#line 2051
  return;
}
}
#line 2053 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_exit_L1(struct rtsx_chip *chip ) 
{ 


  {
#line 2055
  pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 68, 0);
#line 2056
  pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 69, 0);
#line 2057
  return;
}
}
#line 2059 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_enter_ss(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u32 tmp___1 ;

  {
#line 2061
  descriptor.modname = "rts5208";
#line 2061
  descriptor.function = "rtsx_enter_ss";
#line 2061
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2061
  descriptor.format = "Enter Selective Suspend State!\n";
#line 2061
  descriptor.lineno = 2061U;
#line 2061
  descriptor.flags = 0U;
#line 2061
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2061
  if (tmp___0 != 0L) {
#line 2061
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2061
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Enter Selective Suspend State!\n");
  } else {

  }
#line 2063
  rtsx_write_register(chip, 65057, 32, 32);
#line 2065
  if (chip->power_down_in_ss != 0) {
#line 2066
    rtsx_power_off_card(chip);
#line 2067
    rtsx_force_power_down(chip, 3);
  } else {

  }
#line 2070
  if (chip->sdio_func_exist & 1) {
#line 2071
    rtsx_write_cfg_dw(chip, (unsigned int )chip->product_id == 21128U ? 2 : 1, 192,
                      65280U, 256U);
  } else {

  }
#line 2074
  if (chip->auto_delink_en != 0) {
#line 2075
    rtsx_write_register(chip, 65120, 1, 1);
  } else {
#line 2077
    if (chip->phy_debug_mode == 0) {
#line 2080
      tmp___1 = ioread32((chip->rtsx)->remap_addr + 24UL);
#line 2081
      tmp___1 = tmp___1 | 234881024U;
#line 2082
      iowrite32(tmp___1, (chip->rtsx)->remap_addr + 24UL);
    } else {

    }
#line 2085
    rtsx_write_register(chip, 65115, 2, 0);
  }
#line 2088
  rtsx_enter_L1(chip);
#line 2090
  chip->rtsx_flag = (unsigned int )chip->rtsx_flag & 254U;
#line 2091
  chip->idle_counter = 0;
#line 2091
  chip->rtsx_stat = 3;
#line 2092
  return;
}
}
#line 2094 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_exit_ss(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 2096
  descriptor.modname = "rts5208";
#line 2096
  descriptor.function = "rtsx_exit_ss";
#line 2096
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2096
  descriptor.format = "Exit Selective Suspend State!\n";
#line 2096
  descriptor.lineno = 2096U;
#line 2096
  descriptor.flags = 0U;
#line 2096
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2096
  if (tmp___0 != 0L) {
#line 2096
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2096
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Exit Selective Suspend State!\n");
  } else {

  }
#line 2098
  rtsx_exit_L1(chip);
#line 2100
  if (chip->power_down_in_ss != 0) {
#line 2101
    rtsx_force_power_on(chip, 3);
#line 2102
    __const_udelay(4295000UL);
  } else {

  }
#line 2105
  if ((int )chip->rtsx_flag & 1) {
#line 2106
    chip->need_reinit = 28UL;
#line 2107
    rtsx_reinit_cards(chip, 1);
#line 2108
    chip->rtsx_flag = (unsigned int )chip->rtsx_flag & 254U;
  } else
#line 2109
  if (chip->power_down_in_ss != 0) {
#line 2110
    chip->need_reinit = 28UL;
#line 2111
    rtsx_reinit_cards(chip, 0);
  } else {

  }
#line 2113
  return;
}
}
#line 2115 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_pre_handle_interrupt(struct rtsx_chip *chip ) 
{ 
  u32 status ;
  u32 int_enable ;
  bool exit_ss ;
  u32 ocp_int ;
  unsigned int tmp ;

  {
#line 2118
  exit_ss = 0;
#line 2120
  ocp_int = 0U;
#line 2122
  ocp_int = 8388608U;
#line 2125
  if (chip->ss_en != 0) {
#line 2126
    chip->ss_counter = 0;
#line 2127
    if ((unsigned int )chip->rtsx_stat == 3U) {
#line 2128
      exit_ss = 1;
#line 2129
      rtsx_exit_L1(chip);
#line 2130
      chip->idle_counter = 0;
#line 2130
      chip->rtsx_stat = 2;
    } else {

    }
  } else {

  }
#line 2134
  int_enable = ioread32((chip->rtsx)->remap_addr + 24UL);
#line 2135
  chip->int_reg = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 2137
  if ((chip->int_reg & int_enable) == 0U || chip->int_reg == 4294967295U) {
#line 2139
    return (1);
  } else {

  }
#line 2141
  tmp = chip->int_reg & (int_enable | 8388607U);
#line 2141
  chip->int_reg = tmp;
#line 2141
  status = tmp;
#line 2143
  if ((status & 234881024U) != 0U) {
#line 2144
    chip->auto_delink_cnt = 0;
#line 2146
    if ((status & 33554432U) != 0U) {
#line 2147
      if ((status & 65536U) != 0U) {
#line 2148
        set_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
      } else {
#line 2150
        set_bit(2L, (unsigned long volatile   *)(& chip->need_release));
#line 2151
        chip->sd_reset_counter = 0;
#line 2152
        chip->sd_show_cnt = 0;
#line 2153
        clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
      }
    } else
#line 2162
    if ((int )exit_ss && (status & 65536U) != 0U) {
#line 2163
      set_bit(2L, (unsigned long volatile   *)(& chip->need_reinit));
    } else {

    }
#line 2165
    if ((unsigned int )chip->product_id != 21128U || chip->baro_pkg == 0) {
#line 2166
      if ((status & 134217728U) != 0U) {
#line 2167
        if ((status & 262144U) != 0U) {
#line 2168
          set_bit(4L, (unsigned long volatile   *)(& chip->need_reset));
        } else {
#line 2170
          set_bit(4L, (unsigned long volatile   *)(& chip->need_release));
#line 2171
          chip->xd_reset_counter = 0;
#line 2172
          chip->xd_show_cnt = 0;
#line 2173
          clear_bit(4L, (unsigned long volatile   *)(& chip->need_reset));
        }
      } else
#line 2176
      if ((int )exit_ss && (status & 262144U) != 0U) {
#line 2177
        set_bit(4L, (unsigned long volatile   *)(& chip->need_reinit));
      } else {

      }
    } else {

    }
#line 2180
    if ((status & 67108864U) != 0U) {
#line 2181
      if ((status & 131072U) != 0U) {
#line 2182
        set_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
      } else {
#line 2184
        set_bit(3L, (unsigned long volatile   *)(& chip->need_release));
#line 2185
        chip->ms_reset_counter = 0;
#line 2186
        chip->ms_show_cnt = 0;
#line 2187
        clear_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
      }
    } else
#line 2190
    if ((int )exit_ss && (status & 131072U) != 0U) {
#line 2191
      set_bit(3L, (unsigned long volatile   *)(& chip->need_reinit));
    } else {

    }
  } else {

  }
#line 2196
  chip->ocp_int = ocp_int & status;
#line 2199
  if ((unsigned int )chip->sd_io != 0U && (chip->int_reg & 1073741824U) != 0U) {
#line 2200
    chip->int_reg = chip->int_reg & 3221225471U;
  } else {

  }
#line 2202
  return (0);
}
}
#line 2205 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_do_before_power_down(struct rtsx_chip *chip , int pm_stat ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct task_struct *tmp___3 ;
  long volatile   __ret ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___8 ;
  long tmp___9 ;

  {
#line 2209
  descriptor.modname = "rts5208";
#line 2209
  descriptor.function = "rtsx_do_before_power_down";
#line 2209
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2209
  descriptor.format = "%s, pm_stat = %d\n";
#line 2209
  descriptor.lineno = 2209U;
#line 2209
  descriptor.flags = 0U;
#line 2209
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2209
  if (tmp___0 != 0L) {
#line 2209
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2209
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s, pm_stat = %d\n",
                      "rtsx_do_before_power_down", pm_stat);
  } else {

  }
#line 2211
  chip->idle_counter = 0;
#line 2211
  chip->rtsx_stat = 5;
#line 2213
  retval = rtsx_force_power_on(chip, 1);
#line 2214
  if (retval != 0) {
#line 2215
    return;
  } else {

  }
#line 2217
  rtsx_release_cards(chip);
#line 2218
  rtsx_disable_bus_int(chip);
#line 2219
  turn_off_led(chip, 0);
#line 2222
  if ((unsigned int )chip->sd_io != 0U) {
#line 2223
    chip->sdio_in_charge = 1;
#line 2224
    if ((unsigned int )chip->product_id == 21000U) {
#line 2225
      rtsx_write_register(chip, 65063, 8, 8);
#line 2227
      rtsx_write_register(chip, 65136, 128, 128);
    } else
#line 2228
    if ((unsigned int )chip->product_id == 21128U) {
#line 2229
      rtsx_write_register(chip, 65063, 8, 8);
#line 2231
      rtsx_write_register(chip, 65114, 8, 8);
    } else {

    }
  } else {

  }
#line 2236
  if ((unsigned int )chip->product_id == 21000U && (unsigned int )chip->ic_version > 2U) {
#line 2238
    rtsx_write_register(chip, 65097, 8, 8);
  } else {

  }
#line 2241
  if (pm_stat == 1) {
#line 2242
    descriptor___0.modname = "rts5208";
#line 2242
    descriptor___0.function = "rtsx_do_before_power_down";
#line 2242
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2242
    descriptor___0.format = "Host enter S1\n";
#line 2242
    descriptor___0.lineno = 2242U;
#line 2242
    descriptor___0.flags = 0U;
#line 2242
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2242
    if (tmp___2 != 0L) {
#line 2242
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2242
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Host enter S1\n");
    } else {

    }
#line 2243
    rtsx_write_register(chip, 65120, 3, 1);
  } else
#line 2245
  if (pm_stat == 3) {
#line 2246
    if (chip->s3_pwr_off_delay > 0) {
#line 2247
      tmp___3 = get_current();
#line 2247
      tmp___3->task_state_change = 0UL;
#line 2247
      __ret = 1L;
#line 2247
      switch (8UL) {
      case 1UL: 
#line 2247
      tmp___4 = get_current();
#line 2247
      __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___4->state): : "memory",
                           "cc");
#line 2247
      goto ldv_38884;
      case 2UL: 
#line 2247
      tmp___5 = get_current();
#line 2247
      __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                           "cc");
#line 2247
      goto ldv_38884;
      case 4UL: 
#line 2247
      tmp___6 = get_current();
#line 2247
      __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                           "cc");
#line 2247
      goto ldv_38884;
      case 8UL: 
#line 2247
      tmp___7 = get_current();
#line 2247
      __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___7->state): : "memory",
                           "cc");
#line 2247
      goto ldv_38884;
      default: 
#line 2247
      __xchg_wrong_size();
      }
      ldv_38884: 
#line 2247
      schedule_timeout((long )((chip->s3_pwr_off_delay * 250) / 1000));
    } else {

    }
#line 2249
    descriptor___1.modname = "rts5208";
#line 2249
    descriptor___1.function = "rtsx_do_before_power_down";
#line 2249
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2249
    descriptor___1.format = "Host enter S3\n";
#line 2249
    descriptor___1.lineno = 2249U;
#line 2249
    descriptor___1.flags = 0U;
#line 2249
    tmp___9 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 2249
    if (tmp___9 != 0L) {
#line 2249
      tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2249
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___8, "Host enter S3\n");
    } else {

    }
#line 2250
    rtsx_write_register(chip, 65120, 3, 2);
  } else {

  }
#line 2254
  if (chip->do_delink_before_power_down != 0 && chip->auto_delink_en != 0) {
#line 2255
    rtsx_write_register(chip, 65115, 2, 2);
  } else {

  }
#line 2257
  rtsx_force_power_down(chip, 3);
#line 2259
  chip->cur_clk = 0;
#line 2260
  chip->cur_card = 0;
#line 2261
  chip->card_exist = 0U;
#line 2262
  return;
}
}
#line 2264 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_enable_aspm(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u16 val ;

  {
#line 2266
  if (((unsigned int )chip->aspm_l0s_l1_en != 0U && chip->dynamic_aspm != 0) && chip->aspm_enabled == 0) {
#line 2267
    descriptor.modname = "rts5208";
#line 2267
    descriptor.function = "rtsx_enable_aspm";
#line 2267
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2267
    descriptor.format = "Try to enable ASPM\n";
#line 2267
    descriptor.lineno = 2267U;
#line 2267
    descriptor.flags = 0U;
#line 2267
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2267
    if (tmp___0 != 0L) {
#line 2267
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2267
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Try to enable ASPM\n");
    } else {

    }
#line 2268
    chip->aspm_enabled = 1;
#line 2270
    if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 2271
      rtsx_write_phy_register(chip, 7, 0);
    } else {

    }
#line 2272
    if ((unsigned int )chip->product_id == 21000U) {
#line 2273
      rtsx_write_register(chip, 65111, 243, (int )((unsigned int )chip->aspm_level[0] | 48U));
    } else {
#line 2276
      pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 128, (int )chip->aspm_l0s_l1_en);
    }
#line 2280
    if (chip->sdio_func_exist & 1) {
#line 2281
      val = (unsigned int )((u16 )chip->aspm_l0s_l1_en) | 256U;
#line 2283
      rtsx_write_cfg_dw(chip, (unsigned int )chip->product_id == 21128U ? 2 : 1, 192,
                        4095U, (u32 )val);
    } else {

    }
  } else {

  }
#line 2286
  return;
}
}
#line 2289 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
void rtsx_disable_aspm(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct task_struct *tmp___1 ;
  long volatile   __ret ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;

  {
#line 2291
  if ((unsigned int )chip->product_id == 21000U) {
#line 2292
    rtsx_monitor_aspm_config(chip);
  } else {

  }
#line 2294
  if (((unsigned int )chip->aspm_l0s_l1_en != 0U && chip->dynamic_aspm != 0) && chip->aspm_enabled != 0) {
#line 2295
    descriptor.modname = "rts5208";
#line 2295
    descriptor.function = "rtsx_disable_aspm";
#line 2295
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c";
#line 2295
    descriptor.format = "Try to disable ASPM\n";
#line 2295
    descriptor.lineno = 2295U;
#line 2295
    descriptor.flags = 0U;
#line 2295
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2295
    if (tmp___0 != 0L) {
#line 2295
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2295
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Try to disable ASPM\n");
    } else {

    }
#line 2296
    chip->aspm_enabled = 0;
#line 2298
    if (chip->asic_code != 0 && (unsigned int )chip->product_id == 21000U) {
#line 2299
      rtsx_write_phy_register(chip, 7, 297);
    } else {

    }
#line 2300
    if ((unsigned int )chip->product_id == 21000U) {
#line 2301
      rtsx_write_register(chip, 65111, 243, 48);
    } else {
#line 2304
      pci_write_config_byte((struct pci_dev  const  *)(chip->rtsx)->pci, 128, 0);
    }
#line 2306
    tmp___1 = get_current();
#line 2306
    tmp___1->task_state_change = 0UL;
#line 2306
    __ret = 1L;
#line 2306
    switch (8UL) {
    case 1UL: 
#line 2306
    tmp___2 = get_current();
#line 2306
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2306
    goto ldv_38904;
    case 2UL: 
#line 2306
    tmp___3 = get_current();
#line 2306
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2306
    goto ldv_38904;
    case 4UL: 
#line 2306
    tmp___4 = get_current();
#line 2306
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                         "cc");
#line 2306
    goto ldv_38904;
    case 8UL: 
#line 2306
    tmp___5 = get_current();
#line 2306
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 2306
    goto ldv_38904;
    default: 
#line 2306
    __xchg_wrong_size();
    }
    ldv_38904: 
#line 2306
    schedule_timeout(0L);
  } else {

  }
#line 2308
  return;
}
}
#line 2310 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_read_ppbuf(struct rtsx_chip *chip , u8 *buf , int buf_len ) 
{ 
  int retval ;
  int i ;
  int j ;
  u16 reg_addr ;
  u8 *ptr ;
  u16 tmp ;
  u8 *tmp___0 ;
  u16 tmp___1 ;
  u8 *tmp___2 ;

  {
#line 2317
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2318
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_ppbuf", 2318);
#line 2319
    return (10);
  } else {

  }
#line 2322
  ptr = buf;
#line 2323
  reg_addr = 64000U;
#line 2324
  i = 0;
#line 2324
  goto ldv_38925;
  ldv_38924: 
#line 2325
  chip->ci = 0;
#line 2327
  j = 0;
#line 2327
  goto ldv_38922;
  ldv_38921: 
#line 2328
  tmp = reg_addr;
#line 2328
  reg_addr = (u16 )((int )reg_addr + 1);
#line 2328
  rtsx_add_cmd(chip, 0, (int )tmp, 0, 0);
#line 2327
  j = j + 1;
  ldv_38922: ;
#line 2327
  if (j <= 255) {
#line 2329
    goto ldv_38921;
  } else {

  }
#line 2330
  retval = rtsx_send_cmd(chip, 0, 250);
#line 2331
  if (retval < 0) {
#line 2332
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_read_ppbuf", 2332);
#line 2333
    return (1);
  } else {

  }
#line 2336
  tmp___0 = rtsx_get_cmd_data(chip);
#line 2336
  memcpy((void *)ptr, (void const   *)tmp___0, 256UL);
#line 2337
  ptr = ptr + 256UL;
#line 2324
  i = i + 1;
  ldv_38925: ;
#line 2324
  if (buf_len / 256 > i) {
#line 2326
    goto ldv_38924;
  } else {

  }

#line 2340
  if (((unsigned int )buf_len & 255U) != 0U) {
#line 2341
    chip->ci = 0;
#line 2343
    j = 0;
#line 2343
    goto ldv_38928;
    ldv_38927: 
#line 2344
    tmp___1 = reg_addr;
#line 2344
    reg_addr = (u16 )((int )reg_addr + 1);
#line 2344
    rtsx_add_cmd(chip, 0, (int )tmp___1, 0, 0);
#line 2343
    j = j + 1;
    ldv_38928: ;
#line 2343
    if (buf_len % 256 > j) {
#line 2345
      goto ldv_38927;
    } else {

    }
#line 2346
    retval = rtsx_send_cmd(chip, 0, 250);
#line 2347
    if (retval < 0) {
#line 2348
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_read_ppbuf", 2348);
#line 2349
      return (1);
    } else {

    }
  } else {

  }
#line 2353
  tmp___2 = rtsx_get_cmd_data(chip);
#line 2353
  memcpy((void *)ptr, (void const   *)tmp___2, (size_t )(buf_len % 256));
#line 2355
  return (0);
}
}
#line 2358 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_write_ppbuf(struct rtsx_chip *chip , u8 *buf , int buf_len ) 
{ 
  int retval ;
  int i ;
  int j ;
  u16 reg_addr ;
  u8 *ptr ;
  u16 tmp ;
  u16 tmp___0 ;

  {
#line 2365
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2366
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_ppbuf", 2366);
#line 2367
    return (10);
  } else {

  }
#line 2370
  ptr = buf;
#line 2371
  reg_addr = 64000U;
#line 2372
  i = 0;
#line 2372
  goto ldv_38945;
  ldv_38944: 
#line 2373
  chip->ci = 0;
#line 2375
  j = 0;
#line 2375
  goto ldv_38942;
  ldv_38941: 
#line 2376
  tmp = reg_addr;
#line 2376
  reg_addr = (u16 )((int )reg_addr + 1);
#line 2376
  rtsx_add_cmd(chip, 1, (int )tmp, 255, (int )*ptr);
#line 2378
  ptr = ptr + 1;
#line 2375
  j = j + 1;
  ldv_38942: ;
#line 2375
  if (j <= 255) {
#line 2377
    goto ldv_38941;
  } else {

  }
#line 2381
  retval = rtsx_send_cmd(chip, 0, 250);
#line 2382
  if (retval < 0) {
#line 2383
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_write_ppbuf", 2383);
#line 2384
    return (1);
  } else {

  }
#line 2372
  i = i + 1;
  ldv_38945: ;
#line 2372
  if (buf_len / 256 > i) {
#line 2374
    goto ldv_38944;
  } else {

  }

#line 2388
  if (((unsigned int )buf_len & 255U) != 0U) {
#line 2389
    chip->ci = 0;
#line 2391
    j = 0;
#line 2391
    goto ldv_38948;
    ldv_38947: 
#line 2392
    tmp___0 = reg_addr;
#line 2392
    reg_addr = (u16 )((int )reg_addr + 1);
#line 2392
    rtsx_add_cmd(chip, 1, (int )tmp___0, 255, (int )*ptr);
#line 2394
    ptr = ptr + 1;
#line 2391
    j = j + 1;
    ldv_38948: ;
#line 2391
    if (buf_len % 256 > j) {
#line 2393
      goto ldv_38947;
    } else {

    }
#line 2397
    retval = rtsx_send_cmd(chip, 0, 250);
#line 2398
    if (retval < 0) {
#line 2399
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_write_ppbuf", 2399);
#line 2400
      return (1);
    } else {

    }
  } else {

  }
#line 2404
  return (0);
}
}
#line 2407 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_check_chip_exist(struct rtsx_chip *chip ) 
{ 
  unsigned int tmp ;

  {
#line 2409
  tmp = ioread32((chip->rtsx)->remap_addr);
#line 2409
  if (tmp == 4294967295U) {
#line 2410
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                "rtsx_check_chip_exist", 2410);
#line 2411
    return (1);
  } else {

  }
#line 2414
  return (0);
}
}
#line 2417 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_force_power_on(struct rtsx_chip *chip , u8 ctl ) 
{ 
  int retval ;
  u8 mask ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 2420
  mask = 0U;
#line 2422
  if ((int )ctl & 1) {
#line 2423
    mask = (u8 )((unsigned int )mask | 1U);
  } else {

  }
#line 2426
  if (((int )ctl & 2) != 0) {
#line 2427
    mask = (u8 )((unsigned int )mask | 2U);
#line 2428
    if ((unsigned int )chip->lun_mode == 1U) {
#line 2429
      mask = (u8 )((unsigned int )mask | 4U);
    } else {

    }
  } else {

  }
#line 2433
  if ((unsigned int )mask != 0U) {
#line 2434
    retval = rtsx_write_register(chip, 64512, (int )mask, 0);
#line 2435
    if (retval != 0) {
#line 2436
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_force_power_on", 2436);
#line 2437
      return (1);
    } else {

    }
#line 2440
    if ((unsigned int )chip->product_id == 21128U) {
#line 2441
      tmp = get_current();
#line 2441
      tmp->task_state_change = 0UL;
#line 2441
      __ret = 1L;
#line 2441
      switch (8UL) {
      case 1UL: 
#line 2441
      tmp___0 = get_current();
#line 2441
      __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                           "cc");
#line 2441
      goto ldv_38963;
      case 2UL: 
#line 2441
      tmp___1 = get_current();
#line 2441
      __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                           "cc");
#line 2441
      goto ldv_38963;
      case 4UL: 
#line 2441
      tmp___2 = get_current();
#line 2441
      __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                           "cc");
#line 2441
      goto ldv_38963;
      case 8UL: 
#line 2441
      tmp___3 = get_current();
#line 2441
      __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                           "cc");
#line 2441
      goto ldv_38963;
      default: 
#line 2441
      __xchg_wrong_size();
      }
      ldv_38963: 
#line 2441
      schedule_timeout(50L);
    } else {

    }
  } else {

  }
#line 2444
  return (0);
}
}
#line 2447 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c"
int rtsx_force_power_down(struct rtsx_chip *chip , u8 ctl ) 
{ 
  int retval ;
  u8 mask ;
  u8 val ;

  {
#line 2450
  mask = 0U;
#line 2450
  val = 0U;
#line 2452
  if ((int )ctl & 1) {
#line 2453
    mask = (u8 )((unsigned int )mask | 1U);
  } else {

  }
#line 2456
  if (((int )ctl & 2) != 0) {
#line 2457
    mask = (u8 )((unsigned int )mask | 2U);
#line 2458
    if ((unsigned int )chip->lun_mode == 1U) {
#line 2459
      mask = (u8 )((unsigned int )mask | 4U);
    } else {

    }
  } else {

  }
#line 2463
  if ((unsigned int )mask != 0U) {
#line 2464
    val = mask;
#line 2465
    retval = rtsx_write_register(chip, 64512, (int )mask, (int )val);
#line 2466
    if (retval != 0) {
#line 2467
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.c",
                  "rtsx_force_power_down", 2467);
#line 2468
      return (1);
    } else {

    }
  } else {

  }
#line 2472
  return (0);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_chip.o.c.prepared"
int ldv_scsi_add_host_with_dma_27(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 23 "./arch/x86/include/asm/page_64.h"
extern unsigned long __phys_addr(unsigned long  ) ;
#line 99 "include/linux/completion.h"
extern long wait_for_completion_interruptible_timeout(struct completion * , unsigned long  ) ;
#line 924 "include/linux/mm.h"
__inline static void *lowmem_page_address(struct page  const  *page ) 
{ 


  {
#line 926
  return ((void *)((unsigned long )((unsigned long long )(((long )page + 24189255811072L) / 64L) << 12) + 0xffff880000000000UL));
}
}
#line 56 "include/linux/highmem.h"
__inline static void *kmap(struct page *page ) 
{ 
  void *tmp ;

  {
#line 58
  __might_sleep("include/linux/highmem.h", 58, 0);
#line 59
  tmp = lowmem_page_address((struct page  const  *)page);
#line 59
  return (tmp);
}
}
#line 62 "include/linux/highmem.h"
__inline static void kunmap(struct page *page ) 
{ 


  {
#line 64
  return;
}
}
#line 120 "include/linux/scatterlist.h"
__inline static struct page *sg_page(struct scatterlist *sg ) 
{ 
  long tmp ;
  long tmp___0 ;

  {
#line 123
  tmp = ldv__builtin_expect(sg->sg_magic != 2271560481UL, 0L);
#line 123
  if (tmp != 0L) {
#line 123
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/linux/scatterlist.h"),
                         "i" (123), "i" (12UL));
    ldv_30984: ;
#line 123
    goto ldv_30984;
  } else {

  }
#line 124
  tmp___0 = ldv__builtin_expect((long )((int )sg->page_link) & 1L, 0L);
#line 124
  if (tmp___0 != 0L) {
#line 124
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/linux/scatterlist.h"),
                         "i" (124), "i" (12UL));
    ldv_30985: ;
#line 124
    goto ldv_30985;
  } else {

  }
#line 126
  return ((struct page *)(sg->page_link & 0xfffffffffffffffcUL));
}
}
#line 243 "include/linux/scatterlist.h"
__inline static void *sg_virt(struct scatterlist *sg ) 
{ 
  struct page *tmp ;
  void *tmp___0 ;

  {
#line 245
  tmp = sg_page(sg);
#line 245
  tmp___0 = lowmem_page_address((struct page  const  *)tmp);
#line 245
  return (tmp___0 + (unsigned long )sg->offset);
}
}
#line 250
extern struct scatterlist *sg_next(struct scatterlist * ) ;
#line 73 "include/linux/dma-mapping.h"
__inline static int valid_dma_direction(int dma_direction ) 
{ 


  {
#line 75
  return ((dma_direction == 0 || dma_direction == 1) || dma_direction == 2);
}
}
#line 131 "include/linux/kmemcheck.h"
__inline static void kmemcheck_mark_initialized(void *address , unsigned int n ) 
{ 


  {
#line 133
  return;
}
}
#line 37 "include/linux/dma-debug.h"
extern void debug_dma_map_page(struct device * , struct page * , size_t  , size_t  ,
                               int  , dma_addr_t  , bool  ) ;
#line 44
extern void debug_dma_unmap_page(struct device * , dma_addr_t  , size_t  , int  ,
                                 bool  ) ;
#line 47
extern void debug_dma_map_sg(struct device * , struct scatterlist * , int  , int  ,
                             int  ) ;
#line 50
extern void debug_dma_unmap_sg(struct device * , struct scatterlist * , int  , int  ) ;
#line 30 "./arch/x86/include/asm/dma-mapping.h"
extern struct dma_map_ops *dma_ops ;
#line 32 "./arch/x86/include/asm/dma-mapping.h"
__inline static struct dma_map_ops *get_dma_ops(struct device *dev ) 
{ 
  long tmp ;

  {
#line 37
  tmp = ldv__builtin_expect((unsigned long )dev == (unsigned long )((struct device *)0),
                         0L);
#line 37
  if (tmp != 0L || (unsigned long )dev->archdata.dma_ops == (unsigned long )((struct dma_map_ops *)0)) {
#line 38
    return (dma_ops);
  } else {
#line 40
    return (dev->archdata.dma_ops);
  }
}
}
#line 10 "include/asm-generic/dma-mapping-common.h"
__inline static dma_addr_t dma_map_single_attrs(struct device *dev , void *ptr , size_t size ,
                                                enum dma_data_direction dir , struct dma_attrs *attrs ) 
{ 
  struct dma_map_ops *ops ;
  struct dma_map_ops *tmp ;
  dma_addr_t addr ;
  int tmp___0 ;
  long tmp___1 ;
  unsigned long tmp___2 ;
  unsigned long tmp___3 ;

  {
#line 15
  tmp = get_dma_ops(dev);
#line 15
  ops = tmp;
#line 18
  kmemcheck_mark_initialized(ptr, (unsigned int )size);
#line 19
  tmp___0 = valid_dma_direction((int )dir);
#line 19
  tmp___1 = ldv__builtin_expect(tmp___0 == 0, 0L);
#line 19
  if (tmp___1 != 0L) {
#line 19
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/asm-generic/dma-mapping-common.h"),
                         "i" (19), "i" (12UL));
    ldv_34899: ;
#line 19
    goto ldv_34899;
  } else {

  }
#line 20
  tmp___2 = __phys_addr((unsigned long )ptr);
#line 20
  addr = (*(ops->map_page))(dev, (struct page *)-24189255811072L + (tmp___2 >> 12),
                            (unsigned long )ptr & 4095UL, size, dir, attrs);
#line 23
  tmp___3 = __phys_addr((unsigned long )ptr);
#line 23
  debug_dma_map_page(dev, (struct page *)-24189255811072L + (tmp___3 >> 12), (unsigned long )ptr & 4095UL,
                     size, (int )dir, addr, 1);
#line 26
  return (addr);
}
}
#line 29 "include/asm-generic/dma-mapping-common.h"
__inline static void dma_unmap_single_attrs(struct device *dev , dma_addr_t addr ,
                                            size_t size , enum dma_data_direction dir ,
                                            struct dma_attrs *attrs ) 
{ 
  struct dma_map_ops *ops ;
  struct dma_map_ops *tmp ;
  int tmp___0 ;
  long tmp___1 ;

  {
#line 34
  tmp = get_dma_ops(dev);
#line 34
  ops = tmp;
#line 36
  tmp___0 = valid_dma_direction((int )dir);
#line 36
  tmp___1 = ldv__builtin_expect(tmp___0 == 0, 0L);
#line 36
  if (tmp___1 != 0L) {
#line 36
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/asm-generic/dma-mapping-common.h"),
                         "i" (36), "i" (12UL));
    ldv_34908: ;
#line 36
    goto ldv_34908;
  } else {

  }
#line 37
  if ((unsigned long )ops->unmap_page != (unsigned long )((void (*)(struct device * ,
                                                                    dma_addr_t  ,
                                                                    size_t  , enum dma_data_direction  ,
                                                                    struct dma_attrs * ))0)) {
#line 38
    (*(ops->unmap_page))(dev, addr, size, dir, attrs);
  } else {

  }
#line 39
  debug_dma_unmap_page(dev, addr, size, (int )dir, 1);
#line 40
  return;
}
}
#line 46 "include/asm-generic/dma-mapping-common.h"
__inline static int dma_map_sg_attrs(struct device *dev , struct scatterlist *sg ,
                                     int nents , enum dma_data_direction dir , struct dma_attrs *attrs ) 
{ 
  struct dma_map_ops *ops ;
  struct dma_map_ops *tmp ;
  int i ;
  int ents ;
  struct scatterlist *s ;
  void *tmp___0 ;
  int tmp___1 ;
  long tmp___2 ;
  long tmp___3 ;

  {
#line 50
  tmp = get_dma_ops(dev);
#line 50
  ops = tmp;
#line 54
  i = 0;
#line 54
  s = sg;
#line 54
  goto ldv_34921;
  ldv_34920: 
#line 55
  tmp___0 = sg_virt(s);
#line 55
  kmemcheck_mark_initialized(tmp___0, s->length);
#line 54
  i = i + 1;
#line 54
  s = sg_next(s);
  ldv_34921: ;
#line 54
  if (i < nents) {
#line 56
    goto ldv_34920;
  } else {

  }
#line 56
  tmp___1 = valid_dma_direction((int )dir);
#line 56
  tmp___2 = ldv__builtin_expect(tmp___1 == 0, 0L);
#line 56
  if (tmp___2 != 0L) {
#line 56
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/asm-generic/dma-mapping-common.h"),
                         "i" (56), "i" (12UL));
    ldv_34923: ;
#line 56
    goto ldv_34923;
  } else {

  }
#line 57
  ents = (*(ops->map_sg))(dev, sg, nents, dir, attrs);
#line 58
  tmp___3 = ldv__builtin_expect(ents < 0, 0L);
#line 58
  if (tmp___3 != 0L) {
#line 58
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/asm-generic/dma-mapping-common.h"),
                         "i" (58), "i" (12UL));
    ldv_34924: ;
#line 58
    goto ldv_34924;
  } else {

  }
#line 59
  debug_dma_map_sg(dev, sg, nents, ents, (int )dir);
#line 61
  return (ents);
}
}
#line 64 "include/asm-generic/dma-mapping-common.h"
__inline static void dma_unmap_sg_attrs(struct device *dev , struct scatterlist *sg ,
                                        int nents , enum dma_data_direction dir ,
                                        struct dma_attrs *attrs ) 
{ 
  struct dma_map_ops *ops ;
  struct dma_map_ops *tmp ;
  int tmp___0 ;
  long tmp___1 ;

  {
#line 68
  tmp = get_dma_ops(dev);
#line 68
  ops = tmp;
#line 70
  tmp___0 = valid_dma_direction((int )dir);
#line 70
  tmp___1 = ldv__builtin_expect(tmp___0 == 0, 0L);
#line 70
  if (tmp___1 != 0L) {
#line 70
    __asm__  volatile   ("1:\tud2\n.pushsection __bug_table,\"a\"\n2:\t.long 1b - 2b, %c0 - 2b\n\t.word %c1, 0\n\t.org 2b+%c2\n.popsection": : "i" ((char *)"include/asm-generic/dma-mapping-common.h"),
                         "i" (70), "i" (12UL));
    ldv_34933: ;
#line 70
    goto ldv_34933;
  } else {

  }
#line 71
  debug_dma_unmap_sg(dev, sg, nents, (int )dir);
#line 72
  if ((unsigned long )ops->unmap_sg != (unsigned long )((void (*)(struct device * ,
                                                                  struct scatterlist * ,
                                                                  int  , enum dma_data_direction  ,
                                                                  struct dma_attrs * ))0)) {
#line 73
    (*(ops->unmap_sg))(dev, sg, nents, dir, attrs);
  } else {

  }
#line 74
  return;
}
}
#line 171 "include/scsi/scsi_cmnd.h"
__inline static unsigned int scsi_sg_count(struct scsi_cmnd *cmd ) 
{ 


  {
#line 173
  return (cmd->sdb.table.nents);
}
}
#line 176 "include/scsi/scsi_cmnd.h"
__inline static struct scatterlist *scsi_sglist(struct scsi_cmnd *cmd ) 
{ 


  {
#line 178
  return (cmd->sdb.table.sgl);
}
}
#line 181 "include/scsi/scsi_cmnd.h"
__inline static unsigned int scsi_bufflen(struct scsi_cmnd *cmd ) 
{ 


  {
#line 183
  return (cmd->sdb.length);
}
}
#line 186 "include/scsi/scsi_cmnd.h"
__inline static void scsi_set_resid(struct scsi_cmnd *cmd , int resid ) 
{ 


  {
#line 188
  cmd->sdb.resid = resid;
#line 189
  return;
}
}
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_33(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 32 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_transport.h"
unsigned int rtsx_stor_access_xfer_buf(unsigned char *buffer , unsigned int buflen ,
                                       struct scsi_cmnd *srb , unsigned int *index ,
                                       unsigned int *offset , enum xfer_buf_dir dir ) ;
#line 35
void rtsx_stor_set_xfer_buf(unsigned char *buffer , unsigned int buflen , struct scsi_cmnd *srb ) ;
#line 37
void rtsx_stor_get_xfer_buf(unsigned char *buffer , unsigned int buflen , struct scsi_cmnd *srb ) ;
#line 46
void rtsx_send_cmd_no_wait(struct rtsx_chip *chip ) ;
#line 58
int rtsx_transfer_data(struct rtsx_chip *chip , u8 card , void *buf , size_t len ,
                       int use_sg , enum dma_data_direction dma_dir , int timeout ) ;
#line 61
int rtsx_transfer_data_partial(struct rtsx_chip *chip , u8 card , void *buf , size_t len ,
                               int use_sg , unsigned int *index , unsigned int *offset ,
                               enum dma_data_direction dma_dir , int timeout ) ;
#line 141 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_scsi.h"
int rtsx_scsi_handler(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 41 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
unsigned int rtsx_stor_access_xfer_buf(unsigned char *buffer , unsigned int buflen ,
                                       struct scsi_cmnd *srb , unsigned int *index ,
                                       unsigned int *offset , enum xfer_buf_dir dir ) 
{ 
  unsigned int cnt ;
  unsigned int tmp ;
  unsigned int _min1 ;
  unsigned int _min2 ;
  unsigned int tmp___0 ;
  struct scatterlist *tmp___1 ;
  struct scatterlist *tmp___2 ;
  struct scatterlist *sg ;
  struct scatterlist *tmp___3 ;
  struct page *page ;
  struct page *tmp___4 ;
  unsigned int poff ;
  unsigned int sglen ;
  unsigned int plen ;
  unsigned int _min1___0 ;
  unsigned int _min2___0 ;
  unsigned char *ptr ;
  void *tmp___5 ;
  unsigned int tmp___6 ;
  unsigned int tmp___7 ;

  {
#line 49
  tmp___7 = scsi_sg_count(srb);
#line 49
  if (tmp___7 == 0U) {
#line 50
    tmp = scsi_bufflen(srb);
#line 50
    if (*offset >= tmp) {
#line 51
      return (0U);
    } else {

    }
#line 52
    _min1 = buflen;
#line 52
    tmp___0 = scsi_bufflen(srb);
#line 52
    _min2 = tmp___0 - *offset;
#line 52
    cnt = _min1 < _min2 ? _min1 : _min2;
#line 53
    if ((unsigned int )dir == 0U) {
#line 54
      tmp___1 = scsi_sglist(srb);
#line 54
      memcpy((void *)tmp___1 + (unsigned long )*offset, (void const   *)buffer,
               (size_t )cnt);
    } else {
#line 57
      tmp___2 = scsi_sglist(srb);
#line 57
      memcpy((void *)buffer, (void const   *)tmp___2 + (unsigned long )*offset,
               (size_t )cnt);
    }
#line 59
    *offset = *offset + cnt;
  } else {
#line 69
    tmp___3 = scsi_sglist(srb);
#line 69
    sg = tmp___3 + (unsigned long )*index;
#line 77
    cnt = 0U;
#line 78
    goto ldv_38086;
    ldv_38085: 
#line 79
    tmp___4 = sg_page(sg);
#line 79
    page = tmp___4 + (unsigned long )((sg->offset + *offset) >> 12);
#line 81
    poff = (sg->offset + *offset) & 4095U;
#line 83
    sglen = sg->length - *offset;
#line 85
    if (buflen - cnt < sglen) {
#line 88
      sglen = buflen - cnt;
#line 89
      *offset = *offset + sglen;
    } else {
#line 93
      *offset = 0U;
#line 94
      *index = *index + 1U;
#line 95
      sg = sg + 1;
    }
#line 101
    goto ldv_38083;
    ldv_38082: 
#line 102
    _min1___0 = sglen;
#line 102
    _min2___0 = 4096U - poff;
#line 102
    plen = _min1___0 < _min2___0 ? _min1___0 : _min2___0;
#line 104
    tmp___5 = kmap(page);
#line 104
    ptr = (unsigned char *)tmp___5;
#line 106
    if ((unsigned int )dir == 0U) {
#line 107
      memcpy((void *)ptr + (unsigned long )poff, (void const   *)buffer + (unsigned long )cnt,
               (size_t )plen);
    } else {
#line 109
      memcpy((void *)buffer + (unsigned long )cnt, (void const   *)ptr + (unsigned long )poff,
               (size_t )plen);
    }
#line 110
    kunmap(page);
#line 113
    poff = 0U;
#line 114
    page = page + 1;
#line 115
    cnt = cnt + plen;
#line 116
    sglen = sglen - plen;
    ldv_38083: ;
#line 101
    if (sglen != 0U) {
#line 103
      goto ldv_38082;
    } else {

    }

    ldv_38086: ;
#line 78
    if (cnt < buflen) {
#line 78
      tmp___6 = scsi_sg_count(srb);
#line 78
      if (*index < tmp___6) {
#line 80
        goto ldv_38085;
      } else {
#line 83
        goto ldv_38087;
      }
    } else {

    }
    ldv_38087: ;
  }
#line 122
  return (cnt);
}
}
#line 127 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
void rtsx_stor_set_xfer_buf(unsigned char *buffer , unsigned int buflen , struct scsi_cmnd *srb ) 
{ 
  unsigned int index ;
  unsigned int offset ;
  unsigned int tmp ;
  unsigned int tmp___0 ;

  {
#line 130
  index = 0U;
#line 130
  offset = 0U;
#line 132
  rtsx_stor_access_xfer_buf(buffer, buflen, srb, & index, & offset, 0);
#line 134
  tmp___0 = scsi_bufflen(srb);
#line 134
  if (tmp___0 > buflen) {
#line 135
    tmp = scsi_bufflen(srb);
#line 135
    scsi_set_resid(srb, (int )(tmp - buflen));
  } else {

  }
#line 136
  return;
}
}
#line 138 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
void rtsx_stor_get_xfer_buf(unsigned char *buffer , unsigned int buflen , struct scsi_cmnd *srb ) 
{ 
  unsigned int index ;
  unsigned int offset ;
  unsigned int tmp ;
  unsigned int tmp___0 ;

  {
#line 141
  index = 0U;
#line 141
  offset = 0U;
#line 143
  rtsx_stor_access_xfer_buf(buffer, buflen, srb, & index, & offset, 1);
#line 145
  tmp___0 = scsi_bufflen(srb);
#line 145
  if (tmp___0 > buflen) {
#line 146
    tmp = scsi_bufflen(srb);
#line 146
    scsi_set_resid(srb, (int )(tmp - buflen));
  } else {

  }
#line 147
  return;
}
}
#line 158 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
void rtsx_invoke_transport(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int result ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 162
  result = rtsx_scsi_handler(srb, chip);
#line 167
  if ((unsigned int )chip->rtsx_stat == 6U) {
#line 168
    descriptor.modname = "rts5208";
#line 168
    descriptor.function = "rtsx_invoke_transport";
#line 168
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 168
    descriptor.format = "-- command was aborted\n";
#line 168
    descriptor.lineno = 168U;
#line 168
    descriptor.flags = 0U;
#line 168
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 168
    if (tmp___0 != 0L) {
#line 168
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 168
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "-- command was aborted\n");
    } else {

    }
#line 169
    srb->result = 327680;
#line 170
    goto Handle_Errors;
  } else {

  }
#line 174
  if (result == 3) {
#line 175
    descriptor___0.modname = "rts5208";
#line 175
    descriptor___0.function = "rtsx_invoke_transport";
#line 175
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 175
    descriptor___0.format = "-- transport indicates error, resetting\n";
#line 175
    descriptor___0.lineno = 175U;
#line 175
    descriptor___0.flags = 0U;
#line 175
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 175
    if (tmp___2 != 0L) {
#line 175
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 175
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "-- transport indicates error, resetting\n");
    } else {

    }
#line 176
    srb->result = 458752;
#line 177
    goto Handle_Errors;
  } else {

  }
#line 180
  srb->result = 0;
#line 187
  if (result == 1) {
#line 189
    srb->result = 2;
#line 190
    memcpy((void *)srb->sense_buffer, (void const   *)(& chip->sense_buffer) + (unsigned long )(srb->device)->lun,
             18UL);
  } else {

  }
#line 195
  return;
  Handle_Errors: ;
#line 201
  return;
}
}
#line 204 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
void rtsx_add_cmd(struct rtsx_chip *chip , u8 cmd_type , u16 reg_addr , u8 mask ,
                  u8 data ) 
{ 
  u32 *cb ;
  u32 val ;
  int tmp ;

  {
#line 207
  cb = (u32 *)chip->host_cmds_ptr;
#line 208
  val = 0U;
#line 210
  val = ((unsigned int )cmd_type << 30) | val;
#line 211
  val = (((unsigned int )reg_addr & 16383U) << 16) | val;
#line 212
  val = ((unsigned int )mask << 8) | val;
#line 213
  val = (u32 )data | val;
#line 215
  spin_lock_irq(& (chip->rtsx)->reg_lock);
#line 216
  if (chip->ci <= 255) {
#line 217
    tmp = chip->ci;
#line 217
    chip->ci = chip->ci + 1;
#line 217
    *(cb + (unsigned long )tmp) = val;
  } else {

  }
#line 219
  spin_unlock_irq(& (chip->rtsx)->reg_lock);
#line 220
  return;
}
}
#line 222 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
void rtsx_send_cmd_no_wait(struct rtsx_chip *chip ) 
{ 
  u32 val ;

  {
#line 224
  val = 2147483648U;
#line 226
  iowrite32((u32 )chip->host_cmds_addr, (chip->rtsx)->remap_addr);
#line 228
  val = ((u32 )(chip->ci * 4) & 16777215U) | val;
#line 230
  val = val | 1073741824U;
#line 231
  iowrite32(val, (chip->rtsx)->remap_addr + 4UL);
#line 232
  return;
}
}
#line 234 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
int rtsx_send_cmd(struct rtsx_chip *chip , u8 card , int timeout ) 
{ 
  struct rtsx_dev *rtsx ;
  struct completion trans_done ;
  u32 val ;
  long timeleft ;
  int err ;
  unsigned long tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;

  {
#line 236
  rtsx = chip->rtsx;
#line 238
  val = 2147483648U;
#line 240
  err = 0;
#line 242
  if ((unsigned int )card == 4U) {
#line 243
    rtsx->check_card_cd = 65536U;
  } else
#line 244
  if ((unsigned int )card == 8U) {
#line 245
    rtsx->check_card_cd = 131072U;
  } else
#line 246
  if ((unsigned int )card == 16U) {
#line 247
    rtsx->check_card_cd = 262144U;
  } else {
#line 249
    rtsx->check_card_cd = 0U;
  }
#line 251
  spin_lock_irq(& rtsx->reg_lock);
#line 254
  rtsx->done = & trans_done;
#line 255
  rtsx->trans_result = 0;
#line 256
  init_completion(& trans_done);
#line 257
  rtsx->trans_state = 1;
#line 259
  iowrite32((u32 )chip->host_cmds_addr, (chip->rtsx)->remap_addr);
#line 261
  val = ((u32 )(chip->ci * 4) & 16777215U) | val;
#line 263
  val = val | 1073741824U;
#line 264
  iowrite32(val, (chip->rtsx)->remap_addr + 4UL);
#line 266
  spin_unlock_irq(& rtsx->reg_lock);
#line 269
  tmp = msecs_to_jiffies((unsigned int const   )timeout);
#line 269
  timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp);
#line 271
  if (timeleft <= 0L) {
#line 272
    descriptor.modname = "rts5208";
#line 272
    descriptor.function = "rtsx_send_cmd";
#line 272
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 272
    descriptor.format = "chip->int_reg = 0x%x\n";
#line 272
    descriptor.lineno = 273U;
#line 272
    descriptor.flags = 0U;
#line 272
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 272
    if (tmp___1 != 0L) {
#line 272
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 272
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "chip->int_reg = 0x%x\n",
                        chip->int_reg);
    } else {

    }
#line 274
    err = -110;
#line 275
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c",
                "rtsx_send_cmd", 275);
#line 276
    goto finish_send_cmd;
  } else {

  }
#line 279
  spin_lock_irq(& rtsx->reg_lock);
#line 280
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 281
    err = -5;
  } else
#line 282
  if ((int )((signed char )rtsx->trans_result) == 1) {
#line 283
    err = 0;
  } else {

  }
#line 285
  spin_unlock_irq(& rtsx->reg_lock);
  finish_send_cmd: 
#line 288
  rtsx->done = (struct completion *)0;
#line 289
  rtsx->trans_state = 0;
#line 291
  if (err < 0) {
#line 292
    rtsx_stop_cmd(chip, (int )card);
  } else {

  }
#line 294
  return (err);
}
}
#line 297 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
__inline static void rtsx_add_sg_tbl(struct rtsx_chip *chip , u32 addr , u32 len ,
                                     u8 option ) 
{ 
  u64 *sgb ;
  u64 val ;
  u32 temp_len ;
  u8 temp_opt ;
  int tmp ;

  {
#line 300
  sgb = (u64 *)chip->host_sg_tbl_ptr;
#line 301
  val = 0ULL;
#line 302
  temp_len = 0U;
#line 303
  temp_opt = 0U;
  ldv_38147: ;
#line 306
  if (len > 524288U) {
#line 307
    temp_len = 524288U;
#line 308
    temp_opt = (unsigned int )option & 253U;
  } else {
#line 310
    temp_len = len;
#line 311
    temp_opt = option;
  }
#line 313
  val = (((unsigned long long )addr << 32) | ((unsigned long long )temp_len << 12)) | (unsigned long long )temp_opt;
#line 315
  if (chip->sgi <= 383) {
#line 316
    tmp = chip->sgi;
#line 316
    chip->sgi = chip->sgi + 1;
#line 316
    *(sgb + (unsigned long )tmp) = val;
  } else {

  }
#line 318
  len = len - temp_len;
#line 319
  addr = addr + temp_len;
#line 320
  if (len != 0U) {
#line 322
    goto ldv_38147;
  } else {

  }

#line 327
  return;
}
}
#line 323 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
static int rtsx_transfer_sglist_adma_partial(struct rtsx_chip *chip , u8 card , struct scatterlist *sg ,
                                             int num_sg , unsigned int *index , unsigned int *offset ,
                                             int size , enum dma_data_direction dma_dir ,
                                             int timeout ) 
{ 
  struct rtsx_dev *rtsx ;
  struct completion trans_done ;
  u8 dir ;
  int sg_cnt ;
  int i ;
  int resid ;
  int err ;
  long timeleft ;
  struct scatterlist *sg_ptr ;
  u32 val ;
  dma_addr_t addr ;
  unsigned int len ;
  u8 option ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  unsigned long tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  unsigned long tmp___10 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___11 ;
  long tmp___12 ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___13 ;
  long tmp___14 ;

  {
#line 328
  rtsx = chip->rtsx;
#line 332
  err = 0;
#line 335
  val = 2147483648U;
#line 337
  if ((((unsigned long )sg == (unsigned long )((struct scatterlist *)0) || num_sg <= 0) || (unsigned long )offset == (unsigned long )((unsigned int *)0U)) || (unsigned long )index == (unsigned long )((unsigned int *)0U)) {
#line 338
    return (-5);
  } else {

  }
#line 340
  if ((unsigned int )dma_dir == 1U) {
#line 341
    dir = 0U;
  } else
#line 342
  if ((unsigned int )dma_dir == 2U) {
#line 343
    dir = 1U;
  } else {
#line 345
    return (-6);
  }
#line 347
  if ((unsigned int )card == 4U) {
#line 348
    rtsx->check_card_cd = 65536U;
  } else
#line 349
  if ((unsigned int )card == 8U) {
#line 350
    rtsx->check_card_cd = 131072U;
  } else
#line 351
  if ((unsigned int )card == 16U) {
#line 352
    rtsx->check_card_cd = 262144U;
  } else {
#line 354
    rtsx->check_card_cd = 0U;
  }
#line 356
  spin_lock_irq(& rtsx->reg_lock);
#line 359
  rtsx->done = & trans_done;
#line 361
  rtsx->trans_state = 3;
#line 362
  rtsx->trans_result = 0;
#line 364
  spin_unlock_irq(& rtsx->reg_lock);
#line 366
  sg_cnt = dma_map_sg_attrs(& (rtsx->pci)->dev, sg, num_sg, dma_dir, (struct dma_attrs *)0);
#line 368
  resid = size;
#line 369
  sg_ptr = sg;
#line 370
  chip->sgi = 0;
#line 376
  i = 0;
#line 376
  goto ldv_38171;
  ldv_38170: 
#line 377
  sg_ptr = sg_next(sg_ptr);
#line 376
  i = i + 1;
  ldv_38171: ;
#line 376
  if ((unsigned int )i < *index) {
#line 378
    goto ldv_38170;
  } else {

  }
#line 378
  i = (int )*index;
#line 378
  goto ldv_38181;
  ldv_38180: 
#line 383
  addr = sg_ptr->dma_address;
#line 384
  len = sg_ptr->dma_length;
#line 386
  descriptor.modname = "rts5208";
#line 386
  descriptor.function = "rtsx_transfer_sglist_adma_partial";
#line 386
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 386
  descriptor.format = "DMA addr: 0x%x, Len: 0x%x\n";
#line 386
  descriptor.lineno = 387U;
#line 386
  descriptor.flags = 0U;
#line 386
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 386
  if (tmp___0 != 0L) {
#line 386
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 386
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "DMA addr: 0x%x, Len: 0x%x\n",
                      (unsigned int )addr, len);
  } else {

  }
#line 388
  descriptor___0.modname = "rts5208";
#line 388
  descriptor___0.function = "rtsx_transfer_sglist_adma_partial";
#line 388
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 388
  descriptor___0.format = "*index = %d, *offset = %d\n";
#line 388
  descriptor___0.lineno = 389U;
#line 388
  descriptor___0.flags = 0U;
#line 388
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 388
  if (tmp___2 != 0L) {
#line 388
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 388
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "*index = %d, *offset = %d\n",
                      *index, *offset);
  } else {

  }
#line 391
  addr = (dma_addr_t )*offset + addr;
#line 393
  if (len - *offset > (unsigned int )resid) {
#line 394
    *offset = *offset + (unsigned int )resid;
#line 395
    len = (unsigned int )resid;
#line 396
    resid = 0;
  } else {
#line 398
    resid = (int )((*offset - len) + (unsigned int )resid);
#line 399
    len = len - *offset;
#line 400
    *offset = 0U;
#line 401
    *index = *index + 1U;
  }
#line 403
  if (sg_cnt + -1 == i || resid == 0) {
#line 404
    option = 35U;
  } else {
#line 406
    option = 33U;
  }
#line 408
  rtsx_add_sg_tbl(chip, (unsigned int )addr, len, (int )option);
#line 410
  if (resid == 0) {
#line 411
    goto ldv_38179;
  } else {

  }
#line 413
  sg_ptr = sg_next(sg_ptr);
#line 378
  i = i + 1;
  ldv_38181: ;
#line 378
  if (i < sg_cnt) {
#line 380
    goto ldv_38180;
  } else {

  }
  ldv_38179: 
#line 416
  descriptor___1.modname = "rts5208";
#line 416
  descriptor___1.function = "rtsx_transfer_sglist_adma_partial";
#line 416
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 416
  descriptor___1.format = "SG table count = %d\n";
#line 416
  descriptor___1.lineno = 416U;
#line 416
  descriptor___1.flags = 0U;
#line 416
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 416
  if (tmp___4 != 0L) {
#line 416
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 416
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "SG table count = %d\n",
                      chip->sgi);
  } else {

  }
#line 418
  val = (((unsigned int )dir & 1U) << 29) | val;
#line 419
  val = val | 134217728U;
#line 421
  spin_lock_irq(& rtsx->reg_lock);
#line 423
  init_completion(& trans_done);
#line 425
  iowrite32((u32 )chip->host_sg_tbl_addr, (chip->rtsx)->remap_addr + 8UL);
#line 426
  iowrite32(val, (chip->rtsx)->remap_addr + 12UL);
#line 428
  spin_unlock_irq(& rtsx->reg_lock);
#line 430
  tmp___5 = msecs_to_jiffies((unsigned int const   )timeout);
#line 430
  timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp___5);
#line 432
  if (timeleft <= 0L) {
#line 433
    descriptor___2.modname = "rts5208";
#line 433
    descriptor___2.function = "rtsx_transfer_sglist_adma_partial";
#line 433
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 433
    descriptor___2.format = "Timeout (%s %d)\n";
#line 433
    descriptor___2.lineno = 434U;
#line 433
    descriptor___2.flags = 0U;
#line 433
    tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 433
    if (tmp___7 != 0L) {
#line 433
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 433
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "Timeout (%s %d)\n",
                        "rtsx_transfer_sglist_adma_partial", 434);
    } else {

    }
#line 435
    descriptor___3.modname = "rts5208";
#line 435
    descriptor___3.function = "rtsx_transfer_sglist_adma_partial";
#line 435
    descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 435
    descriptor___3.format = "chip->int_reg = 0x%x\n";
#line 435
    descriptor___3.lineno = 436U;
#line 435
    descriptor___3.flags = 0U;
#line 435
    tmp___9 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 435
    if (tmp___9 != 0L) {
#line 435
      tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 435
      __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___8, "chip->int_reg = 0x%x\n",
                        chip->int_reg);
    } else {

    }
#line 437
    err = -110;
#line 438
    goto out;
  } else {

  }
#line 441
  spin_lock_irq(& rtsx->reg_lock);
#line 442
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 443
    err = -5;
#line 444
    spin_unlock_irq(& rtsx->reg_lock);
#line 445
    goto out;
  } else {

  }
#line 447
  spin_unlock_irq(& rtsx->reg_lock);
#line 450
  spin_lock_irq(& rtsx->reg_lock);
#line 451
  if ((int )((signed char )rtsx->trans_result) == 0) {
#line 452
    init_completion(& trans_done);
#line 453
    spin_unlock_irq(& rtsx->reg_lock);
#line 454
    tmp___10 = msecs_to_jiffies((unsigned int const   )timeout);
#line 454
    timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp___10);
#line 456
    if (timeleft <= 0L) {
#line 457
      descriptor___4.modname = "rts5208";
#line 457
      descriptor___4.function = "rtsx_transfer_sglist_adma_partial";
#line 457
      descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 457
      descriptor___4.format = "Timeout (%s %d)\n";
#line 457
      descriptor___4.lineno = 458U;
#line 457
      descriptor___4.flags = 0U;
#line 457
      tmp___12 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 457
      if (tmp___12 != 0L) {
#line 457
        tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 457
        __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___11, "Timeout (%s %d)\n",
                          "rtsx_transfer_sglist_adma_partial", 458);
      } else {

      }
#line 459
      descriptor___5.modname = "rts5208";
#line 459
      descriptor___5.function = "rtsx_transfer_sglist_adma_partial";
#line 459
      descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 459
      descriptor___5.format = "chip->int_reg = 0x%x\n";
#line 459
      descriptor___5.lineno = 460U;
#line 459
      descriptor___5.flags = 0U;
#line 459
      tmp___14 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 459
      if (tmp___14 != 0L) {
#line 459
        tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 459
        __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___13, "chip->int_reg = 0x%x\n",
                          chip->int_reg);
      } else {

      }
#line 461
      err = -110;
#line 462
      goto out;
    } else {

    }
  } else {
#line 465
    spin_unlock_irq(& rtsx->reg_lock);
  }
#line 468
  spin_lock_irq(& rtsx->reg_lock);
#line 469
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 470
    err = -5;
  } else
#line 471
  if ((int )((signed char )rtsx->trans_result) == 1) {
#line 472
    err = 0;
  } else {

  }
#line 474
  spin_unlock_irq(& rtsx->reg_lock);
  out: 
#line 477
  rtsx->done = (struct completion *)0;
#line 478
  rtsx->trans_state = 0;
#line 479
  dma_unmap_sg_attrs(& (rtsx->pci)->dev, sg, num_sg, dma_dir, (struct dma_attrs *)0);
#line 481
  if (err < 0) {
#line 482
    rtsx_stop_cmd(chip, (int )card);
  } else {

  }
#line 484
  return (err);
}
}
#line 487 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
static int rtsx_transfer_sglist_adma(struct rtsx_chip *chip , u8 card , struct scatterlist *sg ,
                                     int num_sg , enum dma_data_direction dma_dir ,
                                     int timeout ) 
{ 
  struct rtsx_dev *rtsx ;
  struct completion trans_done ;
  u8 dir ;
  int buf_cnt ;
  int i ;
  int err ;
  long timeleft ;
  struct scatterlist *sg_ptr ;
  u32 val ;
  int sg_cnt ;
  int j ;
  dma_addr_t addr ;
  unsigned int len ;
  u8 option ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  unsigned long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  unsigned long tmp___8 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___9 ;
  long tmp___10 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___11 ;
  long tmp___12 ;

  {
#line 491
  rtsx = chip->rtsx;
#line 495
  err = 0;
#line 499
  if ((unsigned long )sg == (unsigned long )((struct scatterlist *)0) || num_sg <= 0) {
#line 500
    return (-5);
  } else {

  }
#line 502
  if ((unsigned int )dma_dir == 1U) {
#line 503
    dir = 0U;
  } else
#line 504
  if ((unsigned int )dma_dir == 2U) {
#line 505
    dir = 1U;
  } else {
#line 507
    return (-6);
  }
#line 509
  if ((unsigned int )card == 4U) {
#line 510
    rtsx->check_card_cd = 65536U;
  } else
#line 511
  if ((unsigned int )card == 8U) {
#line 512
    rtsx->check_card_cd = 131072U;
  } else
#line 513
  if ((unsigned int )card == 16U) {
#line 514
    rtsx->check_card_cd = 262144U;
  } else {
#line 516
    rtsx->check_card_cd = 0U;
  }
#line 518
  spin_lock_irq(& rtsx->reg_lock);
#line 521
  rtsx->done = & trans_done;
#line 523
  rtsx->trans_state = 3;
#line 524
  rtsx->trans_result = 0;
#line 526
  spin_unlock_irq(& rtsx->reg_lock);
#line 528
  buf_cnt = dma_map_sg_attrs(& (rtsx->pci)->dev, sg, num_sg, dma_dir, (struct dma_attrs *)0);
#line 530
  sg_ptr = sg;
#line 532
  i = 0;
#line 532
  goto ldv_38220;
  ldv_38219: 
#line 533
  val = 2147483648U;
#line 536
  if (buf_cnt / 384 == i) {
#line 537
    sg_cnt = buf_cnt % 384;
  } else {
#line 539
    sg_cnt = 384;
  }
#line 541
  chip->sgi = 0;
#line 542
  j = 0;
#line 542
  goto ldv_38213;
  ldv_38212: 
#line 543
  addr = sg_ptr->dma_address;
#line 544
  len = sg_ptr->dma_length;
#line 547
  descriptor.modname = "rts5208";
#line 547
  descriptor.function = "rtsx_transfer_sglist_adma";
#line 547
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 547
  descriptor.format = "DMA addr: 0x%x, Len: 0x%x\n";
#line 547
  descriptor.lineno = 548U;
#line 547
  descriptor.flags = 0U;
#line 547
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 547
  if (tmp___0 != 0L) {
#line 547
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 547
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "DMA addr: 0x%x, Len: 0x%x\n",
                      (unsigned int )addr, len);
  } else {

  }
#line 550
  if (sg_cnt + -1 == j) {
#line 551
    option = 35U;
  } else {
#line 553
    option = 33U;
  }
#line 555
  rtsx_add_sg_tbl(chip, (unsigned int )addr, len, (int )option);
#line 557
  sg_ptr = sg_next(sg_ptr);
#line 542
  j = j + 1;
  ldv_38213: ;
#line 542
  if (j < sg_cnt) {
#line 544
    goto ldv_38212;
  } else {

  }
#line 560
  descriptor___0.modname = "rts5208";
#line 560
  descriptor___0.function = "rtsx_transfer_sglist_adma";
#line 560
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 560
  descriptor___0.format = "SG table count = %d\n";
#line 560
  descriptor___0.lineno = 560U;
#line 560
  descriptor___0.flags = 0U;
#line 560
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 560
  if (tmp___2 != 0L) {
#line 560
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 560
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "SG table count = %d\n",
                      chip->sgi);
  } else {

  }
#line 562
  val = (((unsigned int )dir & 1U) << 29) | val;
#line 563
  val = val | 134217728U;
#line 565
  spin_lock_irq(& rtsx->reg_lock);
#line 567
  init_completion(& trans_done);
#line 569
  iowrite32((u32 )chip->host_sg_tbl_addr, (chip->rtsx)->remap_addr + 8UL);
#line 570
  iowrite32(val, (chip->rtsx)->remap_addr + 12UL);
#line 572
  spin_unlock_irq(& rtsx->reg_lock);
#line 574
  tmp___3 = msecs_to_jiffies((unsigned int const   )timeout);
#line 574
  timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp___3);
#line 576
  if (timeleft <= 0L) {
#line 577
    descriptor___1.modname = "rts5208";
#line 577
    descriptor___1.function = "rtsx_transfer_sglist_adma";
#line 577
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 577
    descriptor___1.format = "Timeout (%s %d)\n";
#line 577
    descriptor___1.lineno = 578U;
#line 577
    descriptor___1.flags = 0U;
#line 577
    tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 577
    if (tmp___5 != 0L) {
#line 577
      tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 577
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "Timeout (%s %d)\n",
                        "rtsx_transfer_sglist_adma", 578);
    } else {

    }
#line 579
    descriptor___2.modname = "rts5208";
#line 579
    descriptor___2.function = "rtsx_transfer_sglist_adma";
#line 579
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 579
    descriptor___2.format = "chip->int_reg = 0x%x\n";
#line 579
    descriptor___2.lineno = 580U;
#line 579
    descriptor___2.flags = 0U;
#line 579
    tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 579
    if (tmp___7 != 0L) {
#line 579
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 579
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "chip->int_reg = 0x%x\n",
                        chip->int_reg);
    } else {

    }
#line 581
    err = -110;
#line 582
    goto out;
  } else {

  }
#line 585
  spin_lock_irq(& rtsx->reg_lock);
#line 586
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 587
    err = -5;
#line 588
    spin_unlock_irq(& rtsx->reg_lock);
#line 589
    goto out;
  } else {

  }
#line 591
  spin_unlock_irq(& rtsx->reg_lock);
#line 593
  sg_ptr = sg_ptr + (unsigned long )sg_cnt;
#line 532
  i = i + 1;
  ldv_38220: ;
#line 532
  if (buf_cnt / 384 >= i) {
#line 534
    goto ldv_38219;
  } else {

  }
#line 597
  spin_lock_irq(& rtsx->reg_lock);
#line 598
  if ((int )((signed char )rtsx->trans_result) == 0) {
#line 599
    init_completion(& trans_done);
#line 600
    spin_unlock_irq(& rtsx->reg_lock);
#line 601
    tmp___8 = msecs_to_jiffies((unsigned int const   )timeout);
#line 601
    timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp___8);
#line 603
    if (timeleft <= 0L) {
#line 604
      descriptor___3.modname = "rts5208";
#line 604
      descriptor___3.function = "rtsx_transfer_sglist_adma";
#line 604
      descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 604
      descriptor___3.format = "Timeout (%s %d)\n";
#line 604
      descriptor___3.lineno = 605U;
#line 604
      descriptor___3.flags = 0U;
#line 604
      tmp___10 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 604
      if (tmp___10 != 0L) {
#line 604
        tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 604
        __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___9, "Timeout (%s %d)\n",
                          "rtsx_transfer_sglist_adma", 605);
      } else {

      }
#line 606
      descriptor___4.modname = "rts5208";
#line 606
      descriptor___4.function = "rtsx_transfer_sglist_adma";
#line 606
      descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 606
      descriptor___4.format = "chip->int_reg = 0x%x\n";
#line 606
      descriptor___4.lineno = 607U;
#line 606
      descriptor___4.flags = 0U;
#line 606
      tmp___12 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 606
      if (tmp___12 != 0L) {
#line 606
        tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 606
        __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___11, "chip->int_reg = 0x%x\n",
                          chip->int_reg);
      } else {

      }
#line 608
      err = -110;
#line 609
      goto out;
    } else {

    }
  } else {
#line 612
    spin_unlock_irq(& rtsx->reg_lock);
  }
#line 615
  spin_lock_irq(& rtsx->reg_lock);
#line 616
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 617
    err = -5;
  } else
#line 618
  if ((int )((signed char )rtsx->trans_result) == 1) {
#line 619
    err = 0;
  } else {

  }
#line 621
  spin_unlock_irq(& rtsx->reg_lock);
  out: 
#line 624
  rtsx->done = (struct completion *)0;
#line 625
  rtsx->trans_state = 0;
#line 626
  dma_unmap_sg_attrs(& (rtsx->pci)->dev, sg, num_sg, dma_dir, (struct dma_attrs *)0);
#line 628
  if (err < 0) {
#line 629
    rtsx_stop_cmd(chip, (int )card);
  } else {

  }
#line 631
  return (err);
}
}
#line 634 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
static int rtsx_transfer_buf(struct rtsx_chip *chip , u8 card , void *buf , size_t len ,
                             enum dma_data_direction dma_dir , int timeout ) 
{ 
  struct rtsx_dev *rtsx ;
  struct completion trans_done ;
  dma_addr_t addr ;
  u8 dir ;
  int err ;
  u32 val ;
  long timeleft ;
  unsigned long tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;

  {
#line 637
  rtsx = chip->rtsx;
#line 641
  err = 0;
#line 642
  val = 2147483648U;
#line 645
  if ((unsigned long )buf == (unsigned long )((void *)0) || len == 0UL) {
#line 646
    return (-5);
  } else {

  }
#line 648
  if ((unsigned int )dma_dir == 1U) {
#line 649
    dir = 0U;
  } else
#line 650
  if ((unsigned int )dma_dir == 2U) {
#line 651
    dir = 1U;
  } else {
#line 653
    return (-6);
  }
#line 655
  addr = dma_map_single_attrs(& (rtsx->pci)->dev, buf, len, dma_dir, (struct dma_attrs *)0);
#line 656
  if (addr == 0ULL) {
#line 657
    return (-12);
  } else {

  }
#line 659
  if ((unsigned int )card == 4U) {
#line 660
    rtsx->check_card_cd = 65536U;
  } else
#line 661
  if ((unsigned int )card == 8U) {
#line 662
    rtsx->check_card_cd = 131072U;
  } else
#line 663
  if ((unsigned int )card == 16U) {
#line 664
    rtsx->check_card_cd = 262144U;
  } else {
#line 666
    rtsx->check_card_cd = 0U;
  }
#line 668
  val = (((unsigned int )dir & 1U) << 29) | val;
#line 669
  val = ((u32 )len & 16777215U) | val;
#line 671
  spin_lock_irq(& rtsx->reg_lock);
#line 674
  rtsx->done = & trans_done;
#line 676
  init_completion(& trans_done);
#line 678
  rtsx->trans_state = 2;
#line 679
  rtsx->trans_result = 0;
#line 681
  iowrite32((u32 )addr, (chip->rtsx)->remap_addr + 8UL);
#line 682
  iowrite32(val, (chip->rtsx)->remap_addr + 12UL);
#line 684
  spin_unlock_irq(& rtsx->reg_lock);
#line 687
  tmp = msecs_to_jiffies((unsigned int const   )timeout);
#line 687
  timeleft = wait_for_completion_interruptible_timeout(& trans_done, tmp);
#line 689
  if (timeleft <= 0L) {
#line 690
    descriptor.modname = "rts5208";
#line 690
    descriptor.function = "rtsx_transfer_buf";
#line 690
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 690
    descriptor.format = "Timeout (%s %d)\n";
#line 690
    descriptor.lineno = 691U;
#line 690
    descriptor.flags = 0U;
#line 690
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 690
    if (tmp___1 != 0L) {
#line 690
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 690
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "Timeout (%s %d)\n",
                        "rtsx_transfer_buf", 691);
    } else {

    }
#line 692
    descriptor___0.modname = "rts5208";
#line 692
    descriptor___0.function = "rtsx_transfer_buf";
#line 692
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 692
    descriptor___0.format = "chip->int_reg = 0x%x\n";
#line 692
    descriptor___0.lineno = 693U;
#line 692
    descriptor___0.flags = 0U;
#line 692
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 692
    if (tmp___3 != 0L) {
#line 692
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 692
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "chip->int_reg = 0x%x\n",
                        chip->int_reg);
    } else {

    }
#line 694
    err = -110;
#line 695
    goto out;
  } else {

  }
#line 698
  spin_lock_irq(& rtsx->reg_lock);
#line 699
  if ((int )((signed char )rtsx->trans_result) == 2) {
#line 700
    err = -5;
  } else
#line 701
  if ((int )((signed char )rtsx->trans_result) == 1) {
#line 702
    err = 0;
  } else {

  }
#line 704
  spin_unlock_irq(& rtsx->reg_lock);
  out: 
#line 707
  rtsx->done = (struct completion *)0;
#line 708
  rtsx->trans_state = 0;
#line 709
  dma_unmap_single_attrs(& (rtsx->pci)->dev, addr, len, dma_dir, (struct dma_attrs *)0);
#line 711
  if (err < 0) {
#line 712
    rtsx_stop_cmd(chip, (int )card);
  } else {

  }
#line 714
  return (err);
}
}
#line 717 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
int rtsx_transfer_data_partial(struct rtsx_chip *chip , u8 card , void *buf , size_t len ,
                               int use_sg , unsigned int *index , unsigned int *offset ,
                               enum dma_data_direction dma_dir , int timeout ) 
{ 
  int err ;

  {
#line 722
  err = 0;
#line 725
  if ((unsigned int )chip->rtsx_stat == 6U) {
#line 726
    return (-5);
  } else {

  }
#line 728
  if (use_sg != 0) {
#line 729
    err = rtsx_transfer_sglist_adma_partial(chip, (int )card, (struct scatterlist *)buf,
                                            use_sg, index, offset, (int )len, dma_dir,
                                            timeout);
  } else {
#line 733
    err = rtsx_transfer_buf(chip, (int )card, buf, len, dma_dir, timeout);
  }
#line 735
  if (err < 0) {
#line 736
    if ((int )chip->rtsx_flag & 1) {
#line 737
      chip->rtsx_flag = (unsigned int )chip->rtsx_flag & 254U;
#line 738
      chip->need_reinit = 28UL;
#line 739
      rtsx_reinit_cards(chip, 1);
    } else {

    }
  } else {

  }
#line 743
  return (err);
}
}
#line 746 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c"
int rtsx_transfer_data(struct rtsx_chip *chip , u8 card , void *buf , size_t len ,
                       int use_sg , enum dma_data_direction dma_dir , int timeout ) 
{ 
  int err ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 749
  err = 0;
#line 751
  descriptor.modname = "rts5208";
#line 751
  descriptor.function = "rtsx_transfer_data";
#line 751
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.c";
#line 751
  descriptor.format = "use_sg = %d\n";
#line 751
  descriptor.lineno = 751U;
#line 751
  descriptor.flags = 0U;
#line 751
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 751
  if (tmp___0 != 0L) {
#line 751
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 751
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "use_sg = %d\n",
                      use_sg);
  } else {

  }
#line 754
  if ((unsigned int )chip->rtsx_stat == 6U) {
#line 755
    return (-5);
  } else {

  }
#line 757
  if (use_sg != 0) {
#line 758
    err = rtsx_transfer_sglist_adma(chip, (int )card, (struct scatterlist *)buf, use_sg,
                                    dma_dir, timeout);
  } else {
#line 762
    err = rtsx_transfer_buf(chip, (int )card, buf, len, dma_dir, timeout);
  }
#line 765
  if (err < 0) {
#line 766
    if ((int )chip->rtsx_flag & 1) {
#line 767
      chip->rtsx_flag = (unsigned int )chip->rtsx_flag & 254U;
#line 768
      chip->need_reinit = 28UL;
#line 769
      rtsx_reinit_cards(chip, 1);
    } else {

    }
  } else {

  }
#line 773
  return (err);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_transport.o.c.prepared"
int ldv_scsi_add_host_with_dma_33(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_39(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 138 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_scsi.h"
void set_sense_data(struct rtsx_chip *chip , unsigned int lun , u8 err_code , u8 sense_key ,
                    u32 info , u8 asc , u8 ascq , u8 sns_key_info0 , u16 sns_key_info1 ) ;
#line 284 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/sd.h"
void sd_cleanup_work(struct rtsx_chip *chip ) ;
#line 293
int sd_pass_thru_mode(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 294
int sd_execute_no_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 295
int sd_execute_read_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 296
int sd_execute_write_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 297
int sd_get_cmd_rsp(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 298
int sd_hw_rst(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 1013 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
int card_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 sec_addr , u16 sec_cnt ) ;
#line 1024
int check_card_exist(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1025
int check_card_ready(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1026
int check_card_wp(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1029
void eject_card(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1030
u8 get_lun_card(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1032 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static u32 get_card_size(struct rtsx_chip *chip , unsigned int lun ) 
{ 
  struct sd_info *sd_card ;
  u8 tmp ;

  {
#line 1035
  sd_card = & chip->sd_card;
#line 1037
  tmp = get_lun_card(chip, lun);
#line 1037
  if ((unsigned int )tmp == 4U && (int )((signed char )sd_card->sd_lock_status) < 0) {
#line 1039
    return (0U);
  } else {

  }
#line 1041
  return (chip->capacity[lun]);
}
}
#line 1059
int card_power_on(struct rtsx_chip *chip , u8 card ) ;
#line 207 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/ms.h"
int mspro_format(struct scsi_cmnd *srb , struct rtsx_chip *chip , int short_data_len ,
                 bool quick_format ) ;
#line 210
void ms_cleanup_work(struct rtsx_chip *chip ) ;
#line 218
int mg_set_leaf_id(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 219
int mg_get_local_EKB(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 220
int mg_chg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 221
int mg_get_rsp_chg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 222
int mg_rsp(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 223
int mg_get_ICV(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 224
int mg_set_ICV(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 52 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/spi.h"
int spi_erase_eeprom_chip(struct rtsx_chip *chip ) ;
#line 53
int spi_erase_eeprom_byte(struct rtsx_chip *chip , u16 addr ) ;
#line 54
int spi_read_eeprom(struct rtsx_chip *chip , u16 addr , u8 *val ) ;
#line 55
int spi_write_eeprom(struct rtsx_chip *chip , u16 addr , u8 val ) ;
#line 56
int spi_get_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 57
int spi_set_parameter(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 58
int spi_read_flash_id(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 59
int spi_read_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 60
int spi_write_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 61
int spi_erase_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 62
int spi_write_flash_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) ;
#line 33 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
void scsi_show_command(struct rtsx_chip *chip ) 
{ 
  struct scsi_cmnd *srb ;
  char *what ;
  bool unknown_cmd ;
  int len ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  unsigned short __min1 ;
  unsigned short __min2 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 35
  srb = chip->srb;
#line 36
  what = (char *)0;
#line 37
  unknown_cmd = 0;
#line 40
  switch ((int )*(srb->cmnd)) {
  case 0: 
#line 42
  what = (char *)"TEST_UNIT_READY";
#line 43
  goto ldv_38406;
  case 1: 
#line 45
  what = (char *)"REZERO_UNIT";
#line 46
  goto ldv_38406;
  case 3: 
#line 48
  what = (char *)"REQUEST_SENSE";
#line 49
  goto ldv_38406;
  case 4: 
#line 51
  what = (char *)"FORMAT_UNIT";
#line 52
  goto ldv_38406;
  case 5: 
#line 54
  what = (char *)"READ_BLOCK_LIMITS";
#line 55
  goto ldv_38406;
  case 7: 
#line 57
  what = (char *)"REASSIGN_BLOCKS";
#line 58
  goto ldv_38406;
  case 8: 
#line 60
  what = (char *)"READ_6";
#line 61
  goto ldv_38406;
  case 10: 
#line 63
  what = (char *)"WRITE_6";
#line 64
  goto ldv_38406;
  case 11: 
#line 66
  what = (char *)"SEEK_6";
#line 67
  goto ldv_38406;
  case 15: 
#line 69
  what = (char *)"READ_REVERSE";
#line 70
  goto ldv_38406;
  case 16: 
#line 72
  what = (char *)"WRITE_FILEMARKS";
#line 73
  goto ldv_38406;
  case 17: 
#line 75
  what = (char *)"SPACE";
#line 76
  goto ldv_38406;
  case 18: 
#line 78
  what = (char *)"INQUIRY";
#line 79
  goto ldv_38406;
  case 20: 
#line 81
  what = (char *)"RECOVER_BUFFERED_DATA";
#line 82
  goto ldv_38406;
  case 21: 
#line 84
  what = (char *)"MODE_SELECT";
#line 85
  goto ldv_38406;
  case 22: 
#line 87
  what = (char *)"RESERVE";
#line 88
  goto ldv_38406;
  case 23: 
#line 90
  what = (char *)"RELEASE";
#line 91
  goto ldv_38406;
  case 24: 
#line 93
  what = (char *)"COPY";
#line 94
  goto ldv_38406;
  case 25: 
#line 96
  what = (char *)"ERASE";
#line 97
  goto ldv_38406;
  case 26: 
#line 99
  what = (char *)"MODE_SENSE";
#line 100
  goto ldv_38406;
  case 27: 
#line 102
  what = (char *)"START_STOP";
#line 103
  goto ldv_38406;
  case 28: 
#line 105
  what = (char *)"RECEIVE_DIAGNOSTIC";
#line 106
  goto ldv_38406;
  case 29: 
#line 108
  what = (char *)"SEND_DIAGNOSTIC";
#line 109
  goto ldv_38406;
  case 30: 
#line 111
  what = (char *)"ALLOW_MEDIUM_REMOVAL";
#line 112
  goto ldv_38406;
  case 36: 
#line 114
  what = (char *)"SET_WINDOW";
#line 115
  goto ldv_38406;
  case 37: 
#line 117
  what = (char *)"READ_CAPACITY";
#line 118
  goto ldv_38406;
  case 40: 
#line 120
  what = (char *)"READ_10";
#line 121
  goto ldv_38406;
  case 42: 
#line 123
  what = (char *)"WRITE_10";
#line 124
  goto ldv_38406;
  case 43: 
#line 126
  what = (char *)"SEEK_10";
#line 127
  goto ldv_38406;
  case 46: 
#line 129
  what = (char *)"WRITE_VERIFY";
#line 130
  goto ldv_38406;
  case 47: 
#line 132
  what = (char *)"VERIFY";
#line 133
  goto ldv_38406;
  case 48: 
#line 135
  what = (char *)"SEARCH_HIGH";
#line 136
  goto ldv_38406;
  case 49: 
#line 138
  what = (char *)"SEARCH_EQUAL";
#line 139
  goto ldv_38406;
  case 50: 
#line 141
  what = (char *)"SEARCH_LOW";
#line 142
  goto ldv_38406;
  case 51: 
#line 144
  what = (char *)"SET_LIMITS";
#line 145
  goto ldv_38406;
  case 52: 
#line 147
  what = (char *)"READ_POSITION";
#line 148
  goto ldv_38406;
  case 53: 
#line 150
  what = (char *)"SYNCHRONIZE_CACHE";
#line 151
  goto ldv_38406;
  case 54: 
#line 153
  what = (char *)"LOCK_UNLOCK_CACHE";
#line 154
  goto ldv_38406;
  case 55: 
#line 156
  what = (char *)"READ_DEFECT_DATA";
#line 157
  goto ldv_38406;
  case 56: 
#line 159
  what = (char *)"MEDIUM_SCAN";
#line 160
  goto ldv_38406;
  case 57: 
#line 162
  what = (char *)"COMPARE";
#line 163
  goto ldv_38406;
  case 58: 
#line 165
  what = (char *)"COPY_VERIFY";
#line 166
  goto ldv_38406;
  case 59: 
#line 168
  what = (char *)"WRITE_BUFFER";
#line 169
  goto ldv_38406;
  case 60: 
#line 171
  what = (char *)"READ_BUFFER";
#line 172
  goto ldv_38406;
  case 61: 
#line 174
  what = (char *)"UPDATE_BLOCK";
#line 175
  goto ldv_38406;
  case 62: 
#line 177
  what = (char *)"READ_LONG";
#line 178
  goto ldv_38406;
  case 63: 
#line 180
  what = (char *)"WRITE_LONG";
#line 181
  goto ldv_38406;
  case 64: 
#line 183
  what = (char *)"CHANGE_DEFINITION";
#line 184
  goto ldv_38406;
  case 65: 
#line 186
  what = (char *)"WRITE_SAME";
#line 187
  goto ldv_38406;
  case 66: 
#line 189
  what = (char *)"READ SUBCHANNEL";
#line 190
  goto ldv_38406;
  case 67: 
#line 192
  what = (char *)"READ_TOC";
#line 193
  goto ldv_38406;
  case 68: 
#line 195
  what = (char *)"READ HEADER";
#line 196
  goto ldv_38406;
  case 69: 
#line 198
  what = (char *)"PLAY AUDIO (10)";
#line 199
  goto ldv_38406;
  case 71: 
#line 201
  what = (char *)"PLAY AUDIO MSF";
#line 202
  goto ldv_38406;
  case 74: 
#line 204
  what = (char *)"GET EVENT/STATUS NOTIFICATION";
#line 205
  goto ldv_38406;
  case 75: 
#line 207
  what = (char *)"PAUSE/RESUME";
#line 208
  goto ldv_38406;
  case 76: 
#line 210
  what = (char *)"LOG_SELECT";
#line 211
  goto ldv_38406;
  case 77: 
#line 213
  what = (char *)"LOG_SENSE";
#line 214
  goto ldv_38406;
  case 78: 
#line 216
  what = (char *)"STOP PLAY/SCAN";
#line 217
  goto ldv_38406;
  case 81: 
#line 219
  what = (char *)"READ DISC INFORMATION";
#line 220
  goto ldv_38406;
  case 82: 
#line 222
  what = (char *)"READ TRACK INFORMATION";
#line 223
  goto ldv_38406;
  case 83: 
#line 225
  what = (char *)"RESERVE TRACK";
#line 226
  goto ldv_38406;
  case 84: 
#line 228
  what = (char *)"SEND OPC";
#line 229
  goto ldv_38406;
  case 85: 
#line 231
  what = (char *)"MODE_SELECT_10";
#line 232
  goto ldv_38406;
  case 88: 
#line 234
  what = (char *)"REPAIR TRACK";
#line 235
  goto ldv_38406;
  case 89: 
#line 237
  what = (char *)"READ MASTER CUE";
#line 238
  goto ldv_38406;
  case 90: 
#line 240
  what = (char *)"MODE_SENSE_10";
#line 241
  goto ldv_38406;
  case 91: 
#line 243
  what = (char *)"CLOSE TRACK/SESSION";
#line 244
  goto ldv_38406;
  case 92: 
#line 246
  what = (char *)"READ BUFFER CAPACITY";
#line 247
  goto ldv_38406;
  case 93: 
#line 249
  what = (char *)"SEND CUE SHEET";
#line 250
  goto ldv_38406;
  case 161: 
#line 252
  what = (char *)"BLANK";
#line 253
  goto ldv_38406;
  case 160: 
#line 255
  what = (char *)"REPORT LUNS";
#line 256
  goto ldv_38406;
  case 165: 
#line 258
  what = (char *)"MOVE_MEDIUM or PLAY AUDIO (12)";
#line 259
  goto ldv_38406;
  case 168: 
#line 261
  what = (char *)"READ_12";
#line 262
  goto ldv_38406;
  case 170: 
#line 264
  what = (char *)"WRITE_12";
#line 265
  goto ldv_38406;
  case 174: 
#line 267
  what = (char *)"WRITE_VERIFY_12";
#line 268
  goto ldv_38406;
  case 176: 
#line 270
  what = (char *)"SEARCH_HIGH_12";
#line 271
  goto ldv_38406;
  case 177: 
#line 273
  what = (char *)"SEARCH_EQUAL_12";
#line 274
  goto ldv_38406;
  case 178: 
#line 276
  what = (char *)"SEARCH_LOW_12";
#line 277
  goto ldv_38406;
  case 182: 
#line 279
  what = (char *)"SEND_VOLUME_TAG";
#line 280
  goto ldv_38406;
  case 184: 
#line 282
  what = (char *)"READ_ELEMENT_STATUS";
#line 283
  goto ldv_38406;
  case 185: 
#line 285
  what = (char *)"READ CD MSF";
#line 286
  goto ldv_38406;
  case 186: 
#line 288
  what = (char *)"SCAN";
#line 289
  goto ldv_38406;
  case 187: 
#line 291
  what = (char *)"SET CD SPEED";
#line 292
  goto ldv_38406;
  case 189: 
#line 294
  what = (char *)"MECHANISM STATUS";
#line 295
  goto ldv_38406;
  case 190: 
#line 297
  what = (char *)"READ CD";
#line 298
  goto ldv_38406;
  case 225: 
#line 300
  what = (char *)"WRITE CONTINUE";
#line 301
  goto ldv_38406;
  case 234: 
#line 303
  what = (char *)"WRITE_LONG_2";
#line 304
  goto ldv_38406;
  case 240: 
#line 306
  what = (char *)"Realtek\'s vendor command";
#line 307
  goto ldv_38406;
  default: 
#line 309
  what = (char *)"(unknown command)";
#line 310
  unknown_cmd = 1;
#line 311
  goto ldv_38406;
  }
  ldv_38406: ;
#line 314
  if ((unsigned int )*(srb->cmnd) != 0U) {
#line 315
    descriptor.modname = "rts5208";
#line 315
    descriptor.function = "scsi_show_command";
#line 315
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 315
    descriptor.format = "Command %s (%d bytes)\n";
#line 315
    descriptor.lineno = 316U;
#line 315
    descriptor.flags = 0U;
#line 315
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 315
    if (tmp___0 != 0L) {
#line 315
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 315
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Command %s (%d bytes)\n",
                        what, (int )srb->cmd_len);
    } else {

    }
  } else {

  }
#line 318
  if ((int )unknown_cmd) {
#line 319
    __min1 = srb->cmd_len;
#line 319
    __min2 = 16U;
#line 319
    len = (int )__min1 < (int )__min2 ? (int )__min1 : (int )__min2;
#line 320
    descriptor___0.modname = "rts5208";
#line 320
    descriptor___0.function = "scsi_show_command";
#line 320
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 320
    descriptor___0.format = "%*ph\n";
#line 320
    descriptor___0.lineno = 320U;
#line 320
    descriptor___0.flags = 0U;
#line 320
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 320
    if (tmp___2 != 0L) {
#line 320
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 320
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "%*ph\n",
                        len, srb->cmnd);
    } else {

    }
  } else {

  }
#line 323
  return;
}
}
#line 324 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
void set_sense_type(struct rtsx_chip *chip , unsigned int lun , int sense_type ) 
{ 


  {
#line 326
  switch (sense_type) {
  case 1: 
#line 328
  set_sense_data(chip, lun, 112, 6, 0U, 40, 0, 0, 0);
#line 329
  goto ldv_38508;
  case 2: 
#line 332
  set_sense_data(chip, lun, 112, 2, 0U, 58, 0, 0, 0);
#line 333
  goto ldv_38508;
  case 3: 
#line 336
  set_sense_data(chip, lun, 112, 5, 0U, 33, 0, 0, 0);
#line 337
  goto ldv_38508;
  case 4: 
#line 340
  set_sense_data(chip, lun, 112, 5, 0U, 37, 0, 0, 0);
#line 341
  goto ldv_38508;
  case 5: 
#line 344
  set_sense_data(chip, lun, 112, 7, 0U, 39, 0, 0, 0);
#line 345
  goto ldv_38508;
  case 7: 
#line 348
  set_sense_data(chip, lun, 112, 3, 0U, 17, 0, 0, 0);
#line 349
  goto ldv_38508;
  case 8: 
#line 352
  set_sense_data(chip, lun, 112, 3, 0U, 12, 2, 0, 0);
#line 353
  goto ldv_38508;
  case 6: 
#line 356
  set_sense_data(chip, lun, 112, 5, 0U, 36, 0, 64, 1);
#line 358
  goto ldv_38508;
  case 9: 
#line 361
  set_sense_data(chip, lun, 112, 2, 0U, 4, 4, 0, 0);
#line 362
  goto ldv_38508;
  case 10: 
#line 365
  set_sense_data(chip, lun, 112, 3, 0U, 49, 1, 0, 0);
#line 366
  goto ldv_38508;
  case 11: 
#line 370
  set_sense_data(chip, lun, 112, 5, 0U, 111, 2, 0, 0);
#line 371
  goto ldv_38508;
  case 12: 
#line 374
  set_sense_data(chip, lun, 112, 5, 0U, 111, 0, 0, 0);
#line 375
  goto ldv_38508;
  case 13: 
#line 378
  set_sense_data(chip, lun, 112, 2, 0U, 48, 0, 0, 0);
#line 379
  goto ldv_38508;
  case 14: 
#line 382
  set_sense_data(chip, lun, 112, 3, 0U, 12, 0, 0, 0);
#line 383
  goto ldv_38508;
  case 16: 
#line 388
  set_sense_data(chip, lun, 112, 7, 0U, 17, 19, 0, 0);
#line 389
  goto ldv_38508;
  case 0: ;
  default: 
#line 394
  set_sense_data(chip, lun, 112, 0, 0U, 0, 0, 0, 0);
#line 395
  goto ldv_38508;
  }
  ldv_38508: ;
#line 398
  return;
}
}
#line 399 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
void set_sense_data(struct rtsx_chip *chip , unsigned int lun , u8 err_code , u8 sense_key ,
                    u32 info , u8 asc , u8 ascq , u8 sns_key_info0 , u16 sns_key_info1 ) 
{ 
  struct sense_data_t *sense ;

  {
#line 403
  sense = (struct sense_data_t *)(& chip->sense_buffer) + (unsigned long )lun;
#line 405
  sense->err_code = err_code;
#line 406
  sense->sense_key = sense_key;
#line 407
  sense->info[0] = (unsigned char )(info >> 24);
#line 408
  sense->info[1] = (unsigned char )(info >> 16);
#line 409
  sense->info[2] = (unsigned char )(info >> 8);
#line 410
  sense->info[3] = (unsigned char )info;
#line 412
  sense->ad_sense_len = 10U;
#line 413
  sense->asc = asc;
#line 414
  sense->ascq = ascq;
#line 415
  if ((unsigned int )sns_key_info0 != 0U) {
#line 416
    sense->sns_key_info[0] = (unsigned int )sns_key_info0 | 128U;
#line 417
    sense->sns_key_info[1] = 0U;
#line 418
    sense->sns_key_info[2] = (unsigned int )((unsigned char )sns_key_info1) & 15U;
  } else {

  }
#line 420
  return;
}
}
#line 422 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int test_unit_ready(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  int tmp ;
  struct sd_info *sd_card ;
  u8 tmp___0 ;

  {
#line 424
  lun = (unsigned int )(srb->device)->lun;
#line 426
  tmp = check_card_ready(chip, lun);
#line 426
  if (tmp == 0) {
#line 427
    set_sense_type(chip, lun, 2);
#line 428
    return (1);
  } else {

  }
#line 431
  if ((((int )chip->lun_mc >> (int )lun) & 1) == 0) {
#line 432
    chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) | (int )((signed char )(1 << (int )lun)));
#line 433
    set_sense_type(chip, lun, 1);
#line 434
    return (1);
  } else {

  }
#line 438
  tmp___0 = get_lun_card(chip, (unsigned int )(srb->device)->lun);
#line 438
  if ((unsigned int )tmp___0 == 4U) {
#line 439
    sd_card = & chip->sd_card;
#line 441
    if ((unsigned int )sd_card->sd_lock_notify != 0U) {
#line 442
      sd_card->sd_lock_notify = 0U;
#line 443
      set_sense_type(chip, lun, 1);
#line 444
      return (1);
    } else
#line 445
    if ((int )((signed char )sd_card->sd_lock_status) < 0) {
#line 446
      set_sense_type(chip, lun, 16);
#line 448
      return (1);
    } else {

    }
  } else {

  }
#line 453
  return (0);
}
}
#line 456 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static unsigned char formatter_inquiry_str[20U]  = 
#line 456
  {      77U,      69U,      77U,      79U, 
        82U,      89U,      83U,      84U, 
        73U,      67U,      75U,      45U, 
        77U,      71U,      11U,      0U, 
        0U,      32U,      32U,      32U};
#line 474 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int inquiry(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  char *inquiry_default ;
  char *inquiry_sdms ;
  char *inquiry_sd ;
  char *inquiry_ms ;
  char *inquiry_string ;
  unsigned char sendbytes ;
  unsigned char *buf ;
  u8 card ;
  u8 tmp ;
  bool pro_formatter_flag ;
  unsigned char inquiry_buf[8U] ;
  unsigned int tmp___0 ;
  void *tmp___1 ;
  unsigned int tmp___2 ;
  unsigned int tmp___3 ;
  unsigned int tmp___4 ;
  unsigned int tmp___5 ;
  unsigned int tmp___6 ;

  {
#line 476
  lun = (unsigned int )(srb->device)->lun;
#line 477
  inquiry_default = (char *)"Generic-xD/SD/M.S.      1.00 ";
#line 478
  inquiry_sdms = (char *)"Generic-SD/MemoryStick  1.00 ";
#line 479
  inquiry_sd = (char *)"Generic-SD/MMC          1.00 ";
#line 480
  inquiry_ms = (char *)"Generic-MemoryStick     1.00 ";
#line 484
  tmp = get_lun_card(chip, lun);
#line 484
  card = tmp;
#line 485
  pro_formatter_flag = 0;
#line 486
  inquiry_buf[0] = 0U;
#line 486
  inquiry_buf[1] = 141U;
#line 486
  inquiry_buf[2] = 0U;
#line 486
  inquiry_buf[3] = 1U;
#line 486
  inquiry_buf[4] = 31U;
#line 486
  inquiry_buf[5] = 2U;
#line 486
  inquiry_buf[6] = 0U;
#line 486
  inquiry_buf[7] = 0U;
#line 497
  if ((unsigned int )chip->lun_mode == 1U) {
#line 498
    if ((unsigned int )chip->lun2card[lun] == 4U) {
#line 499
      inquiry_string = inquiry_sd;
    } else {
#line 501
      inquiry_string = inquiry_ms;
    }
  } else
#line 503
  if ((unsigned int )chip->lun_mode == 2U) {
#line 504
    inquiry_string = inquiry_sdms;
  } else {
#line 506
    inquiry_string = inquiry_default;
  }
#line 509
  tmp___0 = scsi_bufflen(srb);
#line 509
  tmp___1 = vmalloc((unsigned long )tmp___0);
#line 509
  buf = (unsigned char *)tmp___1;
#line 510
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 511
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "inquiry", 511);
#line 512
    return (3);
  } else {

  }
#line 516
  if (chip->mspro_formatter_enable != 0 && ((int )chip->lun2card[lun] & 8) != 0) {
#line 521
    if ((unsigned int )card == 0U || (unsigned int )card == 8U) {
#line 522
      pro_formatter_flag = 1;
    } else {

    }
  } else {

  }
#line 524
  if ((int )pro_formatter_flag) {
#line 525
    tmp___3 = scsi_bufflen(srb);
#line 525
    if (tmp___3 <= 55U) {
#line 526
      tmp___2 = scsi_bufflen(srb);
#line 526
      sendbytes = (unsigned char )tmp___2;
    } else {
#line 528
      sendbytes = 56U;
    }
  } else {
#line 531
    tmp___5 = scsi_bufflen(srb);
#line 531
    if (tmp___5 <= 35U) {
#line 532
      tmp___4 = scsi_bufflen(srb);
#line 532
      sendbytes = (unsigned char )tmp___4;
    } else {
#line 534
      sendbytes = 36U;
    }
  }
#line 537
  if ((unsigned int )sendbytes > 8U) {
#line 538
    memcpy((void *)buf, (void const   *)(& inquiry_buf), 8UL);
#line 539
    memcpy((void *)buf + 8U, (void const   *)inquiry_string, (size_t )((int )sendbytes + -8));
#line 540
    if ((int )pro_formatter_flag) {
#line 542
      *(buf + 4UL) = 51U;
    } else {

    }
  } else {
#line 545
    memcpy((void *)buf, (void const   *)(& inquiry_buf), (size_t )sendbytes);
  }
#line 548
  if ((int )pro_formatter_flag) {
#line 549
    if ((unsigned int )sendbytes > 36U) {
#line 550
      memcpy((void *)buf + 36U, (void const   *)(& formatter_inquiry_str), (size_t )((int )sendbytes + -36));
    } else {

    }
  } else {

  }
#line 553
  scsi_set_resid(srb, 0);
#line 555
  tmp___6 = scsi_bufflen(srb);
#line 555
  rtsx_stor_set_xfer_buf(buf, tmp___6, srb);
#line 556
  vfree((void const   *)buf);
#line 558
  return (0);
}
}
#line 562 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int start_stop_unit(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  unsigned int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 564
  lun = (unsigned int )(srb->device)->lun;
#line 566
  tmp = scsi_bufflen(srb);
#line 566
  scsi_set_resid(srb, (int )tmp);
#line 568
  if ((unsigned int )*(srb->cmnd + 1UL) == 1U) {
#line 569
    return (0);
  } else {

  }
#line 571
  switch ((int )*(srb->cmnd + 4UL)) {
  case 0: ;
#line 574
  return (0);
  case 2: 
#line 578
  tmp___0 = check_card_ready(chip, lun);
#line 578
  if (tmp___0 != 0) {
#line 579
    eject_card(chip, lun);
  } else {

  }
#line 580
  return (0);
  case 1: ;
  case 3: 
#line 584
  tmp___1 = check_card_ready(chip, lun);
#line 584
  if (tmp___1 != 0) {
#line 585
    return (0);
  } else {

  }
#line 586
  set_sense_type(chip, lun, 2);
#line 587
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "start_stop_unit", 587);
#line 588
  return (1);
  }
#line 593
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "start_stop_unit", 593);
#line 594
  return (3);
}
}
#line 598 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int allow_medium_removal(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int prevent ;

  {
#line 602
  prevent = (int )*(srb->cmnd + 4UL) & 1;
#line 604
  scsi_set_resid(srb, 0);
#line 606
  if (prevent != 0) {
#line 607
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 609
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "allow_medium_removal", 609);
#line 610
    return (1);
  } else {

  }
#line 613
  return (0);
}
}
#line 617 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int request_sense(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sense_data_t *sense ;
  unsigned int lun ;
  struct ms_info *ms_card ;
  unsigned char *tmp ;
  unsigned char *buf ;
  u8 tmp___0 ;
  unsigned int tmp___1 ;
  void *tmp___2 ;
  unsigned int tmp___3 ;
  unsigned int tmp___4 ;

  {
#line 620
  lun = (unsigned int )(srb->device)->lun;
#line 621
  ms_card = & chip->ms_card;
#line 624
  sense = (struct sense_data_t *)(& chip->sense_buffer) + (unsigned long )lun;
#line 626
  tmp___0 = get_lun_card(chip, lun);
#line 626
  if ((unsigned int )tmp___0 == 8U && ms_card->pro_under_formatting != 0) {
#line 628
    if (ms_card->format_status == 0) {
#line 629
      set_sense_type(chip, lun, 0);
#line 630
      ms_card->pro_under_formatting = 0;
#line 631
      ms_card->progress = 0U;
    } else
#line 632
    if (ms_card->format_status == 2) {
#line 634
      set_sense_data(chip, lun, 112, 2, 0U, 4, 4, 0, (int )ms_card->progress);
    } else {
#line 638
      set_sense_type(chip, lun, 10);
#line 639
      ms_card->pro_under_formatting = 0;
#line 640
      ms_card->progress = 0U;
    }
#line 643
    chip->idle_counter = 0;
#line 643
    chip->rtsx_stat = 2;
  } else {

  }
#line 646
  tmp___1 = scsi_bufflen(srb);
#line 646
  tmp___2 = vmalloc((unsigned long )tmp___1);
#line 646
  buf = (unsigned char *)tmp___2;
#line 647
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 648
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "request_sense", 648);
#line 649
    return (3);
  } else {

  }
#line 652
  tmp = (unsigned char *)sense;
#line 653
  tmp___3 = scsi_bufflen(srb);
#line 653
  memcpy((void *)buf, (void const   *)tmp, (size_t )tmp___3);
#line 655
  tmp___4 = scsi_bufflen(srb);
#line 655
  rtsx_stor_set_xfer_buf(buf, tmp___4, srb);
#line 656
  vfree((void const   *)buf);
#line 658
  scsi_set_resid(srb, 0);
#line 660
  set_sense_type(chip, lun, 0);
#line 661
  return (0);
}
}
#line 664 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static void ms_mode_sense(struct rtsx_chip *chip , u8 cmd , int lun , u8 *buf , int buf_len ) 
{ 
  struct ms_info *ms_card ;
  int sys_info_offset ;
  int data_size ;
  bool support_format ;
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  int len ;

  {
#line 667
  ms_card = & chip->ms_card;
#line 669
  data_size = buf_len;
#line 670
  support_format = 0;
#line 671
  i = 0;
#line 673
  if ((unsigned int )cmd == 26U) {
#line 674
    sys_info_offset = 8;
#line 675
    if (data_size > 104) {
#line 676
      data_size = 104;
    } else {

    }
#line 678
    tmp = i;
#line 678
    i = i + 1;
#line 678
    *(buf + (unsigned long )tmp) = 103U;
  } else {
#line 680
    sys_info_offset = 12;
#line 681
    if (data_size > 108) {
#line 682
      data_size = 108;
    } else {

    }
#line 684
    tmp___0 = i;
#line 684
    i = i + 1;
#line 684
    *(buf + (unsigned long )tmp___0) = 0U;
#line 685
    tmp___1 = i;
#line 685
    i = i + 1;
#line 685
    *(buf + (unsigned long )tmp___1) = 106U;
  }
#line 689
  tmp___10 = check_card_ready(chip, (unsigned int )lun);
#line 689
  if (tmp___10 != 0) {
#line 690
    if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 691
      support_format = 1;
#line 692
      tmp___2 = i;
#line 692
      i = i + 1;
#line 692
      *(buf + (unsigned long )tmp___2) = 64U;
    } else
#line 693
    if (((int )ms_card->ms_type & 255) == 1) {
#line 694
      support_format = 1;
#line 695
      tmp___3 = i;
#line 695
      i = i + 1;
#line 695
      *(buf + (unsigned long )tmp___3) = 32U;
    } else {
#line 697
      tmp___4 = i;
#line 697
      i = i + 1;
#line 697
      *(buf + (unsigned long )tmp___4) = 16U;
    }
#line 701
    tmp___7 = check_card_wp(chip, (unsigned int )lun);
#line 701
    if (tmp___7 != 0) {
#line 702
      tmp___5 = i;
#line 702
      i = i + 1;
#line 702
      *(buf + (unsigned long )tmp___5) = 128U;
    } else {
#line 704
      tmp___6 = i;
#line 704
      i = i + 1;
#line 704
      *(buf + (unsigned long )tmp___6) = 0U;
    }
  } else {
#line 707
    tmp___8 = i;
#line 707
    i = i + 1;
#line 707
    *(buf + (unsigned long )tmp___8) = 0U;
#line 708
    tmp___9 = i;
#line 708
    i = i + 1;
#line 708
    *(buf + (unsigned long )tmp___9) = 0U;
  }
#line 711
  tmp___11 = i;
#line 711
  i = i + 1;
#line 711
  *(buf + (unsigned long )tmp___11) = 0U;
#line 713
  if ((unsigned int )cmd == 90U) {
#line 714
    tmp___12 = i;
#line 714
    i = i + 1;
#line 714
    *(buf + (unsigned long )tmp___12) = 0U;
#line 715
    tmp___13 = i;
#line 715
    i = i + 1;
#line 715
    *(buf + (unsigned long )tmp___13) = 0U;
#line 716
    tmp___14 = i;
#line 716
    i = i + 1;
#line 716
    *(buf + (unsigned long )tmp___14) = 0U;
#line 719
    if (data_size > 8) {
#line 720
      tmp___15 = i;
#line 720
      i = i + 1;
#line 720
      *(buf + (unsigned long )tmp___15) = 32U;
    } else {

    }
#line 721
    if (data_size > 9) {
#line 722
      tmp___16 = i;
#line 722
      i = i + 1;
#line 722
      *(buf + (unsigned long )tmp___16) = 98U;
    } else {

    }
#line 723
    if (data_size > 10) {
#line 724
      tmp___17 = i;
#line 724
      i = i + 1;
#line 724
      *(buf + (unsigned long )tmp___17) = 0U;
    } else {

    }
#line 725
    if (data_size > 11) {
#line 726
      if ((int )support_format) {
#line 727
        tmp___18 = i;
#line 727
        i = i + 1;
#line 727
        *(buf + (unsigned long )tmp___18) = 192U;
      } else {
#line 729
        tmp___19 = i;
#line 729
        i = i + 1;
#line 729
        *(buf + (unsigned long )tmp___19) = 0U;
      }
    } else {

    }
  } else {
#line 733
    if (data_size > 4) {
#line 734
      tmp___20 = i;
#line 734
      i = i + 1;
#line 734
      *(buf + (unsigned long )tmp___20) = 32U;
    } else {

    }
#line 735
    if (data_size > 5) {
#line 736
      tmp___21 = i;
#line 736
      i = i + 1;
#line 736
      *(buf + (unsigned long )tmp___21) = 98U;
    } else {

    }
#line 737
    if (data_size > 6) {
#line 738
      tmp___22 = i;
#line 738
      i = i + 1;
#line 738
      *(buf + (unsigned long )tmp___22) = 0U;
    } else {

    }
#line 739
    if (data_size > 7) {
#line 740
      if ((int )support_format) {
#line 741
        tmp___23 = i;
#line 741
        i = i + 1;
#line 741
        *(buf + (unsigned long )tmp___23) = 192U;
      } else {
#line 743
        tmp___24 = i;
#line 743
        i = i + 1;
#line 743
        *(buf + (unsigned long )tmp___24) = 0U;
      }
    } else {

    }
  }
#line 747
  if (data_size > sys_info_offset) {
#line 749
    len = data_size - sys_info_offset;
#line 751
    len = 96 < len ? 96 : len;
#line 753
    memcpy((void *)buf + (unsigned long )sys_info_offset, (void const   *)(& ms_card->raw_sys_info),
             (size_t )len);
  } else {

  }
#line 755
  return;
}
}
#line 757 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int mode_sense(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  unsigned int dataSize ;
  int status ;
  bool pro_formatter_flag ;
  unsigned char pageCode ;
  unsigned char *buf ;
  u8 card ;
  u8 tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned int tmp___3 ;
  unsigned int len ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  unsigned int tmp___5 ;

  {
#line 759
  lun = (unsigned int )(srb->device)->lun;
#line 764
  tmp = get_lun_card(chip, lun);
#line 764
  card = tmp;
#line 775
  pro_formatter_flag = 0;
#line 776
  dataSize = 8U;
#line 778
  if (((int )chip->lun2card[lun] & 8) != 0) {
#line 779
    if ((unsigned int )card == 0U || (unsigned int )card == 8U) {
#line 780
      dataSize = 108U;
#line 781
      if (chip->mspro_formatter_enable != 0) {
#line 782
        pro_formatter_flag = 1;
      } else {

      }
    } else {

    }
  } else {

  }
#line 794
  tmp___0 = kmalloc((size_t )dataSize, 208U);
#line 794
  buf = (unsigned char *)tmp___0;
#line 795
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 796
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mode_sense", 796);
#line 797
    return (3);
  } else {

  }
#line 800
  pageCode = (unsigned int )*(srb->cmnd + 2UL) & 63U;
#line 802
  if ((((unsigned int )pageCode == 63U || (unsigned int )pageCode == 28U) || (unsigned int )pageCode == 0U) || ((int )pro_formatter_flag && (unsigned int )pageCode == 32U)) {
#line 805
    if ((unsigned int )*(srb->cmnd) == 26U) {
#line 806
      if ((unsigned int )pageCode == 63U || (unsigned int )pageCode == 32U) {
#line 807
        ms_mode_sense(chip, (int )*(srb->cmnd), (int )lun, buf, (int )dataSize);
      } else {
#line 810
        dataSize = 4U;
#line 811
        *buf = 3U;
#line 812
        *(buf + 1UL) = 0U;
#line 813
        tmp___1 = check_card_wp(chip, lun);
#line 813
        if (tmp___1 != 0) {
#line 814
          *(buf + 2UL) = 128U;
        } else {
#line 816
          *(buf + 2UL) = 0U;
        }
#line 818
        *(buf + 3UL) = 0U;
      }
    } else
#line 821
    if ((unsigned int )pageCode == 63U || (unsigned int )pageCode == 32U) {
#line 822
      ms_mode_sense(chip, (int )*(srb->cmnd), (int )lun, buf, (int )dataSize);
    } else {
#line 825
      dataSize = 8U;
#line 826
      *buf = 0U;
#line 827
      *(buf + 1UL) = 6U;
#line 828
      *(buf + 2UL) = 0U;
#line 829
      tmp___2 = check_card_wp(chip, lun);
#line 829
      if (tmp___2 != 0) {
#line 830
        *(buf + 3UL) = 128U;
      } else {
#line 832
        *(buf + 3UL) = 0U;
      }
#line 833
      *(buf + 4UL) = 0U;
#line 834
      *(buf + 5UL) = 0U;
#line 835
      *(buf + 6UL) = 0U;
#line 836
      *(buf + 7UL) = 0U;
    }
#line 839
    status = 0;
  } else {
#line 841
    set_sense_type(chip, lun, 6);
#line 842
    tmp___3 = scsi_bufflen(srb);
#line 842
    scsi_set_resid(srb, (int )tmp___3);
#line 843
    status = 1;
  }
#line 846
  if (status == 0) {
#line 847
    tmp___4 = scsi_bufflen(srb);
#line 847
    __min1 = tmp___4;
#line 847
    __min2 = dataSize;
#line 847
    len = __min1 < __min2 ? __min1 : __min2;
#line 849
    rtsx_stor_set_xfer_buf(buf, len, srb);
#line 850
    tmp___5 = scsi_bufflen(srb);
#line 850
    scsi_set_resid(srb, (int )(tmp___5 - len));
  } else {

  }
#line 852
  kfree((void const   *)buf);
#line 854
  return (status);
}
}
#line 857 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_write(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int retval ;
  u32 start_sec ;
  u16 sec_cnt ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  int tmp___4 ;
  u32 tmp___5 ;
  struct _ddebug descriptor ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  u8 tmp___10 ;
  u32 tmp___11 ;
  u32 tmp___12 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___13 ;
  long tmp___14 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___15 ;
  long tmp___16 ;
  int tmp___17 ;

  {
#line 860
  sd_card = & chip->sd_card;
#line 862
  lun = (unsigned int )(srb->device)->lun;
#line 867
  rtsx_disable_aspm(chip);
#line 869
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 870
    rtsx_exit_ss(chip);
#line 871
    tmp = get_current();
#line 871
    tmp->task_state_change = 0UL;
#line 871
    __ret = 1L;
#line 871
    switch (8UL) {
    case 1UL: 
#line 871
    tmp___0 = get_current();
#line 871
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 871
    goto ldv_38626;
    case 2UL: 
#line 871
    tmp___1 = get_current();
#line 871
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 871
    goto ldv_38626;
    case 4UL: 
#line 871
    tmp___2 = get_current();
#line 871
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 871
    goto ldv_38626;
    case 8UL: 
#line 871
    tmp___3 = get_current();
#line 871
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 871
    goto ldv_38626;
    default: 
#line 871
    __xchg_wrong_size();
    }
    ldv_38626: 
#line 871
    schedule_timeout(25L);
  } else {

  }
#line 873
  chip->idle_counter = 0;
#line 873
  chip->rtsx_stat = 2;
#line 875
  tmp___4 = check_card_ready(chip, lun);
#line 875
  if (tmp___4 == 0) {
#line 876
    set_sense_type(chip, lun, 2);
#line 877
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 877);
#line 878
    return (1);
  } else {
#line 875
    tmp___5 = get_card_size(chip, lun);
#line 875
    if (tmp___5 == 0U) {
#line 876
      set_sense_type(chip, lun, 2);
#line 877
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_write", 877);
#line 878
      return (1);
    } else {

    }
  }
#line 881
  if ((((int )chip->lun_mc >> (int )lun) & 1) == 0) {
#line 882
    chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) | (int )((signed char )(1 << (int )lun)));
#line 883
    set_sense_type(chip, lun, 1);
#line 884
    return (1);
  } else {

  }
#line 888
  if ((unsigned int )sd_card->sd_erase_status != 0U) {
#line 892
    descriptor.modname = "rts5208";
#line 892
    descriptor.function = "read_write";
#line 892
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 892
    descriptor.format = "SD card being erased!\n";
#line 892
    descriptor.lineno = 892U;
#line 892
    descriptor.flags = 0U;
#line 892
    tmp___7 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 892
    if (tmp___7 != 0L) {
#line 892
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 892
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___6, "SD card being erased!\n");
    } else {

    }
#line 893
    set_sense_type(chip, lun, 16);
#line 894
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 894);
#line 895
    return (1);
  } else {

  }
#line 898
  tmp___10 = get_lun_card(chip, lun);
#line 898
  if ((unsigned int )tmp___10 == 4U) {
#line 899
    if ((int )((signed char )sd_card->sd_lock_status) < 0) {
#line 900
      descriptor___0.modname = "rts5208";
#line 900
      descriptor___0.function = "read_write";
#line 900
      descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 900
      descriptor___0.format = "SD card locked!\n";
#line 900
      descriptor___0.lineno = 900U;
#line 900
      descriptor___0.flags = 0U;
#line 900
      tmp___9 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 900
      if (tmp___9 != 0L) {
#line 900
        tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 900
        __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___8, "SD card locked!\n");
      } else {

      }
#line 901
      set_sense_type(chip, lun, 16);
#line 903
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_write", 903);
#line 904
      return (1);
    } else {

    }
  } else {

  }
#line 909
  if ((unsigned int )*(srb->cmnd) == 40U || (unsigned int )*(srb->cmnd) == 42U) {
#line 910
    start_sec = ((((unsigned int )*(srb->cmnd + 2UL) << 24) | ((unsigned int )*(srb->cmnd + 3UL) << 16)) | ((unsigned int )*(srb->cmnd + 4UL) << 8)) | (unsigned int )*(srb->cmnd + 5UL);
#line 913
    sec_cnt = (u16 )((int )((short )((int )*(srb->cmnd + 7UL) << 8)) | (int )((short )*(srb->cmnd + 8UL)));
  } else
#line 914
  if ((unsigned int )*(srb->cmnd) == 8U || (unsigned int )*(srb->cmnd) == 10U) {
#line 915
    start_sec = ((((unsigned int )*(srb->cmnd + 1UL) & 31U) << 16) | ((unsigned int )*(srb->cmnd + 2UL) << 8)) | (unsigned int )*(srb->cmnd + 3UL);
#line 917
    sec_cnt = (u16 )*(srb->cmnd + 4UL);
#line 918
    if ((unsigned int )sec_cnt == 0U) {
#line 919
      sec_cnt = 256U;
    } else {

    }
  } else
#line 920
  if (((unsigned int )*(srb->cmnd) == 240U && (unsigned int )*(srb->cmnd + 1UL) == 16U) && ((unsigned int )*(srb->cmnd + 2UL) == 26U || (unsigned int )*(srb->cmnd + 2UL) == 10U)) {
#line 923
    start_sec = ((((unsigned int )*(srb->cmnd + 4UL) << 24) | ((unsigned int )*(srb->cmnd + 5UL) << 16)) | ((unsigned int )*(srb->cmnd + 6UL) << 8)) | (unsigned int )*(srb->cmnd + 7UL);
#line 926
    sec_cnt = (u16 )((int )((short )((int )*(srb->cmnd + 9UL) << 8)) | (int )((short )*(srb->cmnd + 10UL)));
  } else {
#line 928
    set_sense_type(chip, lun, 6);
#line 929
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 929);
#line 930
    return (1);
  }
#line 937
  tmp___11 = get_card_size(chip, lun);
#line 937
  if (tmp___11 < start_sec) {
#line 939
    set_sense_type(chip, lun, 3);
#line 940
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 940);
#line 941
    return (1);
  } else {
#line 937
    tmp___12 = get_card_size(chip, lun);
#line 937
    if ((u32 )sec_cnt + start_sec > tmp___12) {
#line 939
      set_sense_type(chip, lun, 3);
#line 940
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_write", 940);
#line 941
      return (1);
    } else {

    }
  }
#line 944
  if ((unsigned int )sec_cnt == 0U) {
#line 945
    scsi_set_resid(srb, 0);
#line 946
    return (0);
  } else {

  }
#line 949
  if (chip->rw_fail_cnt[lun] == 3) {
#line 950
    descriptor___1.modname = "rts5208";
#line 950
    descriptor___1.function = "read_write";
#line 950
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 950
    descriptor___1.format = "read/write fail three times in succession\n";
#line 950
    descriptor___1.lineno = 950U;
#line 950
    descriptor___1.flags = 0U;
#line 950
    tmp___14 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 950
    if (tmp___14 != 0L) {
#line 950
      tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 950
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___13, "read/write fail three times in succession\n");
    } else {

    }
#line 951
    if ((unsigned int )srb->sc_data_direction == 2U) {
#line 952
      set_sense_type(chip, lun, 7);
    } else {
#line 955
      set_sense_type(chip, lun, 8);
    }
#line 957
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 957);
#line 958
    return (1);
  } else {

  }
#line 961
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 962
    tmp___17 = check_card_wp(chip, lun);
#line 962
    if (tmp___17 != 0) {
#line 963
      descriptor___2.modname = "rts5208";
#line 963
      descriptor___2.function = "read_write";
#line 963
      descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 963
      descriptor___2.format = "Write protected card!\n";
#line 963
      descriptor___2.lineno = 963U;
#line 963
      descriptor___2.flags = 0U;
#line 963
      tmp___16 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 963
      if (tmp___16 != 0L) {
#line 963
        tmp___15 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 963
        __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___15, "Write protected card!\n");
      } else {

      }
#line 964
      set_sense_type(chip, lun, 5);
#line 966
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_write", 966);
#line 967
      return (1);
    } else {

    }
  } else {

  }
#line 971
  retval = card_rw(srb, chip, start_sec, (int )sec_cnt);
#line 972
  if (retval != 0) {
#line 973
    if ((chip->need_release & (unsigned long )chip->lun2card[lun]) != 0UL) {
#line 974
      chip->rw_fail_cnt[lun] = 0;
#line 975
      set_sense_type(chip, lun, 2);
    } else {
#line 977
      chip->rw_fail_cnt[lun] = chip->rw_fail_cnt[lun] + 1;
#line 978
      if ((unsigned int )srb->sc_data_direction == 2U) {
#line 979
        set_sense_type(chip, lun, 7);
      } else {
#line 982
        set_sense_type(chip, lun, 8);
      }
    }
#line 985
    retval = 1;
#line 986
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_write", 986);
#line 987
    goto Exit;
  } else {
#line 989
    chip->rw_fail_cnt[lun] = 0;
#line 990
    retval = 0;
  }
#line 993
  scsi_set_resid(srb, 0);
  Exit: ;
#line 996
  return (retval);
}
}
#line 999 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_format_capacity(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned char *buf ;
  unsigned int lun ;
  unsigned int buf_len ;
  u8 card ;
  u8 tmp ;
  u32 card_size ;
  int desc_cnt ;
  int i ;
  int tmp___0 ;
  unsigned int tmp___1 ;
  void *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  unsigned int __min1 ;
  unsigned int tmp___24 ;
  unsigned int __min2 ;
  unsigned int tmp___25 ;

  {
#line 1002
  lun = (unsigned int )(srb->device)->lun;
#line 1004
  tmp = get_lun_card(chip, lun);
#line 1004
  card = tmp;
#line 1007
  i = 0;
#line 1009
  tmp___0 = check_card_ready(chip, lun);
#line 1009
  if (tmp___0 == 0) {
#line 1010
    if (chip->mspro_formatter_enable == 0) {
#line 1011
      set_sense_type(chip, lun, 2);
#line 1012
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_format_capacity", 1012);
#line 1013
      return (1);
    } else {

    }
  } else {

  }
#line 1017
  tmp___1 = scsi_bufflen(srb);
#line 1017
  buf_len = tmp___1 > 12U ? 20U : 12U;
#line 1019
  tmp___2 = kmalloc((size_t )buf_len, 208U);
#line 1019
  buf = (unsigned char *)tmp___2;
#line 1020
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 1021
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_format_capacity", 1021);
#line 1022
    return (3);
  } else {

  }
#line 1025
  tmp___3 = i;
#line 1025
  i = i + 1;
#line 1025
  *(buf + (unsigned long )tmp___3) = 0U;
#line 1026
  tmp___4 = i;
#line 1026
  i = i + 1;
#line 1026
  *(buf + (unsigned long )tmp___4) = 0U;
#line 1027
  tmp___5 = i;
#line 1027
  i = i + 1;
#line 1027
  *(buf + (unsigned long )tmp___5) = 0U;
#line 1030
  if (((buf_len > 12U && chip->mspro_formatter_enable != 0) && ((int )chip->lun2card[lun] & 8) != 0) && ((unsigned int )card == 0U || (unsigned int )card == 8U)) {
#line 1033
    tmp___6 = i;
#line 1033
    i = i + 1;
#line 1033
    *(buf + (unsigned long )tmp___6) = 16U;
#line 1034
    desc_cnt = 2;
  } else {
#line 1036
    tmp___7 = i;
#line 1036
    i = i + 1;
#line 1036
    *(buf + (unsigned long )tmp___7) = 8U;
#line 1037
    desc_cnt = 1;
  }
#line 1040
  goto ldv_38651;
  ldv_38650: 
#line 1041
  tmp___20 = check_card_ready(chip, lun);
#line 1041
  if (tmp___20 != 0) {
#line 1042
    card_size = get_card_size(chip, lun);
#line 1043
    tmp___8 = i;
#line 1043
    i = i + 1;
#line 1043
    *(buf + (unsigned long )tmp___8) = (unsigned char )(card_size >> 24);
#line 1044
    tmp___9 = i;
#line 1044
    i = i + 1;
#line 1044
    *(buf + (unsigned long )tmp___9) = (unsigned char )(card_size >> 16);
#line 1045
    tmp___10 = i;
#line 1045
    i = i + 1;
#line 1045
    *(buf + (unsigned long )tmp___10) = (unsigned char )(card_size >> 8);
#line 1046
    tmp___11 = i;
#line 1046
    i = i + 1;
#line 1046
    *(buf + (unsigned long )tmp___11) = (unsigned char )card_size;
#line 1048
    if (desc_cnt == 2) {
#line 1049
      tmp___12 = i;
#line 1049
      i = i + 1;
#line 1049
      *(buf + (unsigned long )tmp___12) = 2U;
    } else {
#line 1051
      tmp___13 = i;
#line 1051
      i = i + 1;
#line 1051
      *(buf + (unsigned long )tmp___13) = 0U;
    }
  } else {
#line 1053
    tmp___14 = i;
#line 1053
    i = i + 1;
#line 1053
    *(buf + (unsigned long )tmp___14) = 255U;
#line 1054
    tmp___15 = i;
#line 1054
    i = i + 1;
#line 1054
    *(buf + (unsigned long )tmp___15) = 255U;
#line 1055
    tmp___16 = i;
#line 1055
    i = i + 1;
#line 1055
    *(buf + (unsigned long )tmp___16) = 255U;
#line 1056
    tmp___17 = i;
#line 1056
    i = i + 1;
#line 1056
    *(buf + (unsigned long )tmp___17) = 255U;
#line 1058
    if (desc_cnt == 2) {
#line 1059
      tmp___18 = i;
#line 1059
      i = i + 1;
#line 1059
      *(buf + (unsigned long )tmp___18) = 3U;
    } else {
#line 1061
      tmp___19 = i;
#line 1061
      i = i + 1;
#line 1061
      *(buf + (unsigned long )tmp___19) = 0U;
    }
  }
#line 1064
  tmp___21 = i;
#line 1064
  i = i + 1;
#line 1064
  *(buf + (unsigned long )tmp___21) = 0U;
#line 1065
  tmp___22 = i;
#line 1065
  i = i + 1;
#line 1065
  *(buf + (unsigned long )tmp___22) = 2U;
#line 1066
  tmp___23 = i;
#line 1066
  i = i + 1;
#line 1066
  *(buf + (unsigned long )tmp___23) = 0U;
#line 1068
  desc_cnt = desc_cnt - 1;
  ldv_38651: ;
#line 1040
  if (desc_cnt != 0) {
#line 1042
    goto ldv_38650;
  } else {

  }
#line 1071
  tmp___24 = scsi_bufflen(srb);
#line 1071
  __min1 = tmp___24;
#line 1071
  __min2 = buf_len;
#line 1071
  buf_len = __min1 < __min2 ? __min1 : __min2;
#line 1072
  rtsx_stor_set_xfer_buf(buf, buf_len, srb);
#line 1073
  kfree((void const   *)buf);
#line 1075
  tmp___25 = scsi_bufflen(srb);
#line 1075
  scsi_set_resid(srb, (int )(tmp___25 - buf_len));
#line 1077
  return (0);
}
}
#line 1080 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_capacity(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned char *buf ;
  unsigned int lun ;
  u32 card_size ;
  int tmp ;
  void *tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 1083
  lun = (unsigned int )(srb->device)->lun;
#line 1086
  tmp = check_card_ready(chip, lun);
#line 1086
  if (tmp == 0) {
#line 1087
    set_sense_type(chip, lun, 2);
#line 1088
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_capacity", 1088);
#line 1089
    return (1);
  } else {

  }
#line 1092
  if ((((int )chip->lun_mc >> (int )lun) & 1) == 0) {
#line 1093
    chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) | (int )((signed char )(1 << (int )lun)));
#line 1094
    set_sense_type(chip, lun, 1);
#line 1095
    return (1);
  } else {

  }
#line 1098
  tmp___0 = kmalloc(8UL, 208U);
#line 1098
  buf = (unsigned char *)tmp___0;
#line 1099
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 1100
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_capacity", 1100);
#line 1101
    return (3);
  } else {

  }
#line 1104
  card_size = get_card_size(chip, lun);
#line 1105
  *buf = (unsigned char )((card_size - 1U) >> 24);
#line 1106
  *(buf + 1UL) = (unsigned char )((card_size - 1U) >> 16);
#line 1107
  *(buf + 2UL) = (unsigned char )((card_size - 1U) >> 8);
#line 1108
  *(buf + 3UL) = (unsigned int )((unsigned char )card_size) - 1U;
#line 1110
  *(buf + 4UL) = 0U;
#line 1111
  *(buf + 5UL) = 0U;
#line 1112
  *(buf + 6UL) = 2U;
#line 1113
  *(buf + 7UL) = 0U;
#line 1115
  tmp___1 = scsi_bufflen(srb);
#line 1115
  rtsx_stor_set_xfer_buf(buf, tmp___1, srb);
#line 1116
  kfree((void const   *)buf);
#line 1118
  scsi_set_resid(srb, 0);
#line 1120
  return (0);
}
}
#line 1123 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_eeprom(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  void *tmp___4 ;
  unsigned int __min1 ;
  unsigned int tmp___5 ;
  unsigned int __min2 ;
  unsigned int tmp___6 ;

  {
#line 1129
  rtsx_disable_aspm(chip);
#line 1131
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1132
    rtsx_exit_ss(chip);
#line 1133
    tmp = get_current();
#line 1133
    tmp->task_state_change = 0UL;
#line 1133
    __ret = 1L;
#line 1133
    switch (8UL) {
    case 1UL: 
#line 1133
    tmp___0 = get_current();
#line 1133
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1133
    goto ldv_38674;
    case 2UL: 
#line 1133
    tmp___1 = get_current();
#line 1133
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1133
    goto ldv_38674;
    case 4UL: 
#line 1133
    tmp___2 = get_current();
#line 1133
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1133
    goto ldv_38674;
    case 8UL: 
#line 1133
    tmp___3 = get_current();
#line 1133
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1133
    goto ldv_38674;
    default: 
#line 1133
    __xchg_wrong_size();
    }
    ldv_38674: 
#line 1133
    schedule_timeout(25L);
  } else {

  }
#line 1135
  chip->idle_counter = 0;
#line 1135
  chip->rtsx_stat = 2;
#line 1137
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1139
  tmp___4 = vmalloc((unsigned long )len);
#line 1139
  buf = (u8 *)tmp___4;
#line 1140
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1141
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom", 1141);
#line 1142
    return (3);
  } else {

  }
#line 1145
  retval = rtsx_force_power_on(chip, 1);
#line 1146
  if (retval != 0) {
#line 1147
    vfree((void const   *)buf);
#line 1148
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1150
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom", 1150);
#line 1151
    return (1);
  } else {

  }
#line 1154
  i = 0U;
#line 1154
  goto ldv_38682;
  ldv_38681: 
#line 1155
  retval = spi_read_eeprom(chip, (int )i, buf + (unsigned long )i);
#line 1156
  if (retval != 0) {
#line 1157
    vfree((void const   *)buf);
#line 1158
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1160
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom", 1160);
#line 1161
    return (1);
  } else {

  }
#line 1154
  i = (unsigned short )((int )i + 1);
  ldv_38682: ;
#line 1154
  if ((int )i < (int )len) {
#line 1156
    goto ldv_38681;
  } else {

  }
#line 1165
  tmp___5 = scsi_bufflen(srb);
#line 1165
  __min1 = tmp___5;
#line 1165
  __min2 = (unsigned int )len;
#line 1165
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 1166
  rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 1167
  tmp___6 = scsi_bufflen(srb);
#line 1167
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 1169
  vfree((void const   *)buf);
#line 1171
  return (0);
}
}
#line 1174 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_eeprom(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  void *tmp___5 ;
  unsigned int tmp___6 ;

  {
#line 1180
  rtsx_disable_aspm(chip);
#line 1182
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1183
    rtsx_exit_ss(chip);
#line 1184
    tmp = get_current();
#line 1184
    tmp->task_state_change = 0UL;
#line 1184
    __ret = 1L;
#line 1184
    switch (8UL) {
    case 1UL: 
#line 1184
    tmp___0 = get_current();
#line 1184
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1184
    goto ldv_38697;
    case 2UL: 
#line 1184
    tmp___1 = get_current();
#line 1184
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1184
    goto ldv_38697;
    case 4UL: 
#line 1184
    tmp___2 = get_current();
#line 1184
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1184
    goto ldv_38697;
    case 8UL: 
#line 1184
    tmp___3 = get_current();
#line 1184
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1184
    goto ldv_38697;
    default: 
#line 1184
    __xchg_wrong_size();
    }
    ldv_38697: 
#line 1184
    schedule_timeout(25L);
  } else {

  }
#line 1186
  chip->idle_counter = 0;
#line 1186
  chip->rtsx_stat = 2;
#line 1188
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1190
  retval = rtsx_force_power_on(chip, 1);
#line 1191
  if (retval != 0) {
#line 1192
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1193
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_eeprom", 1193);
#line 1194
    return (1);
  } else {

  }
#line 1197
  if ((unsigned int )len == 511U) {
#line 1198
    retval = spi_erase_eeprom_chip(chip);
#line 1199
    if (retval != 0) {
#line 1200
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1202
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_eeprom", 1202);
#line 1203
      return (1);
    } else {

    }
  } else {
#line 1206
    tmp___4 = scsi_bufflen(srb);
#line 1206
    __min1 = tmp___4;
#line 1206
    __min2 = (unsigned int )len;
#line 1206
    len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 1208
    tmp___5 = vmalloc((unsigned long )len);
#line 1208
    buf = (u8 *)tmp___5;
#line 1209
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1210
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_eeprom", 1210);
#line 1211
      return (3);
    } else {

    }
#line 1214
    rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 1215
    tmp___6 = scsi_bufflen(srb);
#line 1215
    scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 1217
    i = 0U;
#line 1217
    goto ldv_38708;
    ldv_38707: 
#line 1218
    retval = spi_write_eeprom(chip, (int )i, (int )*(buf + (unsigned long )i));
#line 1219
    if (retval != 0) {
#line 1220
      vfree((void const   *)buf);
#line 1221
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1223
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_eeprom", 1223);
#line 1224
      return (1);
    } else {

    }
#line 1217
    i = (unsigned short )((int )i + 1);
    ldv_38708: ;
#line 1217
    if ((int )i < (int )len) {
#line 1219
      goto ldv_38707;
    } else {

    }
#line 1228
    vfree((void const   *)buf);
  }
#line 1231
  return (0);
}
}
#line 1234 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_mem(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  void *tmp___4 ;
  unsigned int __min1 ;
  unsigned int tmp___5 ;
  unsigned int __min2 ;
  unsigned int tmp___6 ;

  {
#line 1240
  rtsx_disable_aspm(chip);
#line 1242
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1243
    rtsx_exit_ss(chip);
#line 1244
    tmp = get_current();
#line 1244
    tmp->task_state_change = 0UL;
#line 1244
    __ret = 1L;
#line 1244
    switch (8UL) {
    case 1UL: 
#line 1244
    tmp___0 = get_current();
#line 1244
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1244
    goto ldv_38721;
    case 2UL: 
#line 1244
    tmp___1 = get_current();
#line 1244
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1244
    goto ldv_38721;
    case 4UL: 
#line 1244
    tmp___2 = get_current();
#line 1244
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1244
    goto ldv_38721;
    case 8UL: 
#line 1244
    tmp___3 = get_current();
#line 1244
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1244
    goto ldv_38721;
    default: 
#line 1244
    __xchg_wrong_size();
    }
    ldv_38721: 
#line 1244
    schedule_timeout(25L);
  } else {

  }
#line 1246
  chip->idle_counter = 0;
#line 1246
  chip->rtsx_stat = 2;
#line 1248
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 2UL) << 8)) | (int )((short )*(srb->cmnd + 3UL)));
#line 1249
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1251
  if ((unsigned int )addr <= 64511U) {
#line 1252
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 1254
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_mem", 1254);
#line 1255
    return (1);
  } else {

  }
#line 1258
  tmp___4 = vmalloc((unsigned long )len);
#line 1258
  buf = (u8 *)tmp___4;
#line 1259
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1260
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_mem", 1260);
#line 1261
    return (3);
  } else {

  }
#line 1264
  retval = rtsx_force_power_on(chip, 1);
#line 1265
  if (retval != 0) {
#line 1266
    vfree((void const   *)buf);
#line 1267
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1268
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_mem", 1268);
#line 1269
    return (1);
  } else {

  }
#line 1272
  i = 0U;
#line 1272
  goto ldv_38729;
  ldv_38728: 
#line 1273
  retval = rtsx_read_register(chip, (int )addr + (int )i, buf + (unsigned long )i);
#line 1274
  if (retval != 0) {
#line 1275
    vfree((void const   *)buf);
#line 1276
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1278
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_mem", 1278);
#line 1279
    return (1);
  } else {

  }
#line 1272
  i = (unsigned short )((int )i + 1);
  ldv_38729: ;
#line 1272
  if ((int )i < (int )len) {
#line 1274
    goto ldv_38728;
  } else {

  }
#line 1283
  tmp___5 = scsi_bufflen(srb);
#line 1283
  __min1 = tmp___5;
#line 1283
  __min2 = (unsigned int )len;
#line 1283
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 1284
  rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 1285
  tmp___6 = scsi_bufflen(srb);
#line 1285
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 1287
  vfree((void const   *)buf);
#line 1289
  return (0);
}
}
#line 1292 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_mem(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  void *tmp___5 ;
  unsigned int tmp___6 ;

  {
#line 1298
  rtsx_disable_aspm(chip);
#line 1300
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1301
    rtsx_exit_ss(chip);
#line 1302
    tmp = get_current();
#line 1302
    tmp->task_state_change = 0UL;
#line 1302
    __ret = 1L;
#line 1302
    switch (8UL) {
    case 1UL: 
#line 1302
    tmp___0 = get_current();
#line 1302
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1302
    goto ldv_38745;
    case 2UL: 
#line 1302
    tmp___1 = get_current();
#line 1302
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1302
    goto ldv_38745;
    case 4UL: 
#line 1302
    tmp___2 = get_current();
#line 1302
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1302
    goto ldv_38745;
    case 8UL: 
#line 1302
    tmp___3 = get_current();
#line 1302
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1302
    goto ldv_38745;
    default: 
#line 1302
    __xchg_wrong_size();
    }
    ldv_38745: 
#line 1302
    schedule_timeout(25L);
  } else {

  }
#line 1304
  chip->idle_counter = 0;
#line 1304
  chip->rtsx_stat = 2;
#line 1306
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 2UL) << 8)) | (int )((short )*(srb->cmnd + 3UL)));
#line 1307
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1309
  if ((unsigned int )addr <= 64511U) {
#line 1310
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 1312
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_mem", 1312);
#line 1313
    return (1);
  } else {

  }
#line 1316
  tmp___4 = scsi_bufflen(srb);
#line 1316
  __min1 = tmp___4;
#line 1316
  __min2 = (unsigned int )len;
#line 1316
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 1317
  tmp___5 = vmalloc((unsigned long )len);
#line 1317
  buf = (u8 *)tmp___5;
#line 1318
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1319
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_mem", 1319);
#line 1320
    return (3);
  } else {

  }
#line 1323
  rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 1324
  tmp___6 = scsi_bufflen(srb);
#line 1324
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 1326
  retval = rtsx_force_power_on(chip, 1);
#line 1327
  if (retval != 0) {
#line 1328
    vfree((void const   *)buf);
#line 1329
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1330
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_mem", 1330);
#line 1331
    return (1);
  } else {

  }
#line 1334
  i = 0U;
#line 1334
  goto ldv_38756;
  ldv_38755: 
#line 1335
  retval = rtsx_write_register(chip, (int )addr + (int )i, 255, (int )*(buf + (unsigned long )i));
#line 1336
  if (retval != 0) {
#line 1337
    vfree((void const   *)buf);
#line 1338
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1340
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_mem", 1340);
#line 1341
    return (1);
  } else {

  }
#line 1334
  i = (unsigned short )((int )i + 1);
  ldv_38756: ;
#line 1334
  if ((int )i < (int )len) {
#line 1336
    goto ldv_38755;
  } else {

  }
#line 1345
  vfree((void const   *)buf);
#line 1347
  return (0);
}
}
#line 1350 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int get_sd_csd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int tmp ;
  u8 tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 1352
  sd_card = & chip->sd_card;
#line 1353
  lun = (unsigned int )(srb->device)->lun;
#line 1355
  tmp = check_card_ready(chip, lun);
#line 1355
  if (tmp == 0) {
#line 1356
    set_sense_type(chip, lun, 2);
#line 1357
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_sd_csd", 1357);
#line 1358
    return (1);
  } else {

  }
#line 1361
  tmp___0 = get_lun_card(chip, lun);
#line 1361
  if ((unsigned int )tmp___0 != 4U) {
#line 1362
    set_sense_type(chip, lun, 7);
#line 1363
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_sd_csd", 1363);
#line 1364
    return (1);
  } else {

  }
#line 1367
  scsi_set_resid(srb, 0);
#line 1368
  tmp___1 = scsi_bufflen(srb);
#line 1368
  rtsx_stor_set_xfer_buf((unsigned char *)(& sd_card->raw_csd), tmp___1, srb);
#line 1370
  return (0);
}
}
#line 1373 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int toggle_gpio_cmd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  u8 gpio ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 1375
  gpio = *(srb->cmnd + 2UL);
#line 1377
  rtsx_disable_aspm(chip);
#line 1379
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1380
    rtsx_exit_ss(chip);
#line 1381
    tmp = get_current();
#line 1381
    tmp->task_state_change = 0UL;
#line 1381
    __ret = 1L;
#line 1381
    switch (8UL) {
    case 1UL: 
#line 1381
    tmp___0 = get_current();
#line 1381
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1381
    goto ldv_38772;
    case 2UL: 
#line 1381
    tmp___1 = get_current();
#line 1381
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1381
    goto ldv_38772;
    case 4UL: 
#line 1381
    tmp___2 = get_current();
#line 1381
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1381
    goto ldv_38772;
    case 8UL: 
#line 1381
    tmp___3 = get_current();
#line 1381
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1381
    goto ldv_38772;
    default: 
#line 1381
    __xchg_wrong_size();
    }
    ldv_38772: 
#line 1381
    schedule_timeout(25L);
  } else {

  }
#line 1383
  chip->idle_counter = 0;
#line 1383
  chip->rtsx_stat = 2;
#line 1385
  if ((unsigned int )gpio > 3U) {
#line 1386
    gpio = 1U;
  } else {

  }
#line 1387
  toggle_gpio(chip, (int )gpio);
#line 1389
  return (0);
}
}
#line 1393 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int trace_msg_cmd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned char *ptr ;
  unsigned char *buf ;
  int i ;
  int msg_cnt ;
  u8 clear ;
  unsigned int buf_len ;
  unsigned int tmp ;
  struct scatterlist *tmp___0 ;
  unsigned int tmp___1 ;
  void *tmp___2 ;
  unsigned char *tmp___3 ;
  unsigned char *tmp___4 ;
  unsigned char *tmp___5 ;
  unsigned char *tmp___6 ;
  struct _ddebug descriptor ;
  struct device *tmp___7 ;
  long tmp___8 ;
  int j ;
  int idx ;
  unsigned char *tmp___9 ;
  unsigned char *tmp___10 ;
  unsigned char *tmp___11 ;
  unsigned char *tmp___12 ;
  unsigned char *tmp___13 ;
  unsigned int tmp___14 ;

  {
#line 1395
  buf = (unsigned char *)0U;
#line 1400
  buf_len = 7300U;
#line 1403
  tmp = scsi_bufflen(srb);
#line 1403
  if (tmp < buf_len) {
#line 1404
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1406
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "trace_msg_cmd", 1406);
#line 1407
    return (1);
  } else {
#line 1403
    tmp___0 = scsi_sglist(srb);
#line 1403
    if ((unsigned long )tmp___0 == (unsigned long )((struct scatterlist *)0)) {
#line 1404
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1406
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "trace_msg_cmd", 1406);
#line 1407
      return (1);
    } else {

    }
  }
#line 1410
  clear = *(srb->cmnd + 2UL);
#line 1412
  tmp___1 = scsi_bufflen(srb);
#line 1412
  tmp___2 = vmalloc((unsigned long )tmp___1);
#line 1412
  buf = (unsigned char *)tmp___2;
#line 1413
  if ((unsigned long )buf == (unsigned long )((unsigned char *)0U)) {
#line 1414
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "trace_msg_cmd", 1414);
#line 1415
    return (3);
  } else {

  }
#line 1417
  ptr = buf;
#line 1419
  if ((unsigned int )chip->trace_msg[chip->msg_idx].valid != 0U) {
#line 1420
    msg_cnt = 64;
  } else {
#line 1422
    msg_cnt = chip->msg_idx;
  }
#line 1424
  tmp___3 = ptr;
#line 1424
  ptr = ptr + 1;
#line 1424
  *tmp___3 = (unsigned char )(msg_cnt >> 24);
#line 1425
  tmp___4 = ptr;
#line 1425
  ptr = ptr + 1;
#line 1425
  *tmp___4 = (unsigned char )(msg_cnt >> 16);
#line 1426
  tmp___5 = ptr;
#line 1426
  ptr = ptr + 1;
#line 1426
  *tmp___5 = (unsigned char )(msg_cnt >> 8);
#line 1427
  tmp___6 = ptr;
#line 1427
  ptr = ptr + 1;
#line 1427
  *tmp___6 = (unsigned char )msg_cnt;
#line 1428
  descriptor.modname = "rts5208";
#line 1428
  descriptor.function = "trace_msg_cmd";
#line 1428
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 1428
  descriptor.format = "Trace message count is %d\n";
#line 1428
  descriptor.lineno = 1428U;
#line 1428
  descriptor.flags = 0U;
#line 1428
  tmp___8 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1428
  if (tmp___8 != 0L) {
#line 1428
    tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1428
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___7, "Trace message count is %d\n",
                      msg_cnt);
  } else {

  }
#line 1430
  i = 1;
#line 1430
  goto ldv_38802;
  ldv_38801: 
#line 1433
  idx = chip->msg_idx - i;
#line 1434
  if (idx < 0) {
#line 1435
    idx = idx + 64;
  } else {

  }
#line 1437
  tmp___9 = ptr;
#line 1437
  ptr = ptr + 1;
#line 1437
  *tmp___9 = (unsigned char )((int )chip->trace_msg[idx].line >> 8);
#line 1438
  tmp___10 = ptr;
#line 1438
  ptr = ptr + 1;
#line 1438
  *tmp___10 = (unsigned char )chip->trace_msg[idx].line;
#line 1439
  j = 0;
#line 1439
  goto ldv_38793;
  ldv_38792: 
#line 1440
  tmp___11 = ptr;
#line 1440
  ptr = ptr + 1;
#line 1440
  *tmp___11 = (unsigned char )chip->trace_msg[idx].func[j];
#line 1439
  j = j + 1;
  ldv_38793: ;
#line 1439
  if (j <= 63) {
#line 1441
    goto ldv_38792;
  } else {

  }
#line 1442
  j = 0;
#line 1442
  goto ldv_38796;
  ldv_38795: 
#line 1443
  tmp___12 = ptr;
#line 1443
  ptr = ptr + 1;
#line 1443
  *tmp___12 = (unsigned char )chip->trace_msg[idx].file[j];
#line 1442
  j = j + 1;
  ldv_38796: ;
#line 1442
  if (j <= 31) {
#line 1444
    goto ldv_38795;
  } else {

  }
#line 1445
  j = 0;
#line 1445
  goto ldv_38799;
  ldv_38798: 
#line 1446
  tmp___13 = ptr;
#line 1446
  ptr = ptr + 1;
#line 1446
  *tmp___13 = chip->trace_msg[idx].timeval_buf[j];
#line 1445
  j = j + 1;
  ldv_38799: ;
#line 1445
  if (j <= 15) {
#line 1447
    goto ldv_38798;
  } else {

  }
#line 1430
  i = i + 1;
  ldv_38802: ;
#line 1430
  if (i <= msg_cnt) {
#line 1432
    goto ldv_38801;
  } else {

  }
#line 1449
  tmp___14 = scsi_bufflen(srb);
#line 1449
  rtsx_stor_set_xfer_buf(buf, tmp___14, srb);
#line 1450
  vfree((void const   *)buf);
#line 1452
  if ((unsigned int )clear != 0U) {
#line 1453
    chip->msg_idx = 0;
#line 1454
    i = 0;
#line 1454
    goto ldv_38805;
    ldv_38804: 
#line 1455
    chip->trace_msg[i].valid = 0U;
#line 1454
    i = i + 1;
    ldv_38805: ;
#line 1454
    if (i <= 63) {
#line 1456
      goto ldv_38804;
    } else {

    }

  } else {

  }
#line 1458
  scsi_set_resid(srb, 0);
#line 1459
  return (0);
}
}
#line 1463 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_host_reg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  u8 addr ;
  u8 buf[4U] ;
  u32 val ;
  unsigned int len ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct _ddebug descriptor ;
  struct device *tmp___4 ;
  long tmp___5 ;
  unsigned int __min1 ;
  unsigned int tmp___6 ;
  unsigned int __min2 ;
  unsigned int tmp___7 ;

  {
#line 1469
  rtsx_disable_aspm(chip);
#line 1471
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1472
    rtsx_exit_ss(chip);
#line 1473
    tmp = get_current();
#line 1473
    tmp->task_state_change = 0UL;
#line 1473
    __ret = 1L;
#line 1473
    switch (8UL) {
    case 1UL: 
#line 1473
    tmp___0 = get_current();
#line 1473
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1473
    goto ldv_38817;
    case 2UL: 
#line 1473
    tmp___1 = get_current();
#line 1473
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1473
    goto ldv_38817;
    case 4UL: 
#line 1473
    tmp___2 = get_current();
#line 1473
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1473
    goto ldv_38817;
    case 8UL: 
#line 1473
    tmp___3 = get_current();
#line 1473
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1473
    goto ldv_38817;
    default: 
#line 1473
    __xchg_wrong_size();
    }
    ldv_38817: 
#line 1473
    schedule_timeout(25L);
  } else {

  }
#line 1475
  chip->idle_counter = 0;
#line 1475
  chip->rtsx_stat = 2;
#line 1477
  addr = *(srb->cmnd + 4UL);
#line 1479
  val = ioread32((chip->rtsx)->remap_addr + (unsigned long )addr);
#line 1480
  descriptor.modname = "rts5208";
#line 1480
  descriptor.function = "read_host_reg";
#line 1480
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 1480
  descriptor.format = "Host register (0x%x): 0x%x\n";
#line 1480
  descriptor.lineno = 1480U;
#line 1480
  descriptor.flags = 0U;
#line 1480
  tmp___5 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1480
  if (tmp___5 != 0L) {
#line 1480
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1480
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___4, "Host register (0x%x): 0x%x\n",
                      (int )addr, val);
  } else {

  }
#line 1482
  buf[0] = (unsigned char )(val >> 24);
#line 1483
  buf[1] = (unsigned char )(val >> 16);
#line 1484
  buf[2] = (unsigned char )(val >> 8);
#line 1485
  buf[3] = (unsigned char )val;
#line 1487
  tmp___6 = scsi_bufflen(srb);
#line 1487
  __min1 = tmp___6;
#line 1487
  __min2 = 4U;
#line 1487
  len = __min1 < __min2 ? __min1 : __min2;
#line 1488
  rtsx_stor_set_xfer_buf((unsigned char *)(& buf), len, srb);
#line 1489
  tmp___7 = scsi_bufflen(srb);
#line 1489
  scsi_set_resid(srb, (int )(tmp___7 - len));
#line 1491
  return (0);
}
}
#line 1494 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_host_reg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  u8 addr ;
  u8 buf[4U] ;
  u32 val ;
  unsigned int len ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  unsigned int tmp___5 ;

  {
#line 1500
  rtsx_disable_aspm(chip);
#line 1502
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1503
    rtsx_exit_ss(chip);
#line 1504
    tmp = get_current();
#line 1504
    tmp->task_state_change = 0UL;
#line 1504
    __ret = 1L;
#line 1504
    switch (8UL) {
    case 1UL: 
#line 1504
    tmp___0 = get_current();
#line 1504
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1504
    goto ldv_38838;
    case 2UL: 
#line 1504
    tmp___1 = get_current();
#line 1504
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1504
    goto ldv_38838;
    case 4UL: 
#line 1504
    tmp___2 = get_current();
#line 1504
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1504
    goto ldv_38838;
    case 8UL: 
#line 1504
    tmp___3 = get_current();
#line 1504
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1504
    goto ldv_38838;
    default: 
#line 1504
    __xchg_wrong_size();
    }
    ldv_38838: 
#line 1504
    schedule_timeout(25L);
  } else {

  }
#line 1506
  chip->idle_counter = 0;
#line 1506
  chip->rtsx_stat = 2;
#line 1508
  addr = *(srb->cmnd + 4UL);
#line 1510
  tmp___4 = scsi_bufflen(srb);
#line 1510
  __min1 = tmp___4;
#line 1510
  __min2 = 4U;
#line 1510
  len = __min1 < __min2 ? __min1 : __min2;
#line 1511
  rtsx_stor_get_xfer_buf((unsigned char *)(& buf), len, srb);
#line 1512
  tmp___5 = scsi_bufflen(srb);
#line 1512
  scsi_set_resid(srb, (int )(tmp___5 - len));
#line 1514
  val = ((((unsigned int )buf[0] << 24) | ((unsigned int )buf[1] << 16)) | ((unsigned int )buf[2] << 8)) | (unsigned int )buf[3];
#line 1517
  iowrite32(val, (chip->rtsx)->remap_addr + (unsigned long )addr);
#line 1519
  return (0);
}
}
#line 1522 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int set_variable(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  struct xd_info *xd_card ;
  struct sd_info *sd_card ;
  struct ms_info *ms_card ;
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 1524
  lun = (unsigned int )(srb->device)->lun;
#line 1526
  if ((unsigned int )*(srb->cmnd + 3UL) == 1U) {
#line 1528
    xd_card = & chip->xd_card;
#line 1529
    sd_card = & chip->sd_card;
#line 1530
    ms_card = & chip->ms_card;
#line 1532
    switch ((int )*(srb->cmnd + 4UL)) {
    case 16: 
#line 1534
    xd_card->xd_clock = (int )*(srb->cmnd + 5UL);
#line 1535
    goto ldv_38856;
    case 4: 
#line 1538
    sd_card->sd_clock = (int )*(srb->cmnd + 5UL);
#line 1539
    goto ldv_38856;
    case 8: 
#line 1542
    ms_card->ms_clock = (int )*(srb->cmnd + 5UL);
#line 1543
    goto ldv_38856;
    default: 
#line 1546
    set_sense_type(chip, lun, 6);
#line 1548
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "set_variable", 1548);
#line 1549
    return (1);
    }
    ldv_38856: ;
  } else
#line 1551
  if ((unsigned int )*(srb->cmnd + 3UL) == 2U) {
#line 1552
    if ((unsigned int )*(srb->cmnd + 4UL) != 0U) {
#line 1553
      chip->blink_led = 1U;
    } else {
#line 1557
      chip->blink_led = 0U;
#line 1559
      rtsx_disable_aspm(chip);
#line 1561
      if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1563
        rtsx_exit_ss(chip);
#line 1564
        tmp = get_current();
#line 1564
        tmp->task_state_change = 0UL;
#line 1564
        __ret = 1L;
#line 1564
        switch (8UL) {
        case 1UL: 
#line 1564
        tmp___0 = get_current();
#line 1564
        __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                             "cc");
#line 1564
        goto ldv_38864;
        case 2UL: 
#line 1564
        tmp___1 = get_current();
#line 1564
        __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                             "cc");
#line 1564
        goto ldv_38864;
        case 4UL: 
#line 1564
        tmp___2 = get_current();
#line 1564
        __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                             "cc");
#line 1564
        goto ldv_38864;
        case 8UL: 
#line 1564
        tmp___3 = get_current();
#line 1564
        __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                             "cc");
#line 1564
        goto ldv_38864;
        default: 
#line 1564
        __xchg_wrong_size();
        }
        ldv_38864: 
#line 1564
        schedule_timeout(25L);
      } else {

      }
#line 1566
      chip->idle_counter = 0;
#line 1566
      chip->rtsx_stat = 2;
#line 1568
      retval = rtsx_force_power_on(chip, 1);
#line 1569
      if (retval != 0) {
#line 1570
        set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 1572
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                    "set_variable", 1572);
#line 1573
        return (1);
      } else {

      }
#line 1576
      turn_off_led(chip, 0);
    }
  } else {
#line 1579
    set_sense_type(chip, lun, 6);
#line 1580
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "set_variable", 1580);
#line 1581
    return (1);
  }
#line 1584
  return (0);
}
}
#line 1587 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int get_variable(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  struct xd_info *xd_card ;
  struct sd_info *sd_card ;
  struct ms_info *ms_card ;
  u8 tmp ;
  u8 tmp___0 ;

  {
#line 1589
  lun = (unsigned int )(srb->device)->lun;
#line 1591
  if ((unsigned int )*(srb->cmnd + 3UL) == 1U) {
#line 1592
    xd_card = & chip->xd_card;
#line 1593
    sd_card = & chip->sd_card;
#line 1594
    ms_card = & chip->ms_card;
#line 1597
    switch ((int )*(srb->cmnd + 4UL)) {
    case 16: 
#line 1599
    tmp = (unsigned char )xd_card->xd_clock;
#line 1600
    goto ldv_38880;
    case 4: 
#line 1603
    tmp = (unsigned char )sd_card->sd_clock;
#line 1604
    goto ldv_38880;
    case 8: 
#line 1607
    tmp = (unsigned char )ms_card->ms_clock;
#line 1608
    goto ldv_38880;
    default: 
#line 1611
    set_sense_type(chip, lun, 6);
#line 1613
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_variable", 1613);
#line 1614
    return (1);
    }
    ldv_38880: 
#line 1617
    rtsx_stor_set_xfer_buf(& tmp, 1U, srb);
  } else
#line 1618
  if ((unsigned int )*(srb->cmnd + 3UL) == 2U) {
#line 1619
    tmp___0 = chip->blink_led;
#line 1621
    rtsx_stor_set_xfer_buf(& tmp___0, 1U, srb);
  } else {
#line 1623
    set_sense_type(chip, lun, 6);
#line 1624
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_variable", 1624);
#line 1625
    return (1);
  }
#line 1628
  return (0);
}
}
#line 1631 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int dma_access_ring_buffer(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  unsigned int lun ;
  u16 len ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  u16 __min1 ;
  u16 __min2 ;
  unsigned int tmp___4 ;
  struct _ddebug descriptor ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___7 ;
  long tmp___8 ;
  unsigned int tmp___9 ;
  struct scatterlist *tmp___10 ;

  {
#line 1634
  lun = (unsigned int )(srb->device)->lun;
#line 1637
  rtsx_disable_aspm(chip);
#line 1639
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1640
    rtsx_exit_ss(chip);
#line 1641
    tmp = get_current();
#line 1641
    tmp->task_state_change = 0UL;
#line 1641
    __ret = 1L;
#line 1641
    switch (8UL) {
    case 1UL: 
#line 1641
    tmp___0 = get_current();
#line 1641
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1641
    goto ldv_38895;
    case 2UL: 
#line 1641
    tmp___1 = get_current();
#line 1641
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1641
    goto ldv_38895;
    case 4UL: 
#line 1641
    tmp___2 = get_current();
#line 1641
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1641
    goto ldv_38895;
    case 8UL: 
#line 1641
    tmp___3 = get_current();
#line 1641
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1641
    goto ldv_38895;
    default: 
#line 1641
    __xchg_wrong_size();
    }
    ldv_38895: 
#line 1641
    schedule_timeout(25L);
  } else {

  }
#line 1643
  chip->idle_counter = 0;
#line 1643
  chip->rtsx_stat = 2;
#line 1645
  len = (u16 )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1646
  __min1 = len;
#line 1646
  tmp___4 = scsi_bufflen(srb);
#line 1646
  __min2 = (u16 )tmp___4;
#line 1646
  len = (u16 )((int )__min1 < (int )__min2 ? __min1 : __min2);
#line 1648
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 1649
    descriptor.modname = "rts5208";
#line 1649
    descriptor.function = "dma_access_ring_buffer";
#line 1649
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 1649
    descriptor.format = "Read from device\n";
#line 1649
    descriptor.lineno = 1649U;
#line 1649
    descriptor.flags = 0U;
#line 1649
    tmp___6 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1649
    if (tmp___6 != 0L) {
#line 1649
      tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1649
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___5, "Read from device\n");
    } else {

    }
  } else {
#line 1651
    descriptor___0.modname = "rts5208";
#line 1651
    descriptor___0.function = "dma_access_ring_buffer";
#line 1651
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 1651
    descriptor___0.format = "Write to device\n";
#line 1651
    descriptor___0.lineno = 1651U;
#line 1651
    descriptor___0.flags = 0U;
#line 1651
    tmp___8 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1651
    if (tmp___8 != 0L) {
#line 1651
      tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1651
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___7, "Write to device\n");
    } else {

    }
  }
#line 1653
  tmp___9 = scsi_sg_count(srb);
#line 1653
  tmp___10 = scsi_sglist(srb);
#line 1653
  retval = rtsx_transfer_data(chip, 0, (void *)tmp___10, (size_t )len, (int )tmp___9,
                              srb->sc_data_direction, 1000);
#line 1655
  if (retval < 0) {
#line 1656
    if ((unsigned int )srb->sc_data_direction == 2U) {
#line 1657
      set_sense_type(chip, lun, 7);
    } else {
#line 1660
      set_sense_type(chip, lun, 8);
    }
#line 1663
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "dma_access_ring_buffer", 1663);
#line 1664
    return (1);
  } else {

  }
#line 1666
  scsi_set_resid(srb, 0);
#line 1668
  return (0);
}
}
#line 1671 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int get_dev_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  struct ms_info *ms_card ;
  int buf_len ;
  unsigned int lun ;
  u8 card ;
  u8 tmp ;
  u8 status[32U] ;
  u8 oc_now_mask ;
  u8 oc_ever_mask ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  unsigned int __min1 ;
  unsigned int tmp___2 ;
  unsigned int __min2 ;
  unsigned int tmp___3 ;

  {
#line 1673
  sd_card = & chip->sd_card;
#line 1674
  ms_card = & chip->ms_card;
#line 1676
  lun = (unsigned int )(srb->device)->lun;
#line 1677
  tmp = get_lun_card(chip, lun);
#line 1677
  card = tmp;
#line 1680
  oc_now_mask = 0U;
#line 1680
  oc_ever_mask = 0U;
#line 1683
  memset((void *)(& status), 0, 32UL);
#line 1685
  status[0] = (unsigned char )chip->product_id;
#line 1686
  status[1] = chip->ic_version;
#line 1688
  if (chip->auto_delink_en != 0) {
#line 1689
    status[2] = 16U;
  } else {
#line 1691
    status[2] = 0U;
  }
#line 1693
  status[3] = 20U;
#line 1694
  status[4] = 10U;
#line 1695
  status[5] = 5U;
#line 1696
  status[6] = 21U;
#line 1698
  if ((unsigned int )chip->card_wp != 0U) {
#line 1699
    status[7] = 32U;
  } else {
#line 1701
    status[7] = 0U;
  }
#line 1704
  status[8] = 0U;
#line 1705
  if ((unsigned int )chip->lun_mode == 1U && (unsigned int )chip->lun2card[lun] == 8U) {
#line 1707
    oc_now_mask = 64U;
#line 1708
    oc_ever_mask = 32U;
  } else {
#line 1710
    oc_now_mask = 4U;
#line 1711
    oc_ever_mask = 2U;
  }
#line 1714
  if ((unsigned int )((int )chip->ocp_stat & (int )oc_now_mask) != 0U) {
#line 1715
    status[8] = (u8 )((unsigned int )status[8] | 2U);
  } else {

  }
#line 1717
  if ((unsigned int )((int )chip->ocp_stat & (int )oc_ever_mask) != 0U) {
#line 1718
    status[8] = (u8 )((unsigned int )status[8] | 1U);
  } else {

  }
#line 1721
  if ((unsigned int )card == 4U) {
#line 1722
    if (((int )sd_card->sd_type & 255) == 0) {
#line 1723
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 4096) != 0) {
#line 1724
        if (sd_card->capacity > 67108864U) {
#line 1725
          status[14] = 2U;
        } else {
#line 1727
          status[14] = 1U;
        }
      } else {
#line 1729
        status[14] = 0U;
      }
#line 1732
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 2048) != 0) {
#line 1733
        status[15] = 3U;
      } else
#line 1734
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1735
        status[15] = 4U;
      } else
#line 1736
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 512) != 0) {
#line 1737
        status[15] = 2U;
      } else
#line 1738
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 256) != 0) {
#line 1739
        status[15] = 1U;
      } else {
#line 1741
        status[15] = 0U;
      }
    } else {
#line 1743
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 4096) != 0) {
#line 1744
        status[14] = 1U;
      } else {
#line 1746
        status[14] = 0U;
      }
#line 1748
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 1749
        status[15] = 3U;
      } else
#line 1750
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 512) != 0) {
#line 1751
        status[15] = 2U;
      } else
#line 1752
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 256) != 0) {
#line 1753
        status[15] = 1U;
      } else {
#line 1755
        status[15] = 0U;
      }
    }
  } else
#line 1757
  if ((unsigned int )card == 8U) {
#line 1758
    if (((int )ms_card->ms_type & 255) == 1) {
#line 1759
      if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 1760
        status[14] = 1U;
      } else {
#line 1762
        status[14] = 0U;
      }
#line 1764
      if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1536) == 1536) {
#line 1765
        status[15] = 1U;
      } else {
#line 1767
        status[15] = 0U;
      }
    } else {

    }
  } else {

  }
#line 1772
  if ((unsigned int )card == 4U) {
#line 1773
    status[23] = 128U;
#line 1774
    if ((unsigned int )sd_card->sd_erase_status != 0U) {
#line 1775
      status[23] = (u8 )((unsigned int )status[23] | 1U);
    } else {

    }
#line 1776
    if ((int )((signed char )sd_card->sd_lock_status) < 0) {
#line 1777
      status[23] = (u8 )((unsigned int )status[23] | 2U);
#line 1778
      status[7] = (u8 )((unsigned int )status[7] | 64U);
    } else {

    }
#line 1780
    if (((int )sd_card->sd_lock_status & 32) != 0) {
#line 1781
      status[23] = (u8 )((unsigned int )status[23] | 4U);
    } else {

    }
  } else {
#line 1783
    status[23] = 0U;
  }
#line 1786
  descriptor.modname = "rts5208";
#line 1786
  descriptor.function = "get_dev_status";
#line 1786
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 1786
  descriptor.format = "status[0x17] = 0x%x\n";
#line 1786
  descriptor.lineno = 1786U;
#line 1786
  descriptor.flags = 0U;
#line 1786
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1786
  if (tmp___1 != 0L) {
#line 1786
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1786
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "status[0x17] = 0x%x\n",
                      (int )status[23]);
  } else {

  }
#line 1789
  status[24] = 138U;
#line 1790
  status[26] = 40U;
#line 1792
  status[31] = 1U;
#line 1795
  tmp___2 = scsi_bufflen(srb);
#line 1795
  __min1 = tmp___2;
#line 1795
  __min2 = 32U;
#line 1795
  buf_len = (int )(__min1 < __min2 ? __min1 : __min2);
#line 1796
  rtsx_stor_set_xfer_buf((unsigned char *)(& status), (unsigned int )buf_len, srb);
#line 1797
  tmp___3 = scsi_bufflen(srb);
#line 1797
  scsi_set_resid(srb, (int )(tmp___3 - (unsigned int )buf_len));
#line 1799
  return (0);
}
}
#line 1802 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int set_chip_mode(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int phy_debug_mode ;
  int retval ;
  u16 reg ;

  {
#line 1808
  if ((unsigned int )chip->product_id != 21000U) {
#line 1809
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 1811
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "set_chip_mode", 1811);
#line 1812
    return (1);
  } else {

  }
#line 1815
  phy_debug_mode = (int )*(srb->cmnd + 3UL);
#line 1817
  if (phy_debug_mode != 0) {
#line 1818
    chip->phy_debug_mode = 1;
#line 1819
    retval = rtsx_write_register(chip, 65106, 119, 0);
#line 1820
    if (retval != 0) {
#line 1821
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1821);
#line 1822
      return (1);
    } else {

    }
#line 1825
    rtsx_disable_bus_int(chip);
#line 1827
    retval = rtsx_read_phy_register(chip, 28, & reg);
#line 1828
    if (retval != 0) {
#line 1829
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1829);
#line 1830
      return (1);
    } else {

    }
#line 1833
    reg = (u16 )((unsigned int )reg | 1U);
#line 1834
    retval = rtsx_write_phy_register(chip, 28, (int )reg);
#line 1835
    if (retval != 0) {
#line 1836
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1836);
#line 1837
      return (1);
    } else {

    }
  } else {
#line 1840
    chip->phy_debug_mode = 0;
#line 1841
    retval = rtsx_write_register(chip, 65106, 119, 119);
#line 1842
    if (retval != 0) {
#line 1843
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1843);
#line 1844
      return (1);
    } else {

    }
#line 1847
    rtsx_enable_bus_int(chip);
#line 1849
    retval = rtsx_read_phy_register(chip, 28, & reg);
#line 1850
    if (retval != 0) {
#line 1851
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1851);
#line 1852
      return (1);
    } else {

    }
#line 1855
    reg = (unsigned int )reg & 65534U;
#line 1856
    retval = rtsx_write_phy_register(chip, 28, (int )reg);
#line 1857
    if (retval != 0) {
#line 1858
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "set_chip_mode", 1858);
#line 1859
      return (1);
    } else {

    }
  }
#line 1863
  return (0);
}
}
#line 1866 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int rw_mem_cmd_buf(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  unsigned int lun ;
  u8 cmd_type ;
  u8 mask ;
  u8 value ;
  u8 idx ;
  u16 addr ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  u8 *tmp___4 ;
  unsigned int tmp___5 ;

  {
#line 1868
  retval = 0;
#line 1869
  lun = (unsigned int )(srb->device)->lun;
#line 1873
  rtsx_disable_aspm(chip);
#line 1875
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1876
    rtsx_exit_ss(chip);
#line 1877
    tmp = get_current();
#line 1877
    tmp->task_state_change = 0UL;
#line 1877
    __ret = 1L;
#line 1877
    switch (8UL) {
    case 1UL: 
#line 1877
    tmp___0 = get_current();
#line 1877
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1877
    goto ldv_38945;
    case 2UL: 
#line 1877
    tmp___1 = get_current();
#line 1877
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1877
    goto ldv_38945;
    case 4UL: 
#line 1877
    tmp___2 = get_current();
#line 1877
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1877
    goto ldv_38945;
    case 8UL: 
#line 1877
    tmp___3 = get_current();
#line 1877
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1877
    goto ldv_38945;
    default: 
#line 1877
    __xchg_wrong_size();
    }
    ldv_38945: 
#line 1877
    schedule_timeout(25L);
  } else {

  }
#line 1879
  chip->idle_counter = 0;
#line 1879
  chip->rtsx_stat = 2;
#line 1881
  switch ((int )*(srb->cmnd + 3UL)) {
  case 65: 
#line 1883
  chip->ci = 0;
#line 1884
  goto ldv_38952;
  case 66: 
#line 1887
  cmd_type = *(srb->cmnd + 4UL);
#line 1888
  if ((unsigned int )cmd_type > 2U) {
#line 1889
    set_sense_type(chip, lun, 6);
#line 1891
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "rw_mem_cmd_buf", 1891);
#line 1892
    return (1);
  } else {

  }
#line 1894
  addr = (u16 )((int )((short )((int )*(srb->cmnd + 5UL) << 8)) | (int )((short )*(srb->cmnd + 6UL)));
#line 1895
  mask = *(srb->cmnd + 7UL);
#line 1896
  value = *(srb->cmnd + 8UL);
#line 1897
  rtsx_add_cmd(chip, (int )cmd_type, (int )addr, (int )mask, (int )value);
#line 1898
  goto ldv_38952;
  case 67: 
#line 1901
  retval = rtsx_send_cmd(chip, 0, 1000);
#line 1902
  goto ldv_38952;
  case 68: 
#line 1905
  idx = *(srb->cmnd + 4UL);
#line 1906
  tmp___4 = rtsx_get_cmd_data(chip);
#line 1906
  value = *(tmp___4 + (unsigned long )idx);
#line 1907
  tmp___5 = scsi_bufflen(srb);
#line 1907
  if (tmp___5 == 0U) {
#line 1908
    set_sense_type(chip, lun, 6);
#line 1910
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "rw_mem_cmd_buf", 1910);
#line 1911
    return (1);
  } else {

  }
#line 1913
  rtsx_stor_set_xfer_buf(& value, 1U, srb);
#line 1914
  scsi_set_resid(srb, 0);
#line 1915
  goto ldv_38952;
  default: 
#line 1918
  set_sense_type(chip, lun, 6);
#line 1919
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "rw_mem_cmd_buf", 1919);
#line 1920
  return (1);
  }
  ldv_38952: ;
#line 1923
  if (retval != 0) {
#line 1924
    set_sense_type(chip, lun, 8);
#line 1925
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "rw_mem_cmd_buf", 1925);
#line 1926
    return (1);
  } else {

  }
#line 1929
  return (0);
}
}
#line 1932 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int suit_cmd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int result ;

  {
#line 1936
  switch ((int )*(srb->cmnd + 3UL)) {
  case 65: ;
  case 66: ;
  case 67: ;
  case 68: 
#line 1941
  result = rw_mem_cmd_buf(srb, chip);
#line 1942
  goto ldv_38967;
  default: 
#line 1944
  result = 3;
  }
  ldv_38967: ;
#line 1947
  return (result);
}
}
#line 1950 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_phy_register(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  u16 val ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  void *tmp___4 ;
  unsigned int __min1 ;
  unsigned int tmp___5 ;
  unsigned int __min2 ;
  unsigned int tmp___6 ;

  {
#line 1957
  rtsx_disable_aspm(chip);
#line 1959
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 1960
    rtsx_exit_ss(chip);
#line 1961
    tmp = get_current();
#line 1961
    tmp->task_state_change = 0UL;
#line 1961
    __ret = 1L;
#line 1961
    switch (8UL) {
    case 1UL: 
#line 1961
    tmp___0 = get_current();
#line 1961
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 1961
    goto ldv_38981;
    case 2UL: 
#line 1961
    tmp___1 = get_current();
#line 1961
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 1961
    goto ldv_38981;
    case 4UL: 
#line 1961
    tmp___2 = get_current();
#line 1961
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1961
    goto ldv_38981;
    case 8UL: 
#line 1961
    tmp___3 = get_current();
#line 1961
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1961
    goto ldv_38981;
    default: 
#line 1961
    __xchg_wrong_size();
    }
    ldv_38981: 
#line 1961
    schedule_timeout(25L);
  } else {

  }
#line 1963
  chip->idle_counter = 0;
#line 1963
  chip->rtsx_stat = 2;
#line 1965
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 1966
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 1968
  if ((int )len & 1) {
#line 1969
    len = (unsigned int )len & 65534U;
  } else {

  }
#line 1971
  if ((unsigned int )len != 0U) {
#line 1972
    tmp___4 = vmalloc((unsigned long )len);
#line 1972
    buf = (u8 *)tmp___4;
#line 1973
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1974
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_phy_register", 1974);
#line 1975
      return (3);
    } else {

    }
#line 1978
    retval = rtsx_force_power_on(chip, 1);
#line 1979
    if (retval != 0) {
#line 1980
      vfree((void const   *)buf);
#line 1981
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1983
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_phy_register", 1983);
#line 1984
      return (1);
    } else {

    }
#line 1987
    i = 0U;
#line 1987
    goto ldv_38989;
    ldv_38988: 
#line 1988
    retval = rtsx_read_phy_register(chip, (int )((u8 )addr) + (int )((u8 )i), & val);
#line 1989
    if (retval != 0) {
#line 1990
      vfree((void const   *)buf);
#line 1991
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 1993
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "read_phy_register", 1993);
#line 1994
      return (1);
    } else {

    }
#line 1997
    *(buf + (unsigned long )((int )i * 2)) = (unsigned char )((int )val >> 8);
#line 1998
    *(buf + ((unsigned long )((int )i * 2) + 1UL)) = (unsigned char )val;
#line 1987
    i = (unsigned short )((int )i + 1);
    ldv_38989: ;
#line 1987
    if ((unsigned int )len / 2U > (unsigned int )i) {
#line 1989
      goto ldv_38988;
    } else {

    }
#line 2001
    tmp___5 = scsi_bufflen(srb);
#line 2001
    __min1 = tmp___5;
#line 2001
    __min2 = (unsigned int )len;
#line 2001
    len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2003
    rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 2004
    tmp___6 = scsi_bufflen(srb);
#line 2004
    scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2006
    vfree((void const   *)buf);
  } else {

  }
#line 2009
  return (0);
}
}
#line 2012 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_phy_register(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  u16 val ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  void *tmp___5 ;
  unsigned int tmp___6 ;

  {
#line 2019
  rtsx_disable_aspm(chip);
#line 2021
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2022
    rtsx_exit_ss(chip);
#line 2023
    tmp = get_current();
#line 2023
    tmp->task_state_change = 0UL;
#line 2023
    __ret = 1L;
#line 2023
    switch (8UL) {
    case 1UL: 
#line 2023
    tmp___0 = get_current();
#line 2023
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2023
    goto ldv_39006;
    case 2UL: 
#line 2023
    tmp___1 = get_current();
#line 2023
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2023
    goto ldv_39006;
    case 4UL: 
#line 2023
    tmp___2 = get_current();
#line 2023
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2023
    goto ldv_39006;
    case 8UL: 
#line 2023
    tmp___3 = get_current();
#line 2023
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2023
    goto ldv_39006;
    default: 
#line 2023
    __xchg_wrong_size();
    }
    ldv_39006: 
#line 2023
    schedule_timeout(25L);
  } else {

  }
#line 2025
  chip->idle_counter = 0;
#line 2025
  chip->rtsx_stat = 2;
#line 2027
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2028
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 2030
  if ((int )len & 1) {
#line 2031
    len = (unsigned int )len & 65534U;
  } else {

  }
#line 2033
  if ((unsigned int )len != 0U) {
#line 2034
    tmp___4 = scsi_bufflen(srb);
#line 2034
    __min1 = tmp___4;
#line 2034
    __min2 = (unsigned int )len;
#line 2034
    len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2037
    tmp___5 = vmalloc((unsigned long )len);
#line 2037
    buf = (u8 *)tmp___5;
#line 2038
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2039
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_phy_register", 2039);
#line 2040
      return (3);
    } else {

    }
#line 2043
    rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 2044
    tmp___6 = scsi_bufflen(srb);
#line 2044
    scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2046
    retval = rtsx_force_power_on(chip, 1);
#line 2047
    if (retval != 0) {
#line 2048
      vfree((void const   *)buf);
#line 2049
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2051
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_phy_register", 2051);
#line 2052
      return (1);
    } else {

    }
#line 2055
    i = 0U;
#line 2055
    goto ldv_39017;
    ldv_39016: 
#line 2056
    val = (u16 )((int )((short )((int )*(buf + (unsigned long )((int )i * 2)) << 8)) | (int )((short )*(buf + ((unsigned long )((int )i * 2) + 1UL))));
#line 2057
    retval = rtsx_write_phy_register(chip, (int )((u8 )addr) + (int )((u8 )i), (int )val);
#line 2058
    if (retval != 0) {
#line 2059
      vfree((void const   *)buf);
#line 2060
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2062
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_phy_register", 2062);
#line 2063
      return (1);
    } else {

    }
#line 2055
    i = (unsigned short )((int )i + 1);
    ldv_39017: ;
#line 2055
    if ((unsigned int )len / 2U > (unsigned int )i) {
#line 2057
      goto ldv_39016;
    } else {

    }
#line 2067
    vfree((void const   *)buf);
  } else {

  }
#line 2070
  return (0);
}
}
#line 2073 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int erase_eeprom2(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  int retval ;
  u8 mode ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 2079
  rtsx_disable_aspm(chip);
#line 2081
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2082
    rtsx_exit_ss(chip);
#line 2083
    tmp = get_current();
#line 2083
    tmp->task_state_change = 0UL;
#line 2083
    __ret = 1L;
#line 2083
    switch (8UL) {
    case 1UL: 
#line 2083
    tmp___0 = get_current();
#line 2083
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2083
    goto ldv_39028;
    case 2UL: 
#line 2083
    tmp___1 = get_current();
#line 2083
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2083
    goto ldv_39028;
    case 4UL: 
#line 2083
    tmp___2 = get_current();
#line 2083
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2083
    goto ldv_39028;
    case 8UL: 
#line 2083
    tmp___3 = get_current();
#line 2083
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2083
    goto ldv_39028;
    default: 
#line 2083
    __xchg_wrong_size();
    }
    ldv_39028: 
#line 2083
    schedule_timeout(25L);
  } else {

  }
#line 2085
  chip->idle_counter = 0;
#line 2085
  chip->rtsx_stat = 2;
#line 2087
  retval = rtsx_force_power_on(chip, 1);
#line 2088
  if (retval != 0) {
#line 2089
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2090
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "erase_eeprom2", 2090);
#line 2091
    return (1);
  } else {

  }
#line 2094
  mode = *(srb->cmnd + 3UL);
#line 2095
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2097
  if ((unsigned int )mode == 0U) {
#line 2098
    retval = spi_erase_eeprom_chip(chip);
#line 2099
    if (retval != 0) {
#line 2100
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2102
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "erase_eeprom2", 2102);
#line 2103
      return (1);
    } else {

    }
  } else
#line 2105
  if ((unsigned int )mode == 1U) {
#line 2106
    retval = spi_erase_eeprom_byte(chip, (int )addr);
#line 2107
    if (retval != 0) {
#line 2108
      set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2110
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "erase_eeprom2", 2110);
#line 2111
      return (1);
    } else {

    }
  } else {
#line 2114
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 2116
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "erase_eeprom2", 2116);
#line 2117
    return (1);
  }
#line 2120
  return (0);
}
}
#line 2123 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_eeprom2(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  void *tmp___4 ;
  unsigned int __min1 ;
  unsigned int tmp___5 ;
  unsigned int __min2 ;
  unsigned int tmp___6 ;

  {
#line 2129
  rtsx_disable_aspm(chip);
#line 2131
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2132
    rtsx_exit_ss(chip);
#line 2133
    tmp = get_current();
#line 2133
    tmp->task_state_change = 0UL;
#line 2133
    __ret = 1L;
#line 2133
    switch (8UL) {
    case 1UL: 
#line 2133
    tmp___0 = get_current();
#line 2133
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2133
    goto ldv_39046;
    case 2UL: 
#line 2133
    tmp___1 = get_current();
#line 2133
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2133
    goto ldv_39046;
    case 4UL: 
#line 2133
    tmp___2 = get_current();
#line 2133
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2133
    goto ldv_39046;
    case 8UL: 
#line 2133
    tmp___3 = get_current();
#line 2133
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2133
    goto ldv_39046;
    default: 
#line 2133
    __xchg_wrong_size();
    }
    ldv_39046: 
#line 2133
    schedule_timeout(25L);
  } else {

  }
#line 2135
  chip->idle_counter = 0;
#line 2135
  chip->rtsx_stat = 2;
#line 2137
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2138
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 2140
  tmp___4 = vmalloc((unsigned long )len);
#line 2140
  buf = (u8 *)tmp___4;
#line 2141
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2142
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom2", 2142);
#line 2143
    return (3);
  } else {

  }
#line 2146
  retval = rtsx_force_power_on(chip, 1);
#line 2147
  if (retval != 0) {
#line 2148
    vfree((void const   *)buf);
#line 2149
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 2151
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom2", 2151);
#line 2152
    return (1);
  } else {

  }
#line 2155
  i = 0U;
#line 2155
  goto ldv_39054;
  ldv_39053: 
#line 2156
  retval = spi_read_eeprom(chip, (int )addr + (int )i, buf + (unsigned long )i);
#line 2157
  if (retval != 0) {
#line 2158
    vfree((void const   *)buf);
#line 2159
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 2161
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_eeprom2", 2161);
#line 2162
    return (1);
  } else {

  }
#line 2155
  i = (unsigned short )((int )i + 1);
  ldv_39054: ;
#line 2155
  if ((int )i < (int )len) {
#line 2157
    goto ldv_39053;
  } else {

  }
#line 2166
  tmp___5 = scsi_bufflen(srb);
#line 2166
  __min1 = tmp___5;
#line 2166
  __min2 = (unsigned int )len;
#line 2166
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2167
  rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 2168
  tmp___6 = scsi_bufflen(srb);
#line 2168
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2170
  vfree((void const   *)buf);
#line 2172
  return (0);
}
}
#line 2175 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_eeprom2(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned short addr ;
  unsigned short len ;
  unsigned short i ;
  int retval ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  void *tmp___5 ;
  unsigned int tmp___6 ;

  {
#line 2181
  rtsx_disable_aspm(chip);
#line 2183
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2184
    rtsx_exit_ss(chip);
#line 2185
    tmp = get_current();
#line 2185
    tmp->task_state_change = 0UL;
#line 2185
    __ret = 1L;
#line 2185
    switch (8UL) {
    case 1UL: 
#line 2185
    tmp___0 = get_current();
#line 2185
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2185
    goto ldv_39070;
    case 2UL: 
#line 2185
    tmp___1 = get_current();
#line 2185
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2185
    goto ldv_39070;
    case 4UL: 
#line 2185
    tmp___2 = get_current();
#line 2185
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2185
    goto ldv_39070;
    case 8UL: 
#line 2185
    tmp___3 = get_current();
#line 2185
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2185
    goto ldv_39070;
    default: 
#line 2185
    __xchg_wrong_size();
    }
    ldv_39070: 
#line 2185
    schedule_timeout(25L);
  } else {

  }
#line 2187
  chip->idle_counter = 0;
#line 2187
  chip->rtsx_stat = 2;
#line 2189
  addr = (unsigned short )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2190
  len = (unsigned short )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 2192
  tmp___4 = scsi_bufflen(srb);
#line 2192
  __min1 = tmp___4;
#line 2192
  __min2 = (unsigned int )len;
#line 2192
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2193
  tmp___5 = vmalloc((unsigned long )len);
#line 2193
  buf = (u8 *)tmp___5;
#line 2194
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2195
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_eeprom2", 2195);
#line 2196
    return (3);
  } else {

  }
#line 2199
  rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 2200
  tmp___6 = scsi_bufflen(srb);
#line 2200
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2202
  retval = rtsx_force_power_on(chip, 1);
#line 2203
  if (retval != 0) {
#line 2204
    vfree((void const   *)buf);
#line 2205
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2206
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_eeprom2", 2206);
#line 2207
    return (1);
  } else {

  }
#line 2210
  i = 0U;
#line 2210
  goto ldv_39081;
  ldv_39080: 
#line 2211
  retval = spi_write_eeprom(chip, (int )addr + (int )i, (int )*(buf + (unsigned long )i));
#line 2212
  if (retval != 0) {
#line 2213
    vfree((void const   *)buf);
#line 2214
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2216
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_eeprom2", 2216);
#line 2217
    return (1);
  } else {

  }
#line 2210
  i = (unsigned short )((int )i + 1);
  ldv_39081: ;
#line 2210
  if ((int )i < (int )len) {
#line 2212
    goto ldv_39080;
  } else {

  }
#line 2221
  vfree((void const   *)buf);
#line 2223
  return (0);
}
}
#line 2226 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_efuse(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 addr ;
  u8 len ;
  u8 i ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  void *tmp___4 ;
  unsigned int __min1 ;
  unsigned int tmp___5 ;
  unsigned int __min2 ;
  unsigned int tmp___6 ;

  {
#line 2232
  rtsx_disable_aspm(chip);
#line 2234
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2235
    rtsx_exit_ss(chip);
#line 2236
    tmp = get_current();
#line 2236
    tmp->task_state_change = 0UL;
#line 2236
    __ret = 1L;
#line 2236
    switch (8UL) {
    case 1UL: 
#line 2236
    tmp___0 = get_current();
#line 2236
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2236
    goto ldv_39094;
    case 2UL: 
#line 2236
    tmp___1 = get_current();
#line 2236
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2236
    goto ldv_39094;
    case 4UL: 
#line 2236
    tmp___2 = get_current();
#line 2236
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2236
    goto ldv_39094;
    case 8UL: 
#line 2236
    tmp___3 = get_current();
#line 2236
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2236
    goto ldv_39094;
    default: 
#line 2236
    __xchg_wrong_size();
    }
    ldv_39094: 
#line 2236
    schedule_timeout(25L);
  } else {

  }
#line 2238
  chip->idle_counter = 0;
#line 2238
  chip->rtsx_stat = 2;
#line 2240
  addr = *(srb->cmnd + 4UL);
#line 2241
  len = *(srb->cmnd + 5UL);
#line 2243
  tmp___4 = vmalloc((unsigned long )len);
#line 2243
  buf = (u8 *)tmp___4;
#line 2244
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2245
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_efuse", 2245);
#line 2246
    return (3);
  } else {

  }
#line 2249
  retval = rtsx_force_power_on(chip, 1);
#line 2250
  if (retval != 0) {
#line 2251
    vfree((void const   *)buf);
#line 2252
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 2254
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_efuse", 2254);
#line 2255
    return (1);
  } else {

  }
#line 2258
  i = 0U;
#line 2258
  goto ldv_39102;
  ldv_39101: 
#line 2259
  retval = rtsx_read_efuse(chip, (int )addr + (int )i, buf + (unsigned long )i);
#line 2260
  if (retval != 0) {
#line 2261
    vfree((void const   *)buf);
#line 2262
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 2264
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_efuse", 2264);
#line 2265
    return (1);
  } else {

  }
#line 2258
  i = (u8 )((int )i + 1);
  ldv_39102: ;
#line 2258
  if ((int )i < (int )len) {
#line 2260
    goto ldv_39101;
  } else {

  }
#line 2269
  tmp___5 = scsi_bufflen(srb);
#line 2269
  __min1 = tmp___5;
#line 2269
  __min2 = (unsigned int )len;
#line 2269
  len = (unsigned char )(__min1 < __min2 ? __min1 : __min2);
#line 2270
  rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 2271
  tmp___6 = scsi_bufflen(srb);
#line 2271
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2273
  vfree((void const   *)buf);
#line 2275
  return (0);
}
}
#line 2278 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_efuse(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  int result ;
  u16 val ;
  u8 addr ;
  u8 len ;
  u8 i ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  void *tmp___5 ;
  unsigned int tmp___6 ;
  struct task_struct *tmp___7 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  struct task_struct *tmp___10 ;
  struct task_struct *tmp___11 ;
  struct task_struct *tmp___12 ;
  long volatile   __ret___1 ;
  struct task_struct *tmp___13 ;
  struct task_struct *tmp___14 ;
  struct task_struct *tmp___15 ;
  struct task_struct *tmp___16 ;
  struct task_struct *tmp___17 ;
  long volatile   __ret___2 ;
  struct task_struct *tmp___18 ;
  struct task_struct *tmp___19 ;
  struct task_struct *tmp___20 ;
  struct task_struct *tmp___21 ;
  struct task_struct *tmp___22 ;
  long volatile   __ret___3 ;
  struct task_struct *tmp___23 ;
  struct task_struct *tmp___24 ;
  struct task_struct *tmp___25 ;
  struct task_struct *tmp___26 ;

  {
#line 2280
  result = 0;
#line 2285
  rtsx_disable_aspm(chip);
#line 2287
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2288
    rtsx_exit_ss(chip);
#line 2289
    tmp = get_current();
#line 2289
    tmp->task_state_change = 0UL;
#line 2289
    __ret = 1L;
#line 2289
    switch (8UL) {
    case 1UL: 
#line 2289
    tmp___0 = get_current();
#line 2289
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2289
    goto ldv_39120;
    case 2UL: 
#line 2289
    tmp___1 = get_current();
#line 2289
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2289
    goto ldv_39120;
    case 4UL: 
#line 2289
    tmp___2 = get_current();
#line 2289
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2289
    goto ldv_39120;
    case 8UL: 
#line 2289
    tmp___3 = get_current();
#line 2289
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2289
    goto ldv_39120;
    default: 
#line 2289
    __xchg_wrong_size();
    }
    ldv_39120: 
#line 2289
    schedule_timeout(25L);
  } else {

  }
#line 2291
  chip->idle_counter = 0;
#line 2291
  chip->rtsx_stat = 2;
#line 2293
  addr = *(srb->cmnd + 4UL);
#line 2294
  len = *(srb->cmnd + 5UL);
#line 2296
  tmp___4 = scsi_bufflen(srb);
#line 2296
  __min1 = tmp___4;
#line 2296
  __min2 = (unsigned int )len;
#line 2296
  len = (unsigned char )(__min1 < __min2 ? __min1 : __min2);
#line 2297
  tmp___5 = vmalloc((unsigned long )len);
#line 2297
  buf = (u8 *)tmp___5;
#line 2298
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2299
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_efuse", 2299);
#line 2300
    return (3);
  } else {

  }
#line 2303
  rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 2304
  tmp___6 = scsi_bufflen(srb);
#line 2304
  scsi_set_resid(srb, (int )(tmp___6 - (unsigned int )len));
#line 2306
  retval = rtsx_force_power_on(chip, 1);
#line 2307
  if (retval != 0) {
#line 2308
    vfree((void const   *)buf);
#line 2309
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_efuse", 2309);
#line 2310
    return (3);
  } else {

  }
#line 2313
  if (chip->asic_code != 0) {
#line 2314
    retval = rtsx_read_phy_register(chip, 8, & val);
#line 2315
    if (retval != 0) {
#line 2316
      vfree((void const   *)buf);
#line 2317
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2317);
#line 2318
      return (3);
    } else {

    }
#line 2321
    retval = rtsx_write_register(chip, 65141, 6, 6);
#line 2323
    if (retval != 0) {
#line 2324
      vfree((void const   *)buf);
#line 2325
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2325);
#line 2326
      return (3);
    } else {

    }
#line 2329
    tmp___7 = get_current();
#line 2329
    tmp___7->task_state_change = 0UL;
#line 2329
    __ret___0 = 1L;
#line 2329
    switch (8UL) {
    case 1UL: 
#line 2329
    tmp___8 = get_current();
#line 2329
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 2329
    goto ldv_39132;
    case 2UL: 
#line 2329
    tmp___9 = get_current();
#line 2329
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___9->state): : "memory",
                         "cc");
#line 2329
    goto ldv_39132;
    case 4UL: 
#line 2329
    tmp___10 = get_current();
#line 2329
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___10->state): : "memory",
                         "cc");
#line 2329
    goto ldv_39132;
    case 8UL: 
#line 2329
    tmp___11 = get_current();
#line 2329
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___11->state): : "memory",
                         "cc");
#line 2329
    goto ldv_39132;
    default: 
#line 2329
    __xchg_wrong_size();
    }
    ldv_39132: 
#line 2329
    schedule_timeout(150L);
#line 2331
    retval = rtsx_write_phy_register(chip, 8, (int )((unsigned int )((u16 )chip->phy_voltage) | 19456U));
#line 2333
    if (retval != 0) {
#line 2334
      vfree((void const   *)buf);
#line 2335
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2335);
#line 2336
      return (3);
    } else {

    }
#line 2339
    retval = rtsx_write_register(chip, 65141, 6, 0);
#line 2341
    if (retval != 0) {
#line 2342
      vfree((void const   *)buf);
#line 2343
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2343);
#line 2344
      return (3);
    } else {

    }
#line 2347
    tmp___12 = get_current();
#line 2347
    tmp___12->task_state_change = 0UL;
#line 2347
    __ret___1 = 1L;
#line 2347
    switch (8UL) {
    case 1UL: 
#line 2347
    tmp___13 = get_current();
#line 2347
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___1), "+m" (tmp___13->state): : "memory",
                         "cc");
#line 2347
    goto ldv_39140;
    case 2UL: 
#line 2347
    tmp___14 = get_current();
#line 2347
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___1), "+m" (tmp___14->state): : "memory",
                         "cc");
#line 2347
    goto ldv_39140;
    case 4UL: 
#line 2347
    tmp___15 = get_current();
#line 2347
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___1), "+m" (tmp___15->state): : "memory",
                         "cc");
#line 2347
    goto ldv_39140;
    case 8UL: 
#line 2347
    tmp___16 = get_current();
#line 2347
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___1), "+m" (tmp___16->state): : "memory",
                         "cc");
#line 2347
    goto ldv_39140;
    default: 
#line 2347
    __xchg_wrong_size();
    }
    ldv_39140: 
#line 2347
    schedule_timeout(150L);
  } else {

  }
#line 2350
  retval = card_power_on(chip, 128);
#line 2351
  if (retval != 0) {
#line 2352
    vfree((void const   *)buf);
#line 2353
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_efuse", 2353);
#line 2354
    return (3);
  } else {

  }
#line 2357
  tmp___17 = get_current();
#line 2357
  tmp___17->task_state_change = 0UL;
#line 2357
  __ret___2 = 1L;
#line 2357
  switch (8UL) {
  case 1UL: 
#line 2357
  tmp___18 = get_current();
#line 2357
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___2), "+m" (tmp___18->state): : "memory",
                       "cc");
#line 2357
  goto ldv_39148;
  case 2UL: 
#line 2357
  tmp___19 = get_current();
#line 2357
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___2), "+m" (tmp___19->state): : "memory",
                       "cc");
#line 2357
  goto ldv_39148;
  case 4UL: 
#line 2357
  tmp___20 = get_current();
#line 2357
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___2), "+m" (tmp___20->state): : "memory",
                       "cc");
#line 2357
  goto ldv_39148;
  case 8UL: 
#line 2357
  tmp___21 = get_current();
#line 2357
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___2), "+m" (tmp___21->state): : "memory",
                       "cc");
#line 2357
  goto ldv_39148;
  default: 
#line 2357
  __xchg_wrong_size();
  }
  ldv_39148: 
#line 2357
  schedule_timeout(12L);
#line 2359
  i = 0U;
#line 2359
  goto ldv_39156;
  ldv_39155: 
#line 2360
  retval = rtsx_write_efuse(chip, (int )addr + (int )i, (int )*(buf + (unsigned long )i));
#line 2361
  if (retval != 0) {
#line 2362
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2364
    result = 1;
#line 2365
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_efuse", 2365);
#line 2366
    goto Exit;
  } else {

  }
#line 2359
  i = (u8 )((int )i + 1);
  ldv_39156: ;
#line 2359
  if ((int )i < (int )len) {
#line 2361
    goto ldv_39155;
  } else {

  }

  Exit: 
#line 2371
  vfree((void const   *)buf);
#line 2373
  retval = card_power_off(chip, 128);
#line 2374
  if (retval != 0) {
#line 2375
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_efuse", 2375);
#line 2376
    return (3);
  } else {

  }
#line 2379
  if (chip->asic_code != 0) {
#line 2380
    retval = rtsx_write_register(chip, 65141, 6, 6);
#line 2382
    if (retval != 0) {
#line 2383
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2383);
#line 2384
      return (3);
    } else {

    }
#line 2387
    tmp___22 = get_current();
#line 2387
    tmp___22->task_state_change = 0UL;
#line 2387
    __ret___3 = 1L;
#line 2387
    switch (8UL) {
    case 1UL: 
#line 2387
    tmp___23 = get_current();
#line 2387
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___3), "+m" (tmp___23->state): : "memory",
                         "cc");
#line 2387
    goto ldv_39160;
    case 2UL: 
#line 2387
    tmp___24 = get_current();
#line 2387
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___3), "+m" (tmp___24->state): : "memory",
                         "cc");
#line 2387
    goto ldv_39160;
    case 4UL: 
#line 2387
    tmp___25 = get_current();
#line 2387
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___3), "+m" (tmp___25->state): : "memory",
                         "cc");
#line 2387
    goto ldv_39160;
    case 8UL: 
#line 2387
    tmp___26 = get_current();
#line 2387
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___3), "+m" (tmp___26->state): : "memory",
                         "cc");
#line 2387
    goto ldv_39160;
    default: 
#line 2387
    __xchg_wrong_size();
    }
    ldv_39160: 
#line 2387
    schedule_timeout(150L);
#line 2389
    retval = rtsx_write_phy_register(chip, 8, (int )val);
#line 2390
    if (retval != 0) {
#line 2391
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2391);
#line 2392
      return (3);
    } else {

    }
#line 2395
    retval = rtsx_write_register(chip, 65141, 6, 0);
#line 2397
    if (retval != 0) {
#line 2398
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "write_efuse", 2398);
#line 2399
      return (3);
    } else {

    }
  } else {

  }
#line 2403
  return (result);
}
}
#line 2406 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_cfg_byte(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  bool func_max ;
  u8 func ;
  u16 addr ;
  u16 len ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct _ddebug descriptor ;
  struct device *tmp___4 ;
  long tmp___5 ;
  void *tmp___6 ;
  unsigned int __min1 ;
  unsigned int tmp___7 ;
  unsigned int __min2 ;
  unsigned int tmp___8 ;

  {
#line 2414
  rtsx_disable_aspm(chip);
#line 2416
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2417
    rtsx_exit_ss(chip);
#line 2418
    tmp = get_current();
#line 2418
    tmp->task_state_change = 0UL;
#line 2418
    __ret = 1L;
#line 2418
    switch (8UL) {
    case 1UL: 
#line 2418
    tmp___0 = get_current();
#line 2418
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2418
    goto ldv_39178;
    case 2UL: 
#line 2418
    tmp___1 = get_current();
#line 2418
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2418
    goto ldv_39178;
    case 4UL: 
#line 2418
    tmp___2 = get_current();
#line 2418
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2418
    goto ldv_39178;
    case 8UL: 
#line 2418
    tmp___3 = get_current();
#line 2418
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2418
    goto ldv_39178;
    default: 
#line 2418
    __xchg_wrong_size();
    }
    ldv_39178: 
#line 2418
    schedule_timeout(25L);
  } else {

  }
#line 2420
  chip->idle_counter = 0;
#line 2420
  chip->rtsx_stat = 2;
#line 2422
  func = *(srb->cmnd + 3UL);
#line 2423
  addr = (u16 )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2424
  len = (u16 )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 2426
  descriptor.modname = "rts5208";
#line 2426
  descriptor.function = "read_cfg_byte";
#line 2426
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 2426
  descriptor.format = "%s: func = %d, addr = 0x%x, len = %d\n";
#line 2426
  descriptor.lineno = 2427U;
#line 2426
  descriptor.flags = 0U;
#line 2426
  tmp___5 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2426
  if (tmp___5 != 0L) {
#line 2426
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2426
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___4, "%s: func = %d, addr = 0x%x, len = %d\n",
                      "read_cfg_byte", (int )func, (int )addr, (int )len);
  } else {

  }
#line 2429
  if (chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) {
#line 2430
    func_max = 1;
  } else {
#line 2432
    func_max = 0;
  }
#line 2434
  if ((int )func > (int )func_max) {
#line 2435
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 2437
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_cfg_byte", 2437);
#line 2438
    return (1);
  } else {

  }
#line 2441
  tmp___6 = vmalloc((unsigned long )len);
#line 2441
  buf = (u8 *)tmp___6;
#line 2442
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2443
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_cfg_byte", 2443);
#line 2444
    return (3);
  } else {

  }
#line 2447
  retval = rtsx_read_cfg_seq(chip, (int )func, (int )addr, buf, (int )len);
#line 2448
  if (retval != 0) {
#line 2449
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
#line 2451
    vfree((void const   *)buf);
#line 2452
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "read_cfg_byte", 2452);
#line 2453
    return (1);
  } else {

  }
#line 2456
  tmp___7 = scsi_bufflen(srb);
#line 2456
  __min1 = tmp___7;
#line 2456
  __min2 = (unsigned int )len;
#line 2456
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2457
  rtsx_stor_set_xfer_buf(buf, (unsigned int )len, srb);
#line 2458
  tmp___8 = scsi_bufflen(srb);
#line 2458
  scsi_set_resid(srb, (int )(tmp___8 - (unsigned int )len));
#line 2460
  vfree((void const   *)buf);
#line 2462
  return (0);
}
}
#line 2465 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int write_cfg_byte(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  bool func_max ;
  u8 func ;
  u16 addr ;
  u16 len ;
  u8 *buf ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct _ddebug descriptor ;
  struct device *tmp___4 ;
  long tmp___5 ;
  unsigned int __min1 ;
  unsigned int tmp___6 ;
  unsigned int __min2 ;
  void *tmp___7 ;
  unsigned int tmp___8 ;

  {
#line 2473
  rtsx_disable_aspm(chip);
#line 2475
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2476
    rtsx_exit_ss(chip);
#line 2477
    tmp = get_current();
#line 2477
    tmp->task_state_change = 0UL;
#line 2477
    __ret = 1L;
#line 2477
    switch (8UL) {
    case 1UL: 
#line 2477
    tmp___0 = get_current();
#line 2477
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2477
    goto ldv_39201;
    case 2UL: 
#line 2477
    tmp___1 = get_current();
#line 2477
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2477
    goto ldv_39201;
    case 4UL: 
#line 2477
    tmp___2 = get_current();
#line 2477
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2477
    goto ldv_39201;
    case 8UL: 
#line 2477
    tmp___3 = get_current();
#line 2477
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2477
    goto ldv_39201;
    default: 
#line 2477
    __xchg_wrong_size();
    }
    ldv_39201: 
#line 2477
    schedule_timeout(25L);
  } else {

  }
#line 2479
  chip->idle_counter = 0;
#line 2479
  chip->rtsx_stat = 2;
#line 2481
  func = *(srb->cmnd + 3UL);
#line 2482
  addr = (u16 )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 2483
  len = (u16 )((int )((short )((int )*(srb->cmnd + 6UL) << 8)) | (int )((short )*(srb->cmnd + 7UL)));
#line 2485
  descriptor.modname = "rts5208";
#line 2485
  descriptor.function = "write_cfg_byte";
#line 2485
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 2485
  descriptor.format = "%s: func = %d, addr = 0x%x\n";
#line 2485
  descriptor.lineno = 2486U;
#line 2485
  descriptor.flags = 0U;
#line 2485
  tmp___5 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2485
  if (tmp___5 != 0L) {
#line 2485
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2485
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___4, "%s: func = %d, addr = 0x%x\n",
                      "write_cfg_byte", (int )func, (int )addr);
  } else {

  }
#line 2488
  if (chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) {
#line 2489
    func_max = 1;
  } else {
#line 2491
    func_max = 0;
  }
#line 2493
  if ((int )func > (int )func_max) {
#line 2494
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 2496
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_cfg_byte", 2496);
#line 2497
    return (1);
  } else {

  }
#line 2500
  tmp___6 = scsi_bufflen(srb);
#line 2500
  __min1 = tmp___6;
#line 2500
  __min2 = (unsigned int )len;
#line 2500
  len = (unsigned short )(__min1 < __min2 ? __min1 : __min2);
#line 2501
  tmp___7 = vmalloc((unsigned long )len);
#line 2501
  buf = (u8 *)tmp___7;
#line 2502
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 2503
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_cfg_byte", 2503);
#line 2504
    return (3);
  } else {

  }
#line 2507
  rtsx_stor_get_xfer_buf(buf, (unsigned int )len, srb);
#line 2508
  tmp___8 = scsi_bufflen(srb);
#line 2508
  scsi_set_resid(srb, (int )(tmp___8 - (unsigned int )len));
#line 2510
  retval = rtsx_write_cfg_seq(chip, (int )func, (int )addr, buf, (int )len);
#line 2511
  if (retval != 0) {
#line 2512
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
#line 2513
    vfree((void const   *)buf);
#line 2514
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "write_cfg_byte", 2514);
#line 2515
    return (1);
  } else {

  }
#line 2518
  vfree((void const   *)buf);
#line 2520
  return (0);
}
}
#line 2523 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int app_cmd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int result ;

  {
#line 2527
  switch ((int )*(srb->cmnd + 2UL)) {
  case 26: ;
  case 10: 
#line 2530
  result = read_write(srb, chip);
#line 2531
  goto ldv_39219;
  case 29: 
#line 2534
  result = read_host_reg(srb, chip);
#line 2535
  goto ldv_39219;
  case 13: 
#line 2538
  result = write_host_reg(srb, chip);
#line 2539
  goto ldv_39219;
  case 21: 
#line 2542
  result = get_variable(srb, chip);
#line 2543
  goto ldv_39219;
  case 5: 
#line 2546
  result = set_variable(srb, chip);
#line 2547
  goto ldv_39219;
  case 22: ;
  case 6: 
#line 2551
  result = dma_access_ring_buffer(srb, chip);
#line 2552
  goto ldv_39219;
  case 23: 
#line 2555
  result = read_phy_register(srb, chip);
#line 2556
  goto ldv_39219;
  case 7: 
#line 2559
  result = write_phy_register(srb, chip);
#line 2560
  goto ldv_39219;
  case 35: 
#line 2563
  result = erase_eeprom2(srb, chip);
#line 2564
  goto ldv_39219;
  case 19: 
#line 2567
  result = read_eeprom2(srb, chip);
#line 2568
  goto ldv_39219;
  case 3: 
#line 2571
  result = write_eeprom2(srb, chip);
#line 2572
  goto ldv_39219;
  case 20: 
#line 2575
  result = read_efuse(srb, chip);
#line 2576
  goto ldv_39219;
  case 4: 
#line 2579
  result = write_efuse(srb, chip);
#line 2580
  goto ldv_39219;
  case 30: 
#line 2583
  result = read_cfg_byte(srb, chip);
#line 2584
  goto ldv_39219;
  case 14: 
#line 2587
  result = write_cfg_byte(srb, chip);
#line 2588
  goto ldv_39219;
  case 39: 
#line 2591
  result = set_chip_mode(srb, chip);
#line 2592
  goto ldv_39219;
  case 224: 
#line 2595
  result = suit_cmd(srb, chip);
#line 2596
  goto ldv_39219;
  case 16: 
#line 2599
  result = get_dev_status(srb, chip);
#line 2600
  goto ldv_39219;
  default: 
#line 2603
  set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 2605
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "app_cmd", 2605);
#line 2606
  return (1);
  }
  ldv_39219: ;
#line 2609
  return (result);
}
}
#line 2613 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int read_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  u8 rtsx_status[16U] ;
  int buf_len ;
  unsigned int lun ;
  int tmp ;
  int tmp___0 ;
  struct sd_info *sd_card ;
  struct ms_info *ms_card ;
  u8 tmp___1 ;
  u8 tmp___2 ;
  u8 tmp___3 ;
  unsigned int __min1 ;
  unsigned int tmp___4 ;
  unsigned int __min2 ;
  unsigned int tmp___5 ;

  {
#line 2617
  lun = (unsigned int )(srb->device)->lun;
#line 2619
  rtsx_status[0] = (unsigned char )((int )chip->vendor_id >> 8);
#line 2620
  rtsx_status[1] = (unsigned char )chip->vendor_id;
#line 2622
  rtsx_status[2] = (unsigned char )((int )chip->product_id >> 8);
#line 2623
  rtsx_status[3] = (unsigned char )chip->product_id;
#line 2625
  rtsx_status[4] = (unsigned char )lun;
#line 2627
  if ((unsigned int )chip->lun_mode == 1U) {
#line 2628
    if ((unsigned int )chip->lun2card[lun] == 4U) {
#line 2629
      rtsx_status[5] = 2U;
    } else {
#line 2631
      rtsx_status[5] = 3U;
    }
  } else
#line 2633
  if ((unsigned int )chip->card_exist != 0U) {
#line 2634
    if (((int )chip->card_exist & 16) != 0) {
#line 2635
      rtsx_status[5] = 4U;
    } else
#line 2636
    if (((int )chip->card_exist & 4) != 0) {
#line 2637
      rtsx_status[5] = 2U;
    } else
#line 2638
    if (((int )chip->card_exist & 8) != 0) {
#line 2639
      rtsx_status[5] = 3U;
    } else {
#line 2641
      rtsx_status[5] = 7U;
    }
  } else {
#line 2643
    rtsx_status[5] = 7U;
  }
#line 2647
  if ((unsigned int )chip->lun_mode == 1U) {
#line 2648
    rtsx_status[6] = 2U;
  } else {
#line 2650
    rtsx_status[6] = 1U;
  }
#line 2652
  rtsx_status[7] = (unsigned char )chip->product_id;
#line 2653
  rtsx_status[8] = chip->ic_version;
#line 2655
  tmp = check_card_exist(chip, lun);
#line 2655
  if (tmp != 0) {
#line 2656
    rtsx_status[9] = 1U;
  } else {
#line 2658
    rtsx_status[9] = 0U;
  }
#line 2660
  if ((unsigned int )chip->lun_mode == 1U) {
#line 2661
    rtsx_status[10] = 0U;
  } else {
#line 2663
    rtsx_status[10] = 1U;
  }
#line 2665
  if ((unsigned int )chip->lun_mode == 1U) {
#line 2666
    if ((unsigned int )chip->lun2card[lun] == 4U) {
#line 2667
      rtsx_status[11] = 4U;
    } else {
#line 2669
      rtsx_status[11] = 8U;
    }
  } else {
#line 2671
    rtsx_status[11] = 28U;
  }
#line 2674
  tmp___0 = check_card_ready(chip, lun);
#line 2674
  if (tmp___0 != 0) {
#line 2675
    rtsx_status[12] = 1U;
  } else {
#line 2677
    rtsx_status[12] = 0U;
  }
#line 2679
  tmp___3 = get_lun_card(chip, lun);
#line 2679
  if ((unsigned int )tmp___3 == 16U) {
#line 2680
    rtsx_status[13] = 64U;
  } else {
#line 2681
    tmp___2 = get_lun_card(chip, lun);
#line 2681
    if ((unsigned int )tmp___2 == 4U) {
#line 2682
      sd_card = & chip->sd_card;
#line 2684
      rtsx_status[13] = 32U;
#line 2685
      if (((int )sd_card->sd_type & 255) == 0) {
#line 2686
        if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 4096) != 0) {
#line 2687
          rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 4U);
        } else {

        }
#line 2688
        if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 256) != 0) {
#line 2689
          rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 2U);
        } else {

        }
      } else {
#line 2691
        rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 8U);
#line 2692
        if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 512) != 0) {
#line 2693
          rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 2U);
        } else {

        }
#line 2694
        if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 4096) != 0) {
#line 2695
          rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 4U);
        } else {

        }
      }
    } else {
#line 2697
      tmp___1 = get_lun_card(chip, lun);
#line 2697
      if ((unsigned int )tmp___1 == 8U) {
#line 2698
        ms_card = & chip->ms_card;
#line 2700
        if (((int )ms_card->ms_type & 255) == 1) {
#line 2701
          rtsx_status[13] = 56U;
#line 2702
          if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1536) == 1536) {
#line 2703
            rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 4U);
          } else {

          }
#line 2705
          if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 2706
            rtsx_status[13] = (u8 )((unsigned int )rtsx_status[13] | 1U);
          } else {

          }
        } else {
#line 2709
          rtsx_status[13] = 48U;
        }
      } else
#line 2712
      if ((unsigned int )chip->lun_mode == 0U) {
#line 2719
        rtsx_status[13] = 112U;
      } else
#line 2722
      if ((unsigned int )chip->lun2card[lun] == 4U) {
#line 2723
        rtsx_status[13] = 32U;
      } else {
#line 2725
        rtsx_status[13] = 48U;
      }
    }
  }
#line 2729
  rtsx_status[14] = 120U;
#line 2730
  if (chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) {
#line 2731
    rtsx_status[15] = 131U;
  } else {
#line 2733
    rtsx_status[15] = 130U;
  }
#line 2735
  tmp___4 = scsi_bufflen(srb);
#line 2735
  __min1 = tmp___4;
#line 2735
  __min2 = 16U;
#line 2735
  buf_len = (int )(__min1 < __min2 ? __min1 : __min2);
#line 2736
  rtsx_stor_set_xfer_buf((unsigned char *)(& rtsx_status), (unsigned int )buf_len,
                         srb);
#line 2737
  tmp___5 = scsi_bufflen(srb);
#line 2737
  scsi_set_resid(srb, (int )(tmp___5 - (unsigned int )buf_len));
#line 2739
  return (0);
}
}
#line 2742 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int get_card_bus_width(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  u8 card ;
  u8 bus_width ;
  int tmp ;
  unsigned int tmp___0 ;

  {
#line 2744
  lun = (unsigned int )(srb->device)->lun;
#line 2747
  tmp = check_card_ready(chip, lun);
#line 2747
  if (tmp == 0) {
#line 2748
    set_sense_type(chip, lun, 2);
#line 2749
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_card_bus_width", 2749);
#line 2750
    return (1);
  } else {

  }
#line 2753
  card = get_lun_card(chip, lun);
#line 2754
  if ((unsigned int )card == 4U || (unsigned int )card == 8U) {
#line 2755
    bus_width = chip->card_bus_width[lun];
  } else {
#line 2757
    set_sense_type(chip, lun, 7);
#line 2758
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_card_bus_width", 2758);
#line 2759
    return (1);
  }
#line 2762
  scsi_set_resid(srb, 0);
#line 2763
  tmp___0 = scsi_bufflen(srb);
#line 2763
  rtsx_stor_set_xfer_buf(& bus_width, tmp___0, srb);
#line 2765
  return (0);
}
}
#line 2768 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int spi_vendor_cmd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int result ;
  unsigned int lun ;
  u8 gpio_dir ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 2771
  lun = (unsigned int )(srb->device)->lun;
#line 2774
  if ((unsigned int )chip->product_id == 21000U || (unsigned int )chip->product_id == 21128U) {
#line 2775
    set_sense_type(chip, lun, 6);
#line 2776
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "spi_vendor_cmd", 2776);
#line 2777
    return (1);
  } else {

  }
#line 2780
  rtsx_disable_aspm(chip);
#line 2782
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2783
    rtsx_exit_ss(chip);
#line 2784
    tmp = get_current();
#line 2784
    tmp->task_state_change = 0UL;
#line 2784
    __ret = 1L;
#line 2784
    switch (8UL) {
    case 1UL: 
#line 2784
    tmp___0 = get_current();
#line 2784
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2784
    goto ldv_39270;
    case 2UL: 
#line 2784
    tmp___1 = get_current();
#line 2784
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2784
    goto ldv_39270;
    case 4UL: 
#line 2784
    tmp___2 = get_current();
#line 2784
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2784
    goto ldv_39270;
    case 8UL: 
#line 2784
    tmp___3 = get_current();
#line 2784
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2784
    goto ldv_39270;
    default: 
#line 2784
    __xchg_wrong_size();
    }
    ldv_39270: 
#line 2784
    schedule_timeout(25L);
  } else {

  }
#line 2786
  chip->idle_counter = 0;
#line 2786
  chip->rtsx_stat = 2;
#line 2788
  rtsx_force_power_on(chip, 1);
#line 2790
  rtsx_read_register(chip, 64855, & gpio_dir);
#line 2791
  rtsx_write_register(chip, 64855, 7, (int )gpio_dir & 6);
#line 2793
  switch ((int )*(srb->cmnd + 2UL)) {
  case 0: 
#line 2795
  result = spi_get_status(srb, chip);
#line 2796
  goto ldv_39277;
  case 1: 
#line 2799
  result = spi_set_parameter(srb, chip);
#line 2800
  goto ldv_39277;
  case 2: 
#line 2803
  result = spi_read_flash_id(srb, chip);
#line 2804
  goto ldv_39277;
  case 3: 
#line 2807
  result = spi_read_flash(srb, chip);
#line 2808
  goto ldv_39277;
  case 4: 
#line 2811
  result = spi_write_flash(srb, chip);
#line 2812
  goto ldv_39277;
  case 5: 
#line 2815
  result = spi_write_flash_status(srb, chip);
#line 2816
  goto ldv_39277;
  case 6: 
#line 2819
  result = spi_erase_flash(srb, chip);
#line 2820
  goto ldv_39277;
  default: 
#line 2823
  rtsx_write_register(chip, 64855, 7, (int )gpio_dir);
#line 2825
  set_sense_type(chip, lun, 6);
#line 2826
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "spi_vendor_cmd", 2826);
#line 2827
  return (1);
  }
  ldv_39277: 
#line 2830
  rtsx_write_register(chip, 64855, 7, (int )gpio_dir);
#line 2832
  if (result != 0) {
#line 2833
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "spi_vendor_cmd", 2833);
#line 2834
    return (1);
  } else {

  }
#line 2837
  return (0);
}
}
#line 2840 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int vendor_cmnd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int result ;

  {
#line 2844
  switch ((int )*(srb->cmnd + 1UL)) {
  case 9: 
#line 2846
  result = read_status(srb, chip);
#line 2847
  goto ldv_39291;
  case 13: 
#line 2850
  result = read_mem(srb, chip);
#line 2851
  goto ldv_39291;
  case 14: 
#line 2854
  result = write_mem(srb, chip);
#line 2855
  goto ldv_39291;
  case 4: 
#line 2858
  result = read_eeprom(srb, chip);
#line 2859
  goto ldv_39291;
  case 5: 
#line 2862
  result = write_eeprom(srb, chip);
#line 2863
  goto ldv_39291;
  case 21: 
#line 2866
  result = toggle_gpio_cmd(srb, chip);
#line 2867
  goto ldv_39291;
  case 20: 
#line 2870
  result = get_sd_csd(srb, chip);
#line 2871
  goto ldv_39291;
  case 19: 
#line 2874
  result = get_card_bus_width(srb, chip);
#line 2875
  goto ldv_39291;
  case 24: 
#line 2879
  result = trace_msg_cmd(srb, chip);
#line 2880
  goto ldv_39291;
  case 16: 
#line 2884
  result = app_cmd(srb, chip);
#line 2885
  goto ldv_39291;
  case 28: 
#line 2888
  result = spi_vendor_cmd(srb, chip);
#line 2889
  goto ldv_39291;
  default: 
#line 2892
  set_sense_type(chip, (unsigned int )(srb->device)->lun, 6);
#line 2894
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "vendor_cmnd", 2894);
#line 2895
  return (1);
  }
  ldv_39291: ;
#line 2898
  return (result);
}
}
#line 2925 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int ms_format_cmnd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  unsigned int lun ;
  bool quick_format ;
  int retval ;
  u8 tmp ;
  struct task_struct *tmp___0 ;
  long volatile   __ret ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  int tmp___5 ;
  u32 tmp___6 ;

  {
#line 2927
  ms_card = & chip->ms_card;
#line 2928
  lun = (unsigned int )(srb->device)->lun;
#line 2932
  tmp = get_lun_card(chip, lun);
#line 2932
  if ((unsigned int )tmp != 8U) {
#line 2933
    set_sense_type(chip, lun, 4);
#line 2934
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2934);
#line 2935
    return (1);
  } else {

  }
#line 2938
  if (((((unsigned int )*(srb->cmnd + 3UL) != 77U || (unsigned int )*(srb->cmnd + 4UL) != 71U) || (unsigned int )*(srb->cmnd + 5UL) != 102U) || (unsigned int )*(srb->cmnd + 6UL) != 109U) || (unsigned int )*(srb->cmnd + 7UL) != 116U) {
#line 2941
    set_sense_type(chip, lun, 6);
#line 2942
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2942);
#line 2943
    return (1);
  } else {

  }
#line 2946
  rtsx_disable_aspm(chip);
#line 2948
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 2949
    rtsx_exit_ss(chip);
#line 2950
    tmp___0 = get_current();
#line 2950
    tmp___0->task_state_change = 0UL;
#line 2950
    __ret = 1L;
#line 2950
    switch (8UL) {
    case 1UL: 
#line 2950
    tmp___1 = get_current();
#line 2950
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2950
    goto ldv_39315;
    case 2UL: 
#line 2950
    tmp___2 = get_current();
#line 2950
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2950
    goto ldv_39315;
    case 4UL: 
#line 2950
    tmp___3 = get_current();
#line 2950
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2950
    goto ldv_39315;
    case 8UL: 
#line 2950
    tmp___4 = get_current();
#line 2950
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                         "cc");
#line 2950
    goto ldv_39315;
    default: 
#line 2950
    __xchg_wrong_size();
    }
    ldv_39315: 
#line 2950
    schedule_timeout(25L);
#line 2952
    tmp___5 = check_card_ready(chip, lun);
#line 2952
    if (tmp___5 == 0) {
#line 2954
      set_sense_type(chip, lun, 2);
#line 2955
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "ms_format_cmnd", 2955);
#line 2956
      return (1);
    } else {
#line 2952
      tmp___6 = get_card_size(chip, lun);
#line 2952
      if (tmp___6 == 0U) {
#line 2954
        set_sense_type(chip, lun, 2);
#line 2955
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                    "ms_format_cmnd", 2955);
#line 2956
        return (1);
      } else {

      }
    }
  } else {

  }
#line 2959
  chip->idle_counter = 0;
#line 2959
  chip->rtsx_stat = 2;
#line 2961
  if ((int )*(srb->cmnd + 8UL) & 1) {
#line 2962
    quick_format = 0;
  } else {
#line 2964
    quick_format = 1;
  }
#line 2966
  if (((int )chip->card_ready & 8) == 0) {
#line 2967
    set_sense_type(chip, lun, 2);
#line 2968
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2968);
#line 2969
    return (1);
  } else {

  }
#line 2972
  if (((int )chip->card_wp & 8) != 0) {
#line 2973
    set_sense_type(chip, lun, 5);
#line 2974
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2974);
#line 2975
    return (1);
  } else {

  }
#line 2978
  if (((int )ms_card->ms_type & 255) != 1) {
#line 2979
    set_sense_type(chip, lun, 4);
#line 2980
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2980);
#line 2981
    return (1);
  } else {

  }
#line 2984
  retval = mspro_format(srb, chip, 32, (int )quick_format);
#line 2985
  if (retval != 0) {
#line 2986
    set_sense_type(chip, lun, 10);
#line 2987
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "ms_format_cmnd", 2987);
#line 2988
    return (1);
  } else {

  }
#line 2991
  scsi_set_resid(srb, 0);
#line 2992
  return (0);
}
}
#line 2996 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int get_ms_information(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  unsigned int lun ;
  u8 dev_info_id ;
  u8 data_len ;
  u8 *buf ;
  unsigned int buf_len ;
  int i ;
  int tmp ;
  u8 tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  unsigned int tmp___15 ;
  unsigned int tmp___16 ;

  {
#line 2998
  ms_card = & chip->ms_card;
#line 2999
  lun = (unsigned int )(srb->device)->lun;
#line 3005
  tmp = check_card_ready(chip, lun);
#line 3005
  if (tmp == 0) {
#line 3006
    set_sense_type(chip, lun, 2);
#line 3007
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_ms_information", 3007);
#line 3008
    return (1);
  } else {

  }
#line 3010
  tmp___0 = get_lun_card(chip, lun);
#line 3010
  if ((unsigned int )tmp___0 != 8U) {
#line 3011
    set_sense_type(chip, lun, 4);
#line 3012
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_ms_information", 3012);
#line 3013
    return (1);
  } else {

  }
#line 3016
  if (((((unsigned int )*(srb->cmnd + 2UL) != 176U || (unsigned int )*(srb->cmnd + 4UL) != 77U) || (unsigned int )*(srb->cmnd + 5UL) != 83U) || (unsigned int )*(srb->cmnd + 6UL) != 73U) || (unsigned int )*(srb->cmnd + 7UL) != 68U) {
#line 3019
    set_sense_type(chip, lun, 6);
#line 3020
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_ms_information", 3020);
#line 3021
    return (1);
  } else {

  }
#line 3024
  dev_info_id = *(srb->cmnd + 3UL);
#line 3025
  if ((((((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) && (unsigned int )dev_info_id == 16U) || ((((int )ms_card->ms_type & 255) != 1 || ((int )ms_card->ms_type & 2048) == 0) && (unsigned int )dev_info_id == 19U)) || ((int )ms_card->ms_type & 255) != 1) {
#line 3028
    set_sense_type(chip, lun, 6);
#line 3029
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_ms_information", 3029);
#line 3030
    return (1);
  } else {

  }
#line 3033
  if ((unsigned int )dev_info_id == 21U) {
#line 3034
    data_len = 58U;
#line 3034
    buf_len = 58U;
  } else {
#line 3036
    data_len = 106U;
#line 3036
    buf_len = 106U;
  }
#line 3038
  tmp___1 = kmalloc((size_t )buf_len, 208U);
#line 3038
  buf = (u8 *)tmp___1;
#line 3039
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 3040
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "get_ms_information", 3040);
#line 3041
    return (3);
  } else {

  }
#line 3044
  i = 0;
#line 3046
  tmp___2 = i;
#line 3046
  i = i + 1;
#line 3046
  *(buf + (unsigned long )tmp___2) = 0U;
#line 3047
  tmp___3 = i;
#line 3047
  i = i + 1;
#line 3047
  *(buf + (unsigned long )tmp___3) = data_len;
#line 3049
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 3050
    tmp___4 = i;
#line 3050
    i = i + 1;
#line 3050
    *(buf + (unsigned long )tmp___4) = 3U;
  } else {
#line 3052
    tmp___5 = i;
#line 3052
    i = i + 1;
#line 3052
    *(buf + (unsigned long )tmp___5) = 2U;
  }
#line 3055
  tmp___6 = i;
#line 3055
  i = i + 1;
#line 3055
  *(buf + (unsigned long )tmp___6) = 1U;
#line 3057
  tmp___7 = i;
#line 3057
  i = i + 1;
#line 3057
  *(buf + (unsigned long )tmp___7) = 0U;
#line 3058
  tmp___8 = i;
#line 3058
  i = i + 1;
#line 3058
  *(buf + (unsigned long )tmp___8) = 0U;
#line 3059
  tmp___9 = i;
#line 3059
  i = i + 1;
#line 3059
  *(buf + (unsigned long )tmp___9) = 0U;
#line 3061
  tmp___10 = i;
#line 3061
  i = i + 1;
#line 3061
  *(buf + (unsigned long )tmp___10) = 1U;
#line 3066
  tmp___11 = i;
#line 3066
  i = i + 1;
#line 3066
  *(buf + (unsigned long )tmp___11) = dev_info_id;
#line 3068
  if ((unsigned int )dev_info_id == 21U) {
#line 3069
    data_len = 49U;
  } else {
#line 3071
    data_len = 97U;
  }
#line 3073
  tmp___12 = i;
#line 3073
  i = i + 1;
#line 3073
  *(buf + (unsigned long )tmp___12) = 0U;
#line 3074
  tmp___13 = i;
#line 3074
  i = i + 1;
#line 3074
  *(buf + (unsigned long )tmp___13) = data_len;
#line 3076
  tmp___14 = i;
#line 3076
  i = i + 1;
#line 3076
  *(buf + (unsigned long )tmp___14) = 128U;
#line 3077
  if ((unsigned int )dev_info_id == 16U || (unsigned int )dev_info_id == 19U) {
#line 3079
    memcpy((void *)buf + (unsigned long )i, (void const   *)(& ms_card->raw_sys_info),
             96UL);
  } else {
#line 3082
    memcpy((void *)buf + (unsigned long )i, (void const   *)(& ms_card->raw_model_name),
             48UL);
  }
#line 3085
  rtsx_stor_set_xfer_buf(buf, buf_len, srb);
#line 3087
  if ((unsigned int )dev_info_id == 21U) {
#line 3088
    tmp___15 = scsi_bufflen(srb);
#line 3088
    scsi_set_resid(srb, (int )(tmp___15 - 60U));
  } else {
#line 3090
    tmp___16 = scsi_bufflen(srb);
#line 3090
    scsi_set_resid(srb, (int )(tmp___16 - 108U));
  }
#line 3092
  kfree((void const   *)buf);
#line 3093
  return (0);
}
}
#line 3097 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int ms_sp_cmnd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 3099
  retval = 3;
#line 3101
  if ((unsigned int )*(srb->cmnd + 2UL) == 160U) {
#line 3102
    retval = ms_format_cmnd(srb, chip);
  } else
#line 3104
  if ((unsigned int )*(srb->cmnd + 2UL) == 176U) {
#line 3105
    retval = get_ms_information(srb, chip);
  } else {

  }
#line 3108
  return (retval);
}
}
#line 3112 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int sd_extention_cmnd(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  unsigned int lun ;
  int result ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  int tmp___4 ;
  u8 tmp___5 ;

  {
#line 3114
  lun = (unsigned int )(srb->device)->lun;
#line 3117
  rtsx_disable_aspm(chip);
#line 3119
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 3120
    rtsx_exit_ss(chip);
#line 3121
    tmp = get_current();
#line 3121
    tmp->task_state_change = 0UL;
#line 3121
    __ret = 1L;
#line 3121
    switch (8UL) {
    case 1UL: 
#line 3121
    tmp___0 = get_current();
#line 3121
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 3121
    goto ldv_39346;
    case 2UL: 
#line 3121
    tmp___1 = get_current();
#line 3121
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 3121
    goto ldv_39346;
    case 4UL: 
#line 3121
    tmp___2 = get_current();
#line 3121
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 3121
    goto ldv_39346;
    case 8UL: 
#line 3121
    tmp___3 = get_current();
#line 3121
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 3121
    goto ldv_39346;
    default: 
#line 3121
    __xchg_wrong_size();
    }
    ldv_39346: 
#line 3121
    schedule_timeout(25L);
  } else {

  }
#line 3123
  chip->idle_counter = 0;
#line 3123
  chip->rtsx_stat = 2;
#line 3125
  sd_cleanup_work(chip);
#line 3127
  tmp___4 = check_card_ready(chip, lun);
#line 3127
  if (tmp___4 == 0) {
#line 3128
    set_sense_type(chip, lun, 2);
#line 3129
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "sd_extention_cmnd", 3129);
#line 3130
    return (1);
  } else {

  }
#line 3132
  tmp___5 = get_lun_card(chip, lun);
#line 3132
  if ((unsigned int )tmp___5 != 4U) {
#line 3133
    set_sense_type(chip, lun, 4);
#line 3134
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "sd_extention_cmnd", 3134);
#line 3135
    return (1);
  } else {

  }
#line 3138
  switch ((int )*(srb->cmnd)) {
  case 208: 
#line 3140
  result = sd_pass_thru_mode(srb, chip);
#line 3141
  goto ldv_39354;
  case 209: 
#line 3144
  result = sd_execute_no_data(srb, chip);
#line 3145
  goto ldv_39354;
  case 210: 
#line 3148
  result = sd_execute_read_data(srb, chip);
#line 3149
  goto ldv_39354;
  case 211: 
#line 3152
  result = sd_execute_write_data(srb, chip);
#line 3153
  goto ldv_39354;
  case 212: 
#line 3156
  result = sd_get_cmd_rsp(srb, chip);
#line 3157
  goto ldv_39354;
  case 214: 
#line 3160
  result = sd_hw_rst(srb, chip);
#line 3161
  goto ldv_39354;
  default: 
#line 3164
  set_sense_type(chip, lun, 6);
#line 3165
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "sd_extention_cmnd", 3165);
#line 3166
  return (1);
  }
  ldv_39354: ;
#line 3169
  return (result);
}
}
#line 3174 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int mg_report_key(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  unsigned int lun ;
  int retval ;
  u8 key_format ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  int tmp___4 ;
  u8 tmp___5 ;
  struct _ddebug descriptor ;
  struct device *tmp___6 ;
  long tmp___7 ;
  unsigned int tmp___8 ;
  unsigned int tmp___9 ;
  unsigned int tmp___10 ;

  {
#line 3176
  ms_card = & chip->ms_card;
#line 3177
  lun = (unsigned int )(srb->device)->lun;
#line 3181
  rtsx_disable_aspm(chip);
#line 3183
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 3184
    rtsx_exit_ss(chip);
#line 3185
    tmp = get_current();
#line 3185
    tmp->task_state_change = 0UL;
#line 3185
    __ret = 1L;
#line 3185
    switch (8UL) {
    case 1UL: 
#line 3185
    tmp___0 = get_current();
#line 3185
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 3185
    goto ldv_39371;
    case 2UL: 
#line 3185
    tmp___1 = get_current();
#line 3185
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 3185
    goto ldv_39371;
    case 4UL: 
#line 3185
    tmp___2 = get_current();
#line 3185
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 3185
    goto ldv_39371;
    case 8UL: 
#line 3185
    tmp___3 = get_current();
#line 3185
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 3185
    goto ldv_39371;
    default: 
#line 3185
    __xchg_wrong_size();
    }
    ldv_39371: 
#line 3185
    schedule_timeout(25L);
  } else {

  }
#line 3187
  chip->idle_counter = 0;
#line 3187
  chip->rtsx_stat = 2;
#line 3189
  ms_cleanup_work(chip);
#line 3191
  tmp___4 = check_card_ready(chip, lun);
#line 3191
  if (tmp___4 == 0) {
#line 3192
    set_sense_type(chip, lun, 2);
#line 3193
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3193);
#line 3194
    return (1);
  } else {

  }
#line 3196
  tmp___5 = get_lun_card(chip, lun);
#line 3196
  if ((unsigned int )tmp___5 != 8U) {
#line 3197
    set_sense_type(chip, lun, 4);
#line 3198
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3198);
#line 3199
    return (1);
  } else {

  }
#line 3202
  if ((unsigned int )*(srb->cmnd + 7UL) != 190U) {
#line 3203
    set_sense_type(chip, lun, 6);
#line 3204
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3204);
#line 3205
    return (1);
  } else {

  }
#line 3208
  if (((int )ms_card->ms_type & 255) != 1) {
#line 3209
    set_sense_type(chip, lun, 13);
#line 3210
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3210);
#line 3211
    return (1);
  } else {

  }
#line 3214
  key_format = (unsigned int )*(srb->cmnd + 10UL) & 63U;
#line 3215
  descriptor.modname = "rts5208";
#line 3215
  descriptor.function = "mg_report_key";
#line 3215
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 3215
  descriptor.format = "key_format = 0x%x\n";
#line 3215
  descriptor.lineno = 3215U;
#line 3215
  descriptor.flags = 0U;
#line 3215
  tmp___7 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3215
  if (tmp___7 != 0L) {
#line 3215
    tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3215
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___6, "key_format = 0x%x\n",
                      (int )key_format);
  } else {

  }
#line 3217
  switch ((int )key_format) {
  case 50: 
#line 3219
  tmp___8 = scsi_bufflen(srb);
#line 3219
  if ((tmp___8 == 1052U && (unsigned int )*(srb->cmnd + 8UL) == 4U) && (unsigned int )*(srb->cmnd + 9UL) == 28U) {
#line 3222
    retval = mg_get_local_EKB(srb, chip);
#line 3223
    if (retval != 0) {
#line 3224
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_report_key", 3224);
#line 3225
      return (1);
    } else {

    }
  } else {
#line 3229
    set_sense_type(chip, lun, 6);
#line 3231
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3231);
#line 3232
    return (1);
  }
#line 3234
  goto ldv_39380;
  case 52: 
#line 3237
  tmp___9 = scsi_bufflen(srb);
#line 3237
  if ((tmp___9 == 36U && (unsigned int )*(srb->cmnd + 8UL) == 0U) && (unsigned int )*(srb->cmnd + 9UL) == 36U) {
#line 3240
    retval = mg_get_rsp_chg(srb, chip);
#line 3241
    if (retval != 0) {
#line 3242
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_report_key", 3242);
#line 3243
      return (1);
    } else {

    }
  } else {
#line 3247
    set_sense_type(chip, lun, 6);
#line 3249
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3249);
#line 3250
    return (1);
  }
#line 3252
  goto ldv_39380;
  case 54: 
#line 3255
  ms_card->mg_entry_num = *(srb->cmnd + 5UL);
#line 3256
  tmp___10 = scsi_bufflen(srb);
#line 3256
  if ((((((tmp___10 == 1028U && (unsigned int )*(srb->cmnd + 8UL) == 4U) && (unsigned int )*(srb->cmnd + 9UL) == 4U) && (unsigned int )*(srb->cmnd + 2UL) == 0U) && (unsigned int )*(srb->cmnd + 3UL) == 0U) && (unsigned int )*(srb->cmnd + 4UL) == 0U) && (unsigned int )*(srb->cmnd + 5UL) <= 31U) {
#line 3263
    retval = mg_get_ICV(srb, chip);
#line 3264
    if (retval != 0) {
#line 3265
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_report_key", 3265);
#line 3266
      return (1);
    } else {

    }
  } else {
#line 3270
    set_sense_type(chip, lun, 6);
#line 3272
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_report_key", 3272);
#line 3273
    return (1);
  }
#line 3275
  goto ldv_39380;
  default: 
#line 3278
  set_sense_type(chip, lun, 6);
#line 3279
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "mg_report_key", 3279);
#line 3280
  return (1);
  }
  ldv_39380: 
#line 3283
  scsi_set_resid(srb, 0);
#line 3284
  return (0);
}
}
#line 3287 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
static int mg_send_key(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  unsigned int lun ;
  int retval ;
  u8 key_format ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  u8 tmp___6 ;
  struct _ddebug descriptor ;
  struct device *tmp___7 ;
  long tmp___8 ;
  unsigned int tmp___9 ;
  unsigned int tmp___10 ;
  unsigned int tmp___11 ;
  unsigned int tmp___12 ;

  {
#line 3289
  ms_card = & chip->ms_card;
#line 3290
  lun = (unsigned int )(srb->device)->lun;
#line 3294
  rtsx_disable_aspm(chip);
#line 3296
  if (chip->ss_en != 0 && (unsigned int )chip->rtsx_stat == 3U) {
#line 3297
    rtsx_exit_ss(chip);
#line 3298
    tmp = get_current();
#line 3298
    tmp->task_state_change = 0UL;
#line 3298
    __ret = 1L;
#line 3298
    switch (8UL) {
    case 1UL: 
#line 3298
    tmp___0 = get_current();
#line 3298
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 3298
    goto ldv_39394;
    case 2UL: 
#line 3298
    tmp___1 = get_current();
#line 3298
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 3298
    goto ldv_39394;
    case 4UL: 
#line 3298
    tmp___2 = get_current();
#line 3298
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 3298
    goto ldv_39394;
    case 8UL: 
#line 3298
    tmp___3 = get_current();
#line 3298
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 3298
    goto ldv_39394;
    default: 
#line 3298
    __xchg_wrong_size();
    }
    ldv_39394: 
#line 3298
    schedule_timeout(25L);
  } else {

  }
#line 3300
  chip->idle_counter = 0;
#line 3300
  chip->rtsx_stat = 2;
#line 3302
  ms_cleanup_work(chip);
#line 3304
  tmp___4 = check_card_ready(chip, lun);
#line 3304
  if (tmp___4 == 0) {
#line 3305
    set_sense_type(chip, lun, 2);
#line 3306
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3306);
#line 3307
    return (1);
  } else {

  }
#line 3309
  tmp___5 = check_card_wp(chip, lun);
#line 3309
  if (tmp___5 != 0) {
#line 3310
    set_sense_type(chip, lun, 5);
#line 3311
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3311);
#line 3312
    return (1);
  } else {

  }
#line 3314
  tmp___6 = get_lun_card(chip, lun);
#line 3314
  if ((unsigned int )tmp___6 != 8U) {
#line 3315
    set_sense_type(chip, lun, 4);
#line 3316
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3316);
#line 3317
    return (1);
  } else {

  }
#line 3320
  if ((unsigned int )*(srb->cmnd + 7UL) != 190U) {
#line 3321
    set_sense_type(chip, lun, 6);
#line 3322
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3322);
#line 3323
    return (1);
  } else {

  }
#line 3326
  if (((int )ms_card->ms_type & 255) != 1) {
#line 3327
    set_sense_type(chip, lun, 13);
#line 3328
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3328);
#line 3329
    return (1);
  } else {

  }
#line 3332
  key_format = (unsigned int )*(srb->cmnd + 10UL) & 63U;
#line 3333
  descriptor.modname = "rts5208";
#line 3333
  descriptor.function = "mg_send_key";
#line 3333
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c";
#line 3333
  descriptor.format = "key_format = 0x%x\n";
#line 3333
  descriptor.lineno = 3333U;
#line 3333
  descriptor.flags = 0U;
#line 3333
  tmp___8 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3333
  if (tmp___8 != 0L) {
#line 3333
    tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3333
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___7, "key_format = 0x%x\n",
                      (int )key_format);
  } else {

  }
#line 3335
  switch ((int )key_format) {
  case 49: 
#line 3337
  tmp___9 = scsi_bufflen(srb);
#line 3337
  if ((tmp___9 == 12U && (unsigned int )*(srb->cmnd + 8UL) == 0U) && (unsigned int )*(srb->cmnd + 9UL) == 12U) {
#line 3340
    retval = mg_set_leaf_id(srb, chip);
#line 3341
    if (retval != 0) {
#line 3342
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_send_key", 3342);
#line 3343
      return (1);
    } else {

    }
  } else {
#line 3347
    set_sense_type(chip, lun, 6);
#line 3349
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3349);
#line 3350
    return (1);
  }
#line 3352
  goto ldv_39403;
  case 51: 
#line 3355
  tmp___10 = scsi_bufflen(srb);
#line 3355
  if ((tmp___10 == 12U && (unsigned int )*(srb->cmnd + 8UL) == 0U) && (unsigned int )*(srb->cmnd + 9UL) == 12U) {
#line 3358
    retval = mg_chg(srb, chip);
#line 3359
    if (retval != 0) {
#line 3360
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_send_key", 3360);
#line 3361
      return (1);
    } else {

    }
  } else {
#line 3365
    set_sense_type(chip, lun, 6);
#line 3367
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3367);
#line 3368
    return (1);
  }
#line 3370
  goto ldv_39403;
  case 53: 
#line 3373
  tmp___11 = scsi_bufflen(srb);
#line 3373
  if ((tmp___11 == 12U && (unsigned int )*(srb->cmnd + 8UL) == 0U) && (unsigned int )*(srb->cmnd + 9UL) == 12U) {
#line 3376
    retval = mg_rsp(srb, chip);
#line 3377
    if (retval != 0) {
#line 3378
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_send_key", 3378);
#line 3379
      return (1);
    } else {

    }
  } else {
#line 3383
    set_sense_type(chip, lun, 6);
#line 3385
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3385);
#line 3386
    return (1);
  }
#line 3388
  goto ldv_39403;
  case 55: 
#line 3391
  ms_card->mg_entry_num = *(srb->cmnd + 5UL);
#line 3392
  tmp___12 = scsi_bufflen(srb);
#line 3392
  if ((((((tmp___12 == 1028U && (unsigned int )*(srb->cmnd + 8UL) == 4U) && (unsigned int )*(srb->cmnd + 9UL) == 4U) && (unsigned int )*(srb->cmnd + 2UL) == 0U) && (unsigned int )*(srb->cmnd + 3UL) == 0U) && (unsigned int )*(srb->cmnd + 4UL) == 0U) && (unsigned int )*(srb->cmnd + 5UL) <= 31U) {
#line 3399
    retval = mg_set_ICV(srb, chip);
#line 3400
    if (retval != 0) {
#line 3401
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "mg_send_key", 3401);
#line 3402
      return (1);
    } else {

    }
  } else {
#line 3406
    set_sense_type(chip, lun, 6);
#line 3408
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                "mg_send_key", 3408);
#line 3409
    return (1);
  }
#line 3411
  goto ldv_39403;
  default: 
#line 3414
  set_sense_type(chip, lun, 6);
#line 3415
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
              "mg_send_key", 3415);
#line 3416
  return (1);
  }
  ldv_39403: 
#line 3419
  scsi_set_resid(srb, 0);
#line 3420
  return (0);
}
}
#line 3424 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c"
int rtsx_scsi_handler(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  struct ms_info *ms_card ;
  unsigned int lun ;
  int result ;
  u8 tmp ;

  {
#line 3427
  sd_card = & chip->sd_card;
#line 3429
  ms_card = & chip->ms_card;
#line 3430
  lun = (unsigned int )(srb->device)->lun;
#line 3434
  if ((unsigned int )sd_card->sd_erase_status != 0U) {
#line 3438
    if ((((unsigned int )*(srb->cmnd) != 240U || (unsigned int )*(srb->cmnd + 1UL) != 16U) || (unsigned int )*(srb->cmnd + 2UL) != 16U) && (unsigned int )*(srb->cmnd) != 3U) {
#line 3443
      set_sense_data(chip, lun, 112, 2, 0U, 4, 4, 0, 0);
#line 3445
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "rtsx_scsi_handler", 3445);
#line 3446
      return (1);
    } else {

    }
  } else {

  }
#line 3451
  tmp = get_lun_card(chip, lun);
#line 3451
  if ((unsigned int )tmp == 8U && ms_card->format_status == 2) {
#line 3453
    if ((unsigned int )*(srb->cmnd) != 3U && (unsigned int )*(srb->cmnd) != 18U) {
#line 3456
      set_sense_data(chip, lun, 112, 2, 0U, 4, 4, 0, (int )ms_card->progress);
#line 3458
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.c",
                  "rtsx_scsi_handler", 3458);
#line 3459
      return (1);
    } else {

    }
  } else {

  }
#line 3463
  switch ((int )*(srb->cmnd)) {
  case 40: ;
  case 42: ;
  case 8: ;
  case 10: 
#line 3468
  result = read_write(srb, chip);
#line 3472
  goto ldv_39421;
  case 0: 
#line 3475
  result = test_unit_ready(srb, chip);
#line 3476
  goto ldv_39421;
  case 18: 
#line 3479
  result = inquiry(srb, chip);
#line 3480
  goto ldv_39421;
  case 37: 
#line 3483
  result = read_capacity(srb, chip);
#line 3484
  goto ldv_39421;
  case 27: 
#line 3487
  result = start_stop_unit(srb, chip);
#line 3488
  goto ldv_39421;
  case 30: 
#line 3491
  result = allow_medium_removal(srb, chip);
#line 3492
  goto ldv_39421;
  case 3: 
#line 3495
  result = request_sense(srb, chip);
#line 3496
  goto ldv_39421;
  case 26: ;
  case 90: 
#line 3500
  result = mode_sense(srb, chip);
#line 3501
  goto ldv_39421;
  case 35: 
#line 3504
  result = read_format_capacity(srb, chip);
#line 3505
  goto ldv_39421;
  case 240: 
#line 3508
  result = vendor_cmnd(srb, chip);
#line 3509
  goto ldv_39421;
  case 250: 
#line 3512
  result = ms_sp_cmnd(srb, chip);
#line 3513
  goto ldv_39421;
  case 208: ;
  case 209: ;
  case 210: ;
  case 211: ;
  case 212: ;
  case 214: 
#line 3522
  result = sd_extention_cmnd(srb, chip);
#line 3523
  goto ldv_39421;
  case 164: 
#line 3528
  result = mg_report_key(srb, chip);
#line 3529
  goto ldv_39421;
  case 163: 
#line 3532
  result = mg_send_key(srb, chip);
#line 3533
  goto ldv_39421;
  case 4: ;
  case 21: ;
  case 47: 
#line 3539
  result = 0;
#line 3540
  goto ldv_39421;
  default: 
#line 3543
  set_sense_type(chip, lun, 6);
#line 3544
  result = 1;
  }
  ldv_39421: ;
#line 3547
  return (result);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_scsi.o.c.prepared"
int ldv_scsi_add_host_with_dma_39(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 63 "./arch/x86/include/asm/string_64.h"
extern int memcmp(void const   * , void const   * , size_t  ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_45(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 279 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/sd.h"
int reset_sd_card(struct rtsx_chip *chip ) ;
#line 282
int sd_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) ;
#line 286
int release_sd_card(struct rtsx_chip *chip ) ;
#line 1001 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
void do_reset_sd_card(struct rtsx_chip *chip ) ;
#line 1002
void do_reset_xd_card(struct rtsx_chip *chip ) ;
#line 1003
void do_reset_ms_card(struct rtsx_chip *chip ) ;
#line 1009
int switch_ssc_clock(struct rtsx_chip *chip , int clk ) ;
#line 1010
int switch_normal_clock(struct rtsx_chip *chip , int clk ) ;
#line 1011
int enable_card_clock(struct rtsx_chip *chip , u8 card ) ;
#line 1012
int disable_card_clock(struct rtsx_chip *chip , u8 card ) ;
#line 1015
void trans_dma_enable(enum dma_data_direction dir , struct rtsx_chip *chip , u32 byte_cnt ,
                      u8 pack_size ) ;
#line 1018
void turn_on_led(struct rtsx_chip *chip , u8 gpio ) ;
#line 1022
int select_card(struct rtsx_chip *chip , int card ) ;
#line 1023
int detect_card_cd(struct rtsx_chip *chip , int card ) ;
#line 1027
int check_card_fail(struct rtsx_chip *chip , unsigned int lun ) ;
#line 1028
int check_card_ejected(struct rtsx_chip *chip , unsigned int lun ) ;
#line 177 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/xd.h"
int reset_xd_card(struct rtsx_chip *chip ) ;
#line 181
int xd_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) ;
#line 184
void xd_cleanup_work(struct rtsx_chip *chip ) ;
#line 186
int release_xd_card(struct rtsx_chip *chip ) ;
#line 204 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/ms.h"
int reset_ms_card(struct rtsx_chip *chip ) ;
#line 205
int ms_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) ;
#line 212
int release_ms_card(struct rtsx_chip *chip ) ;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void do_remaining_work(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  struct xd_info *xd_card ;
  struct ms_info *ms_card ;

  {
#line 36
  sd_card = & chip->sd_card;
#line 38
  xd_card = & chip->xd_card;
#line 40
  ms_card = & chip->ms_card;
#line 42
  if (((int )chip->card_ready & 4) != 0) {
#line 43
    if (sd_card->seq_mode != 0) {
#line 44
      chip->idle_counter = 0;
#line 44
      chip->rtsx_stat = 2;
#line 45
      sd_card->cleanup_counter = sd_card->cleanup_counter + 1;
    } else {
#line 47
      sd_card->cleanup_counter = 0;
    }
  } else {

  }
#line 52
  if (((int )chip->card_ready & 16) != 0) {
#line 53
    if ((unsigned int )xd_card->delay_write.delay_write_flag != 0U) {
#line 54
      chip->idle_counter = 0;
#line 54
      chip->rtsx_stat = 2;
#line 55
      xd_card->cleanup_counter = xd_card->cleanup_counter + 1;
    } else {
#line 57
      xd_card->cleanup_counter = 0;
    }
  } else {

  }
#line 62
  if (((int )chip->card_ready & 8) != 0) {
#line 63
    if (((int )ms_card->ms_type & 255) == 1) {
#line 64
      if ((unsigned int )ms_card->seq_mode != 0U) {
#line 65
        chip->idle_counter = 0;
#line 65
        chip->rtsx_stat = 2;
#line 66
        ms_card->cleanup_counter = ms_card->cleanup_counter + 1;
      } else {
#line 68
        ms_card->cleanup_counter = 0;
      }
    } else
#line 72
    if ((unsigned int )ms_card->delay_write.delay_write_flag != 0U) {
#line 73
      chip->idle_counter = 0;
#line 73
      chip->rtsx_stat = 2;
#line 74
      ms_card->cleanup_counter = ms_card->cleanup_counter + 1;
    } else {
#line 76
      ms_card->cleanup_counter = 0;
    }
  } else {

  }
#line 82
  if (sd_card->cleanup_counter > 1) {
#line 83
    sd_cleanup_work(chip);
  } else {

  }
#line 85
  if (xd_card->cleanup_counter > 1) {
#line 86
    xd_cleanup_work(chip);
  } else {

  }
#line 88
  if (ms_card->cleanup_counter > 1) {
#line 89
    ms_cleanup_work(chip);
  } else {

  }
#line 90
  return;
}
}
#line 92 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void try_to_switch_sdio_ctrl(struct rtsx_chip *chip ) 
{ 
  u8 reg1 ;
  u8 reg2 ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 94
  reg1 = 0U;
#line 94
  reg2 = 0U;
#line 96
  rtsx_read_register(chip, 65332, & reg1);
#line 97
  rtsx_read_register(chip, 65336, & reg2);
#line 98
  descriptor.modname = "rts5208";
#line 98
  descriptor.function = "try_to_switch_sdio_ctrl";
#line 98
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 98
  descriptor.format = "reg 0xFF34: 0x%x, reg 0xFF38: 0x%x\n";
#line 98
  descriptor.lineno = 99U;
#line 98
  descriptor.flags = 0U;
#line 98
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 98
  if (tmp___0 != 0L) {
#line 98
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 98
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "reg 0xFF34: 0x%x, reg 0xFF38: 0x%x\n",
                      (int )reg1, (int )reg2);
  } else {

  }
#line 100
  if (((int )reg1 & 192) != 0 && ((int )reg2 & 192) != 0) {
#line 101
    chip->sd_int = 1U;
#line 102
    rtsx_write_register(chip, 64875, 255, 3);
#line 104
    rtsx_write_register(chip, 65141, 6, 0);
  } else {

  }
#line 106
  return;
}
}
#line 110 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void dynamic_configure_sdio_aspm(struct rtsx_chip *chip ) 
{ 
  u8 buf[12U] ;
  u8 reg ;
  int i ;
  int tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;

  {
#line 115
  i = 0;
#line 115
  goto ldv_38248;
  ldv_38247: 
#line 116
  rtsx_read_register(chip, (int )((unsigned int )((u16 )i) + 65288U), (u8 *)(& buf) + (unsigned long )i);
#line 115
  i = i + 1;
  ldv_38248: ;
#line 115
  if (i <= 11) {
#line 117
    goto ldv_38247;
  } else {

  }
#line 117
  rtsx_read_register(chip, 65317, & reg);
#line 118
  tmp = memcmp((void const   *)(& buf), (void const   *)(& chip->sdio_raw_data), 12UL);
#line 118
  if (tmp != 0 || ((int )reg & 3) != 0) {
#line 119
    chip->sdio_counter = 0;
#line 120
    chip->sdio_idle = 0;
  } else
#line 122
  if (chip->sdio_idle == 0) {
#line 123
    chip->sdio_counter = chip->sdio_counter + 1;
#line 124
    if (chip->sdio_counter > 9) {
#line 125
      chip->sdio_counter = 0;
#line 126
      chip->sdio_idle = 1;
    } else {

    }
  } else {

  }
#line 130
  memcpy((void *)(& chip->sdio_raw_data), (void const   *)(& buf), 12UL);
#line 132
  if (chip->sdio_idle != 0) {
#line 133
    if (chip->sdio_aspm == 0) {
#line 134
      descriptor.modname = "rts5208";
#line 134
      descriptor.function = "dynamic_configure_sdio_aspm";
#line 134
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 134
      descriptor.format = "SDIO enter ASPM!\n";
#line 134
      descriptor.lineno = 134U;
#line 134
      descriptor.flags = 0U;
#line 134
      tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 134
      if (tmp___1 != 0L) {
#line 134
        tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 134
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "SDIO enter ASPM!\n");
      } else {

      }
#line 135
      rtsx_write_register(chip, 65111, 252, (int )((u8 )((int )((signed char )((int )chip->aspm_level[1] << 2)) | 48)));
#line 137
      chip->sdio_aspm = 1;
    } else {

    }
  } else
#line 140
  if (chip->sdio_aspm != 0) {
#line 141
    descriptor___0.modname = "rts5208";
#line 141
    descriptor___0.function = "dynamic_configure_sdio_aspm";
#line 141
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 141
    descriptor___0.format = "SDIO exit ASPM!\n";
#line 141
    descriptor___0.lineno = 141U;
#line 141
    descriptor___0.flags = 0U;
#line 141
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 141
    if (tmp___3 != 0L) {
#line 141
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 141
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "SDIO exit ASPM!\n");
    } else {

    }
#line 142
    rtsx_write_register(chip, 65111, 252, 48);
#line 143
    chip->sdio_aspm = 0;
  } else {

  }
#line 145
  return;
}
}
#line 149 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void do_reset_sd_card(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 153
  descriptor.modname = "rts5208";
#line 153
  descriptor.function = "do_reset_sd_card";
#line 153
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 153
  descriptor.format = "%s: %d, card2lun = 0x%x\n";
#line 153
  descriptor.lineno = 154U;
#line 153
  descriptor.flags = 0U;
#line 153
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 153
  if (tmp___0 != 0L) {
#line 153
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 153
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s: %d, card2lun = 0x%x\n",
                      "do_reset_sd_card", chip->sd_reset_counter, (int )chip->card2lun[4]);
  } else {

  }
#line 156
  if ((unsigned int )chip->card2lun[4] > 7U) {
#line 157
    clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
#line 158
    chip->sd_reset_counter = 0;
#line 159
    chip->sd_show_cnt = 0;
#line 160
    return;
  } else {

  }
#line 163
  chip->rw_fail_cnt[(int )chip->card2lun[4]] = 0;
#line 165
  chip->idle_counter = 0;
#line 165
  chip->rtsx_stat = 2;
#line 166
  rtsx_write_register(chip, 64875, 255, 0);
#line 168
  retval = reset_sd_card(chip);
#line 169
  if ((chip->need_release & 4UL) != 0UL) {
#line 170
    return;
  } else {

  }
#line 171
  if (retval == 0) {
#line 172
    clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
#line 173
    chip->sd_reset_counter = 0;
#line 174
    chip->sd_show_cnt = 0;
#line 175
    chip->card_ready = (u8 )((unsigned int )chip->card_ready | 4U);
#line 176
    chip->card_fail = (unsigned int )chip->card_fail & 251U;
#line 177
    chip->rw_card[(int )chip->card2lun[4]] = & sd_rw;
  } else {
#line 179
    if ((unsigned int )chip->sd_io != 0U || chip->sd_reset_counter > 2) {
#line 180
      clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
#line 181
      chip->sd_reset_counter = 0;
#line 182
      chip->sd_show_cnt = 0;
    } else {
#line 184
      chip->sd_reset_counter = chip->sd_reset_counter + 1;
    }
#line 186
    chip->card_ready = (unsigned int )chip->card_ready & 251U;
#line 187
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 4U);
#line 188
    chip->capacity[(int )chip->card2lun[4]] = 0U;
#line 189
    chip->rw_card[(int )chip->card2lun[4]] = (int (*)(struct scsi_cmnd * , struct rtsx_chip * ,
                                                      u32  , u16  ))0;
#line 191
    rtsx_write_register(chip, 64853, 4, 0);
#line 192
    if (chip->ft2_fast_mode == 0) {
#line 193
      card_power_off(chip, 4);
    } else {

    }
#line 194
    if ((unsigned int )chip->sd_io != 0U) {
#line 195
      chip->sd_int = 0U;
#line 196
      try_to_switch_sdio_ctrl(chip);
    } else {
#line 198
      disable_card_clock(chip, 4);
    }
  }
#line 200
  return;
}
}
#line 203 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void do_reset_xd_card(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 207
  descriptor.modname = "rts5208";
#line 207
  descriptor.function = "do_reset_xd_card";
#line 207
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 207
  descriptor.format = "%s: %d, card2lun = 0x%x\n";
#line 207
  descriptor.lineno = 208U;
#line 207
  descriptor.flags = 0U;
#line 207
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 207
  if (tmp___0 != 0L) {
#line 207
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 207
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s: %d, card2lun = 0x%x\n",
                      "do_reset_xd_card", chip->xd_reset_counter, (int )chip->card2lun[16]);
  } else {

  }
#line 210
  if ((unsigned int )chip->card2lun[16] > 7U) {
#line 211
    clear_bit(4L, (unsigned long volatile   *)(& chip->need_reset));
#line 212
    chip->xd_reset_counter = 0;
#line 213
    chip->xd_show_cnt = 0;
#line 214
    return;
  } else {

  }
#line 217
  chip->rw_fail_cnt[(int )chip->card2lun[16]] = 0;
#line 219
  chip->idle_counter = 0;
#line 219
  chip->rtsx_stat = 2;
#line 220
  rtsx_write_register(chip, 64875, 255, 0);
#line 222
  retval = reset_xd_card(chip);
#line 223
  if ((chip->need_release & 16UL) != 0UL) {
#line 224
    return;
  } else {

  }
#line 225
  if (retval == 0) {
#line 226
    clear_bit(4L, (unsigned long volatile   *)(& chip->need_reset));
#line 227
    chip->xd_reset_counter = 0;
#line 228
    chip->card_ready = (u8 )((unsigned int )chip->card_ready | 16U);
#line 229
    chip->card_fail = (unsigned int )chip->card_fail & 239U;
#line 230
    chip->rw_card[(int )chip->card2lun[16]] = & xd_rw;
  } else {
#line 232
    if (chip->xd_reset_counter > 2) {
#line 233
      clear_bit(4L, (unsigned long volatile   *)(& chip->need_reset));
#line 234
      chip->xd_reset_counter = 0;
#line 235
      chip->xd_show_cnt = 0;
    } else {
#line 237
      chip->xd_reset_counter = chip->xd_reset_counter + 1;
    }
#line 239
    chip->card_ready = (unsigned int )chip->card_ready & 239U;
#line 240
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
#line 241
    chip->capacity[(int )chip->card2lun[16]] = 0U;
#line 242
    chip->rw_card[(int )chip->card2lun[16]] = (int (*)(struct scsi_cmnd * , struct rtsx_chip * ,
                                                       u32  , u16  ))0;
#line 244
    rtsx_write_register(chip, 64853, 2, 0);
#line 245
    if (chip->ft2_fast_mode == 0) {
#line 246
      card_power_off(chip, 16);
    } else {

    }
#line 247
    disable_card_clock(chip, 16);
  }
#line 249
  return;
}
}
#line 251 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void do_reset_ms_card(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 255
  descriptor.modname = "rts5208";
#line 255
  descriptor.function = "do_reset_ms_card";
#line 255
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 255
  descriptor.format = "%s: %d, card2lun = 0x%x\n";
#line 255
  descriptor.lineno = 256U;
#line 255
  descriptor.flags = 0U;
#line 255
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 255
  if (tmp___0 != 0L) {
#line 255
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 255
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s: %d, card2lun = 0x%x\n",
                      "do_reset_ms_card", chip->ms_reset_counter, (int )chip->card2lun[8]);
  } else {

  }
#line 258
  if ((unsigned int )chip->card2lun[8] > 7U) {
#line 259
    clear_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
#line 260
    chip->ms_reset_counter = 0;
#line 261
    chip->ms_show_cnt = 0;
#line 262
    return;
  } else {

  }
#line 265
  chip->rw_fail_cnt[(int )chip->card2lun[8]] = 0;
#line 267
  chip->idle_counter = 0;
#line 267
  chip->rtsx_stat = 2;
#line 268
  rtsx_write_register(chip, 64875, 255, 0);
#line 270
  retval = reset_ms_card(chip);
#line 271
  if ((chip->need_release & 8UL) != 0UL) {
#line 272
    return;
  } else {

  }
#line 273
  if (retval == 0) {
#line 274
    clear_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
#line 275
    chip->ms_reset_counter = 0;
#line 276
    chip->card_ready = (u8 )((unsigned int )chip->card_ready | 8U);
#line 277
    chip->card_fail = (unsigned int )chip->card_fail & 247U;
#line 278
    chip->rw_card[(int )chip->card2lun[8]] = & ms_rw;
  } else {
#line 280
    if (chip->ms_reset_counter > 2) {
#line 281
      clear_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
#line 282
      chip->ms_reset_counter = 0;
#line 283
      chip->ms_show_cnt = 0;
    } else {
#line 285
      chip->ms_reset_counter = chip->ms_reset_counter + 1;
    }
#line 287
    chip->card_ready = (unsigned int )chip->card_ready & 247U;
#line 288
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 8U);
#line 289
    chip->capacity[(int )chip->card2lun[8]] = 0U;
#line 290
    chip->rw_card[(int )chip->card2lun[8]] = (int (*)(struct scsi_cmnd * , struct rtsx_chip * ,
                                                      u32  , u16  ))0;
#line 292
    rtsx_write_register(chip, 64853, 8, 0);
#line 293
    if (chip->ft2_fast_mode == 0) {
#line 294
      card_power_off(chip, 8);
    } else {

    }
#line 295
    disable_card_clock(chip, 8);
  }
#line 297
  return;
}
}
#line 299 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
static void release_sdio(struct rtsx_chip *chip ) 
{ 


  {
#line 301
  if ((unsigned int )chip->sd_io != 0U) {
#line 302
    rtsx_write_register(chip, 64852, 68, 68);
#line 305
    if (chip->chip_insert_with_sdio != 0) {
#line 306
      chip->chip_insert_with_sdio = 0;
#line 308
      if ((unsigned int )chip->product_id == 21128U) {
#line 309
        rtsx_write_register(chip, 65114, 8, 0);
      } else {
#line 311
        rtsx_write_register(chip, 65136, 128, 0);
      }
    } else {

    }
#line 314
    rtsx_write_register(chip, 64875, 2, 0);
#line 315
    chip->sd_io = 0U;
  } else {

  }
#line 317
  return;
}
}
#line 319 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void rtsx_power_off_card(struct rtsx_chip *chip ) 
{ 


  {
#line 321
  if (((int )chip->card_ready & 4) != 0 || (unsigned int )chip->sd_io != 0U) {
#line 322
    sd_cleanup_work(chip);
#line 323
    sd_power_off_card3v3(chip);
  } else {

  }
#line 326
  if (((int )chip->card_ready & 16) != 0) {
#line 327
    xd_cleanup_work(chip);
#line 328
    xd_power_off_card3v3(chip);
  } else {

  }
#line 331
  if (((int )chip->card_ready & 8) != 0) {
#line 332
    ms_cleanup_work(chip);
#line 333
    ms_power_off_card3v3(chip);
  } else {

  }
#line 335
  return;
}
}
#line 337 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void rtsx_release_cards(struct rtsx_chip *chip ) 
{ 


  {
#line 339
  chip->int_reg = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 341
  if (((int )chip->card_ready & 4) != 0 || (unsigned int )chip->sd_io != 0U) {
#line 342
    if ((chip->int_reg & 65536U) != 0U) {
#line 343
      sd_cleanup_work(chip);
    } else {

    }
#line 344
    release_sd_card(chip);
  } else {

  }
#line 347
  if (((int )chip->card_ready & 16) != 0) {
#line 348
    if ((chip->int_reg & 262144U) != 0U) {
#line 349
      xd_cleanup_work(chip);
    } else {

    }
#line 350
    release_xd_card(chip);
  } else {

  }
#line 353
  if (((int )chip->card_ready & 8) != 0) {
#line 354
    if ((chip->int_reg & 131072U) != 0U) {
#line 355
      ms_cleanup_work(chip);
    } else {

    }
#line 356
    release_ms_card(chip);
  } else {

  }
#line 358
  return;
}
}
#line 360 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void rtsx_reset_cards(struct rtsx_chip *chip ) 
{ 


  {
#line 362
  if (chip->need_reset == 0UL) {
#line 363
    return;
  } else {

  }
#line 365
  chip->idle_counter = 0;
#line 365
  chip->rtsx_stat = 2;
#line 367
  rtsx_force_power_on(chip, 3);
#line 369
  rtsx_disable_aspm(chip);
#line 371
  if ((chip->need_reset & 4UL) != 0UL && chip->chip_insert_with_sdio != 0) {
#line 372
    clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
  } else {

  }
#line 374
  if ((chip->need_reset & 16UL) != 0UL) {
#line 375
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 16U);
#line 377
    if (chip->xd_show_cnt > 9) {
#line 378
      do_reset_xd_card(chip);
    } else {
#line 380
      chip->xd_show_cnt = chip->xd_show_cnt + 1;
    }
  } else {

  }
#line 382
  if ((unsigned int )chip->product_id == 21128U && chip->baro_pkg == 0) {
#line 383
    if (((int )chip->card_exist & 16) != 0) {
#line 384
      clear_bit(2L, (unsigned long volatile   *)(& chip->need_reset));
#line 385
      clear_bit(3L, (unsigned long volatile   *)(& chip->need_reset));
    } else {

    }
  } else {

  }
#line 388
  if ((chip->need_reset & 4UL) != 0UL) {
#line 389
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 4U);
#line 391
    if (chip->sd_show_cnt > 9) {
#line 392
      rtsx_write_register(chip, 65076, 128, 128);
#line 393
      do_reset_sd_card(chip);
    } else {
#line 395
      chip->sd_show_cnt = chip->sd_show_cnt + 1;
    }
  } else {

  }
#line 398
  if ((chip->need_reset & 8UL) != 0UL) {
#line 399
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 8U);
#line 401
    if (chip->ms_show_cnt > 9) {
#line 402
      do_reset_ms_card(chip);
    } else {
#line 404
      chip->ms_show_cnt = chip->ms_show_cnt + 1;
    }
  } else {

  }
#line 406
  return;
}
}
#line 408 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void rtsx_reinit_cards(struct rtsx_chip *chip , int reset_chip ) 
{ 
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  long volatile   __ret___1 ;
  struct task_struct *tmp___10 ;
  struct task_struct *tmp___11 ;
  struct task_struct *tmp___12 ;
  struct task_struct *tmp___13 ;

  {
#line 410
  chip->idle_counter = 0;
#line 410
  chip->rtsx_stat = 2;
#line 412
  rtsx_force_power_on(chip, 3);
#line 414
  if (reset_chip != 0) {
#line 415
    rtsx_reset_chip(chip);
  } else {

  }
#line 417
  chip->int_reg = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 419
  if ((chip->int_reg & 65536U) != 0U && (chip->need_reinit & 4UL) != 0UL) {
#line 420
    release_sdio(chip);
#line 421
    release_sd_card(chip);
#line 423
    tmp = get_current();
#line 423
    tmp->task_state_change = 0UL;
#line 423
    __ret = 1L;
#line 423
    switch (8UL) {
    case 1UL: 
#line 423
    tmp___0 = get_current();
#line 423
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 423
    goto ldv_38289;
    case 2UL: 
#line 423
    tmp___1 = get_current();
#line 423
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 423
    goto ldv_38289;
    case 4UL: 
#line 423
    tmp___2 = get_current();
#line 423
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 423
    goto ldv_38289;
    case 8UL: 
#line 423
    tmp___3 = get_current();
#line 423
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 423
    goto ldv_38289;
    default: 
#line 423
    __xchg_wrong_size();
    }
    ldv_38289: 
#line 423
    schedule_timeout(25L);
#line 425
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 4U);
#line 426
    do_reset_sd_card(chip);
  } else {

  }
#line 429
  if ((chip->int_reg & 262144U) != 0U && (chip->need_reinit & 16UL) != 0UL) {
#line 430
    release_xd_card(chip);
#line 432
    tmp___4 = get_current();
#line 432
    tmp___4->task_state_change = 0UL;
#line 432
    __ret___0 = 1L;
#line 432
    switch (8UL) {
    case 1UL: 
#line 432
    tmp___5 = get_current();
#line 432
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 432
    goto ldv_38297;
    case 2UL: 
#line 432
    tmp___6 = get_current();
#line 432
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                         "cc");
#line 432
    goto ldv_38297;
    case 4UL: 
#line 432
    tmp___7 = get_current();
#line 432
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                         "cc");
#line 432
    goto ldv_38297;
    case 8UL: 
#line 432
    tmp___8 = get_current();
#line 432
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 432
    goto ldv_38297;
    default: 
#line 432
    __xchg_wrong_size();
    }
    ldv_38297: 
#line 432
    schedule_timeout(25L);
#line 434
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 16U);
#line 435
    do_reset_xd_card(chip);
  } else {

  }
#line 438
  if ((chip->int_reg & 131072U) != 0U && (chip->need_reinit & 8UL) != 0UL) {
#line 439
    release_ms_card(chip);
#line 441
    tmp___9 = get_current();
#line 441
    tmp___9->task_state_change = 0UL;
#line 441
    __ret___1 = 1L;
#line 441
    switch (8UL) {
    case 1UL: 
#line 441
    tmp___10 = get_current();
#line 441
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___1), "+m" (tmp___10->state): : "memory",
                         "cc");
#line 441
    goto ldv_38305;
    case 2UL: 
#line 441
    tmp___11 = get_current();
#line 441
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___1), "+m" (tmp___11->state): : "memory",
                         "cc");
#line 441
    goto ldv_38305;
    case 4UL: 
#line 441
    tmp___12 = get_current();
#line 441
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___1), "+m" (tmp___12->state): : "memory",
                         "cc");
#line 441
    goto ldv_38305;
    case 8UL: 
#line 441
    tmp___13 = get_current();
#line 441
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___1), "+m" (tmp___13->state): : "memory",
                         "cc");
#line 441
    goto ldv_38305;
    default: 
#line 441
    __xchg_wrong_size();
    }
    ldv_38305: 
#line 441
    schedule_timeout(25L);
#line 443
    chip->card_exist = (u8 )((unsigned int )chip->card_exist | 8U);
#line 444
    do_reset_ms_card(chip);
  } else {

  }
#line 447
  chip->need_reinit = 0UL;
#line 448
  return;
}
}
#line 525 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void rtsx_init_cards(struct rtsx_chip *chip ) 
{ 
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___7 ;
  long tmp___8 ;

  {
#line 527
  if ((int )chip->rtsx_flag & 1 && (unsigned int )chip->rtsx_stat != 3U) {
#line 528
    descriptor.modname = "rts5208";
#line 528
    descriptor.function = "rtsx_init_cards";
#line 528
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 528
    descriptor.format = "Reset chip in polling thread!\n";
#line 528
    descriptor.lineno = 528U;
#line 528
    descriptor.flags = 0U;
#line 528
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 528
    if (tmp___0 != 0L) {
#line 528
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 528
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Reset chip in polling thread!\n");
    } else {

    }
#line 529
    rtsx_reset_chip(chip);
#line 530
    chip->rtsx_flag = (unsigned int )chip->rtsx_flag & 254U;
  } else {

  }
#line 537
  if (chip->need_release != 0UL) {
#line 538
    if ((unsigned int )chip->product_id == 21128U && chip->baro_pkg == 0) {
#line 539
      if ((chip->int_reg & 262144U) != 0U) {
#line 540
        clear_bit(2L, (unsigned long volatile   *)(& chip->need_release));
#line 541
        clear_bit(3L, (unsigned long volatile   *)(& chip->need_release));
      } else {

      }
    } else {

    }
#line 545
    if (((int )chip->card_exist & 4) == 0 && (unsigned int )chip->sd_io == 0U) {
#line 546
      clear_bit(2L, (unsigned long volatile   *)(& chip->need_release));
    } else {

    }
#line 547
    if (((int )chip->card_exist & 16) == 0) {
#line 548
      clear_bit(4L, (unsigned long volatile   *)(& chip->need_release));
    } else {

    }
#line 549
    if (((int )chip->card_exist & 8) == 0) {
#line 550
      clear_bit(3L, (unsigned long volatile   *)(& chip->need_release));
    } else {

    }
#line 552
    descriptor___0.modname = "rts5208";
#line 552
    descriptor___0.function = "rtsx_init_cards";
#line 552
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 552
    descriptor___0.format = "chip->need_release = 0x%x\n";
#line 552
    descriptor___0.lineno = 553U;
#line 552
    descriptor___0.flags = 0U;
#line 552
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 552
    if (tmp___2 != 0L) {
#line 552
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 552
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "chip->need_release = 0x%x\n",
                        (unsigned int )chip->need_release);
    } else {

    }
#line 556
    if (chip->need_release != 0UL) {
#line 557
      if (((int )chip->ocp_stat & 12) != 0) {
#line 558
        rtsx_write_register(chip, 64535, 10, 10);
      } else {

      }
#line 561
      chip->ocp_stat = 0U;
    } else {

    }
#line 564
    if (chip->need_release != 0UL) {
#line 565
      chip->idle_counter = 0;
#line 565
      chip->rtsx_stat = 2;
#line 566
      rtsx_force_power_on(chip, 3);
    } else {

    }
#line 569
    if ((chip->need_release & 4UL) != 0UL) {
#line 570
      clear_bit(2L, (unsigned long volatile   *)(& chip->need_release));
#line 571
      chip->card_exist = (unsigned int )chip->card_exist & 251U;
#line 572
      chip->card_ejected = (unsigned int )chip->card_ejected & 251U;
#line 573
      chip->card_fail = (unsigned int )chip->card_fail & 251U;
#line 574
      chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) & ~ ((int )((signed char )(1 << (int )chip->card2lun[4]))));
#line 575
      chip->rw_fail_cnt[(int )chip->card2lun[4]] = 0;
#line 576
      rtsx_write_register(chip, 65076, 128, 128);
#line 578
      release_sdio(chip);
#line 579
      release_sd_card(chip);
    } else {

    }
#line 582
    if ((chip->need_release & 16UL) != 0UL) {
#line 583
      clear_bit(4L, (unsigned long volatile   *)(& chip->need_release));
#line 584
      chip->card_exist = (unsigned int )chip->card_exist & 239U;
#line 585
      chip->card_ejected = (unsigned int )chip->card_ejected & 239U;
#line 586
      chip->card_fail = (unsigned int )chip->card_fail & 239U;
#line 587
      chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) & ~ ((int )((signed char )(1 << (int )chip->card2lun[16]))));
#line 588
      chip->rw_fail_cnt[(int )chip->card2lun[16]] = 0;
#line 590
      release_xd_card(chip);
#line 592
      if ((unsigned int )chip->product_id == 21128U && chip->baro_pkg == 0) {
#line 594
        rtsx_write_register(chip, 65120, 192, 192);
      } else {

      }
    } else {

    }
#line 598
    if ((chip->need_release & 8UL) != 0UL) {
#line 599
      clear_bit(3L, (unsigned long volatile   *)(& chip->need_release));
#line 600
      chip->card_exist = (unsigned int )chip->card_exist & 247U;
#line 601
      chip->card_ejected = (unsigned int )chip->card_ejected & 247U;
#line 602
      chip->card_fail = (unsigned int )chip->card_fail & 247U;
#line 603
      chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) & ~ ((int )((signed char )(1 << (int )chip->card2lun[8]))));
#line 604
      chip->rw_fail_cnt[(int )chip->card2lun[8]] = 0;
#line 606
      release_ms_card(chip);
    } else {

    }
#line 609
    descriptor___1.modname = "rts5208";
#line 609
    descriptor___1.function = "rtsx_init_cards";
#line 609
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 609
    descriptor___1.format = "chip->card_exist = 0x%x\n";
#line 609
    descriptor___1.lineno = 610U;
#line 609
    descriptor___1.flags = 0U;
#line 609
    tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 609
    if (tmp___4 != 0L) {
#line 609
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 609
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "chip->card_exist = 0x%x\n",
                        (int )chip->card_exist);
    } else {

    }
#line 612
    if ((unsigned int )chip->card_exist == 0U) {
#line 613
      turn_off_led(chip, 0);
    } else {

    }
  } else {

  }
#line 616
  if (chip->need_reset != 0UL) {
#line 617
    descriptor___2.modname = "rts5208";
#line 617
    descriptor___2.function = "rtsx_init_cards";
#line 617
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 617
    descriptor___2.format = "chip->need_reset = 0x%x\n";
#line 617
    descriptor___2.lineno = 618U;
#line 617
    descriptor___2.flags = 0U;
#line 617
    tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 617
    if (tmp___6 != 0L) {
#line 617
      tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 617
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "chip->need_reset = 0x%x\n",
                        (unsigned int )chip->need_reset);
    } else {

    }
#line 620
    rtsx_reset_cards(chip);
  } else {

  }
#line 623
  if (chip->need_reinit != 0UL) {
#line 624
    descriptor___3.modname = "rts5208";
#line 624
    descriptor___3.function = "rtsx_init_cards";
#line 624
    descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 624
    descriptor___3.format = "chip->need_reinit = 0x%x\n";
#line 624
    descriptor___3.lineno = 625U;
#line 624
    descriptor___3.flags = 0U;
#line 624
    tmp___8 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 624
    if (tmp___8 != 0L) {
#line 624
      tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 624
      __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___7, "chip->need_reinit = 0x%x\n",
                        (unsigned int )chip->need_reinit);
    } else {

    }
#line 627
    rtsx_reinit_cards(chip, 0);
  } else {

  }
#line 629
  return;
}
}
#line 636 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int switch_ssc_clock(struct rtsx_chip *chip , int clk ) 
{ 
  int retval ;
  u8 N ;
  u8 min_N ;
  u8 max_N ;
  u8 mcu_cnt ;
  u8 div ;
  u8 max_div ;
  u8 ssc_depth ;
  u8 ssc_depth_mask ;
  int sd_vpclk_phase_reset ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 639
  N = (unsigned int )((unsigned char )clk) - 2U;
#line 641
  sd_vpclk_phase_reset = 0;
#line 643
  if (chip->cur_clk == clk) {
#line 644
    return (0);
  } else {

  }
#line 646
  min_N = 60U;
#line 647
  max_N = 120U;
#line 648
  max_div = 3U;
#line 650
  descriptor.modname = "rts5208";
#line 650
  descriptor.function = "switch_ssc_clock";
#line 650
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 650
  descriptor.format = "Switch SSC clock to %dMHz (cur_clk = %d)\n";
#line 650
  descriptor.lineno = 651U;
#line 650
  descriptor.flags = 0U;
#line 650
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 650
  if (tmp___0 != 0L) {
#line 650
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 650
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Switch SSC clock to %dMHz (cur_clk = %d)\n",
                      clk, chip->cur_clk);
  } else {

  }
#line 653
  if (clk <= 2 || (int )N > (int )max_N) {
#line 654
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_ssc_clock", 654);
#line 655
    return (1);
  } else {

  }
#line 658
  mcu_cnt = (unsigned int )((unsigned char )(125 / clk)) + 3U;
#line 659
  if ((unsigned int )mcu_cnt > 7U) {
#line 660
    mcu_cnt = 7U;
  } else {

  }
#line 662
  div = 1U;
#line 663
  goto ldv_38340;
  ldv_38339: 
#line 664
  N = (unsigned int )((u8 )((int )N + 1)) * 2U;
#line 665
  div = (u8 )((int )div + 1);
  ldv_38340: ;
#line 663
  if ((int )N < (int )min_N && (int )div < (int )max_div) {
#line 665
    goto ldv_38339;
  } else {

  }
#line 667
  descriptor___0.modname = "rts5208";
#line 667
  descriptor___0.function = "switch_ssc_clock";
#line 667
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 667
  descriptor___0.format = "N = %d, div = %d\n";
#line 667
  descriptor___0.lineno = 667U;
#line 667
  descriptor___0.flags = 0U;
#line 667
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 667
  if (tmp___2 != 0L) {
#line 667
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 667
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "N = %d, div = %d\n",
                      (int )N, (int )div);
  } else {

  }
#line 669
  if (chip->ssc_en != 0) {
#line 670
    ssc_depth = 1U;
#line 671
    N = (unsigned int )N + 254U;
  } else {
#line 673
    ssc_depth = 0U;
  }
#line 676
  ssc_depth_mask = 3U;
#line 678
  descriptor___1.modname = "rts5208";
#line 678
  descriptor___1.function = "switch_ssc_clock";
#line 678
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 678
  descriptor___1.format = "ssc_depth = %d\n";
#line 678
  descriptor___1.lineno = 678U;
#line 678
  descriptor___1.flags = 0U;
#line 678
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 678
  if (tmp___4 != 0L) {
#line 678
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 678
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "ssc_depth = %d\n",
                      (int )ssc_depth);
  } else {

  }
#line 680
  chip->ci = 0;
#line 681
  rtsx_add_cmd(chip, 1, 64514, 1, 1);
#line 682
  rtsx_add_cmd(chip, 1, 64515, 255, (int )((u8 )((int )((signed char )((int )div << 4)) | (int )((signed char )mcu_cnt))));
#line 683
  rtsx_add_cmd(chip, 1, 64529, 128, 0);
#line 684
  rtsx_add_cmd(chip, 1, 64530, (int )ssc_depth_mask, (int )ssc_depth);
#line 685
  rtsx_add_cmd(chip, 1, 64527, 255, (int )N);
#line 686
  rtsx_add_cmd(chip, 1, 64529, 128, 128);
#line 687
  if (sd_vpclk_phase_reset != 0) {
#line 688
    rtsx_add_cmd(chip, 1, 64554, 64, 0);
#line 690
    rtsx_add_cmd(chip, 1, 64554, 64, 64);
  } else {

  }
#line 694
  retval = rtsx_send_cmd(chip, 0, 2000);
#line 695
  if (retval < 0) {
#line 696
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_ssc_clock", 696);
#line 697
    return (10);
  } else {

  }
#line 700
  __const_udelay(42950UL);
#line 701
  retval = rtsx_write_register(chip, 64514, 1, 0);
#line 702
  if (retval != 0) {
#line 703
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_ssc_clock", 703);
#line 704
    return (retval);
  } else {

  }
#line 707
  chip->cur_clk = clk;
#line 709
  return (0);
}
}
#line 712 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int switch_normal_clock(struct rtsx_chip *chip , int clk ) 
{ 
  int retval ;
  u8 sel ;
  u8 div ;
  u8 mcu_cnt ;
  int sd_vpclk_phase_reset ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___7 ;
  long tmp___8 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___9 ;
  long tmp___10 ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___11 ;
  long tmp___12 ;
  struct _ddebug descriptor___6 ;
  struct device *tmp___13 ;
  long tmp___14 ;
  struct _ddebug descriptor___7 ;
  struct device *tmp___15 ;
  long tmp___16 ;
  struct _ddebug descriptor___8 ;
  struct device *tmp___17 ;
  long tmp___18 ;
  struct _ddebug descriptor___9 ;
  struct device *tmp___19 ;
  long tmp___20 ;

  {
#line 716
  sd_vpclk_phase_reset = 0;
#line 718
  if (chip->cur_clk == clk) {
#line 719
    return (0);
  } else {

  }
#line 721
  switch (clk) {
  case 1: 
#line 723
  descriptor.modname = "rts5208";
#line 723
  descriptor.function = "switch_normal_clock";
#line 723
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 723
  descriptor.format = "Switch clock to 20MHz\n";
#line 723
  descriptor.lineno = 723U;
#line 723
  descriptor.flags = 0U;
#line 723
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 723
  if (tmp___0 != 0L) {
#line 723
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 723
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Switch clock to 20MHz\n");
  } else {

  }
#line 724
  sel = 0U;
#line 725
  div = 3U;
#line 726
  mcu_cnt = 7U;
#line 727
  goto ldv_38356;
  case 2: 
#line 730
  descriptor___0.modname = "rts5208";
#line 730
  descriptor___0.function = "switch_normal_clock";
#line 730
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 730
  descriptor___0.format = "Switch clock to 30MHz\n";
#line 730
  descriptor___0.lineno = 730U;
#line 730
  descriptor___0.flags = 0U;
#line 730
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 730
  if (tmp___2 != 0L) {
#line 730
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 730
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Switch clock to 30MHz\n");
  } else {

  }
#line 731
  sel = 2U;
#line 732
  div = 3U;
#line 733
  mcu_cnt = 7U;
#line 734
  goto ldv_38356;
  case 3: 
#line 737
  descriptor___1.modname = "rts5208";
#line 737
  descriptor___1.function = "switch_normal_clock";
#line 737
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 737
  descriptor___1.format = "Switch clock to 40MHz\n";
#line 737
  descriptor___1.lineno = 737U;
#line 737
  descriptor___1.flags = 0U;
#line 737
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 737
  if (tmp___4 != 0L) {
#line 737
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 737
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "Switch clock to 40MHz\n");
  } else {

  }
#line 738
  sel = 0U;
#line 739
  div = 2U;
#line 740
  mcu_cnt = 7U;
#line 741
  goto ldv_38356;
  case 4: 
#line 744
  descriptor___2.modname = "rts5208";
#line 744
  descriptor___2.function = "switch_normal_clock";
#line 744
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 744
  descriptor___2.format = "Switch clock to 50MHz\n";
#line 744
  descriptor___2.lineno = 744U;
#line 744
  descriptor___2.flags = 0U;
#line 744
  tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 744
  if (tmp___6 != 0L) {
#line 744
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 744
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "Switch clock to 50MHz\n");
  } else {

  }
#line 745
  sel = 1U;
#line 746
  div = 2U;
#line 747
  mcu_cnt = 6U;
#line 748
  goto ldv_38356;
  case 5: 
#line 751
  descriptor___3.modname = "rts5208";
#line 751
  descriptor___3.function = "switch_normal_clock";
#line 751
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 751
  descriptor___3.format = "Switch clock to 60MHz\n";
#line 751
  descriptor___3.lineno = 751U;
#line 751
  descriptor___3.flags = 0U;
#line 751
  tmp___8 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 751
  if (tmp___8 != 0L) {
#line 751
    tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 751
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___7, "Switch clock to 60MHz\n");
  } else {

  }
#line 752
  sel = 2U;
#line 753
  div = 2U;
#line 754
  mcu_cnt = 6U;
#line 755
  goto ldv_38356;
  case 6: 
#line 758
  descriptor___4.modname = "rts5208";
#line 758
  descriptor___4.function = "switch_normal_clock";
#line 758
  descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 758
  descriptor___4.format = "Switch clock to 80MHz\n";
#line 758
  descriptor___4.lineno = 758U;
#line 758
  descriptor___4.flags = 0U;
#line 758
  tmp___10 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 758
  if (tmp___10 != 0L) {
#line 758
    tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 758
    __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___9, "Switch clock to 80MHz\n");
  } else {

  }
#line 759
  sel = 0U;
#line 760
  div = 1U;
#line 761
  mcu_cnt = 5U;
#line 762
  goto ldv_38356;
  case 7: 
#line 765
  descriptor___5.modname = "rts5208";
#line 765
  descriptor___5.function = "switch_normal_clock";
#line 765
  descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 765
  descriptor___5.format = "Switch clock to 100MHz\n";
#line 765
  descriptor___5.lineno = 765U;
#line 765
  descriptor___5.flags = 0U;
#line 765
  tmp___12 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 765
  if (tmp___12 != 0L) {
#line 765
    tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 765
    __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___11, "Switch clock to 100MHz\n");
  } else {

  }
#line 766
  sel = 1U;
#line 767
  div = 1U;
#line 768
  mcu_cnt = 5U;
#line 769
  goto ldv_38356;
  case 8: 
#line 772
  descriptor___6.modname = "rts5208";
#line 772
  descriptor___6.function = "switch_normal_clock";
#line 772
  descriptor___6.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 772
  descriptor___6.format = "Switch clock to 120MHz\n";
#line 772
  descriptor___6.lineno = 772U;
#line 772
  descriptor___6.flags = 0U;
#line 772
  tmp___14 = ldv__builtin_expect((long )descriptor___6.flags & 1L, 0L);
#line 772
  if (tmp___14 != 0L) {
#line 772
    tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 772
    __dynamic_dev_dbg(& descriptor___6, (struct device  const  *)tmp___13, "Switch clock to 120MHz\n");
  } else {

  }
#line 773
  sel = 2U;
#line 774
  div = 1U;
#line 775
  mcu_cnt = 5U;
#line 776
  goto ldv_38356;
  case 9: 
#line 779
  descriptor___7.modname = "rts5208";
#line 779
  descriptor___7.function = "switch_normal_clock";
#line 779
  descriptor___7.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 779
  descriptor___7.format = "Switch clock to 150MHz\n";
#line 779
  descriptor___7.lineno = 779U;
#line 779
  descriptor___7.flags = 0U;
#line 779
  tmp___16 = ldv__builtin_expect((long )descriptor___7.flags & 1L, 0L);
#line 779
  if (tmp___16 != 0L) {
#line 779
    tmp___15 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 779
    __dynamic_dev_dbg(& descriptor___7, (struct device  const  *)tmp___15, "Switch clock to 150MHz\n");
  } else {

  }
#line 780
  sel = 3U;
#line 781
  div = 1U;
#line 782
  mcu_cnt = 4U;
#line 783
  goto ldv_38356;
  case 10: 
#line 786
  descriptor___8.modname = "rts5208";
#line 786
  descriptor___8.function = "switch_normal_clock";
#line 786
  descriptor___8.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 786
  descriptor___8.format = "Switch clock to 200MHz\n";
#line 786
  descriptor___8.lineno = 786U;
#line 786
  descriptor___8.flags = 0U;
#line 786
  tmp___18 = ldv__builtin_expect((long )descriptor___8.flags & 1L, 0L);
#line 786
  if (tmp___18 != 0L) {
#line 786
    tmp___17 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 786
    __dynamic_dev_dbg(& descriptor___8, (struct device  const  *)tmp___17, "Switch clock to 200MHz\n");
  } else {

  }
#line 787
  sel = 4U;
#line 788
  div = 1U;
#line 789
  mcu_cnt = 4U;
#line 790
  goto ldv_38356;
  default: 
#line 793
  descriptor___9.modname = "rts5208";
#line 793
  descriptor___9.function = "switch_normal_clock";
#line 793
  descriptor___9.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 793
  descriptor___9.format = "Try to switch to an illegal clock (%d)\n";
#line 793
  descriptor___9.lineno = 794U;
#line 793
  descriptor___9.flags = 0U;
#line 793
  tmp___20 = ldv__builtin_expect((long )descriptor___9.flags & 1L, 0L);
#line 793
  if (tmp___20 != 0L) {
#line 793
    tmp___19 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 793
    __dynamic_dev_dbg(& descriptor___9, (struct device  const  *)tmp___19, "Try to switch to an illegal clock (%d)\n",
                      clk);
  } else {

  }
#line 795
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
              "switch_normal_clock", 795);
#line 796
  return (1);
  }
  ldv_38356: 
#line 799
  retval = rtsx_write_register(chip, 64514, 255, 1);
#line 800
  if (retval != 0) {
#line 801
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_normal_clock", 801);
#line 802
    return (retval);
  } else {

  }
#line 804
  if (sd_vpclk_phase_reset != 0) {
#line 805
    retval = rtsx_write_register(chip, 64554, 64, 0);
#line 807
    if (retval != 0) {
#line 808
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "switch_normal_clock", 808);
#line 809
      return (retval);
    } else {

    }
#line 811
    retval = rtsx_write_register(chip, 64555, 64, 0);
#line 813
    if (retval != 0) {
#line 814
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "switch_normal_clock", 814);
#line 815
      return (retval);
    } else {

    }
  } else {

  }
#line 818
  retval = rtsx_write_register(chip, 64515, 255, (int )((u8 )((int )((signed char )((int )div << 4)) | (int )((signed char )mcu_cnt))));
#line 820
  if (retval != 0) {
#line 821
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_normal_clock", 821);
#line 822
    return (retval);
  } else {

  }
#line 824
  retval = rtsx_write_register(chip, 64516, 255, (int )sel);
#line 825
  if (retval != 0) {
#line 826
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_normal_clock", 826);
#line 827
    return (retval);
  } else {

  }
#line 830
  if (sd_vpclk_phase_reset != 0) {
#line 831
    __const_udelay(859000UL);
#line 832
    retval = rtsx_write_register(chip, 64554, 64, 64);
#line 834
    if (retval != 0) {
#line 835
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "switch_normal_clock", 835);
#line 836
      return (retval);
    } else {

    }
#line 838
    retval = rtsx_write_register(chip, 64555, 64, 64);
#line 840
    if (retval != 0) {
#line 841
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "switch_normal_clock", 841);
#line 842
      return (retval);
    } else {

    }
#line 844
    __const_udelay(859000UL);
  } else {

  }
#line 846
  retval = rtsx_write_register(chip, 64514, 255, 0);
#line 847
  if (retval != 0) {
#line 848
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "switch_normal_clock", 848);
#line 849
    return (retval);
  } else {

  }
#line 852
  chip->cur_clk = clk;
#line 854
  return (0);
}
}
#line 857 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void trans_dma_enable(enum dma_data_direction dir , struct rtsx_chip *chip , u32 byte_cnt ,
                      u8 pack_size ) 
{ 


  {
#line 860
  if ((unsigned int )pack_size > 48U) {
#line 861
    pack_size = 32U;
  } else {

  }
#line 863
  rtsx_add_cmd(chip, 1, 65057, 128, 128);
#line 865
  rtsx_add_cmd(chip, 1, 65067, 255, (int )((unsigned char )(byte_cnt >> 24)));
#line 866
  rtsx_add_cmd(chip, 1, 65066, 255, (int )((unsigned char )(byte_cnt >> 16)));
#line 867
  rtsx_add_cmd(chip, 1, 65065, 255, (int )((unsigned char )(byte_cnt >> 8)));
#line 868
  rtsx_add_cmd(chip, 1, 65064, 255, (int )((unsigned char )byte_cnt));
#line 870
  if ((unsigned int )dir == 2U) {
#line 871
    rtsx_add_cmd(chip, 1, 65068, 51, (int )((unsigned int )pack_size | 3U));
  } else {
#line 875
    rtsx_add_cmd(chip, 1, 65068, 51, (int )((unsigned int )pack_size | 1U));
  }
#line 880
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 881
  return;
}
}
#line 883 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int enable_card_clock(struct rtsx_chip *chip , u8 card ) 
{ 
  int retval ;
  u8 clk_en ;

  {
#line 886
  clk_en = 0U;
#line 888
  if (((int )card & 16) != 0) {
#line 889
    clk_en = (u8 )((unsigned int )clk_en | 2U);
  } else {

  }
#line 890
  if (((int )card & 4) != 0) {
#line 891
    clk_en = (u8 )((unsigned int )clk_en | 4U);
  } else {

  }
#line 892
  if (((int )card & 8) != 0) {
#line 893
    clk_en = (u8 )((unsigned int )clk_en | 8U);
  } else {

  }
#line 895
  retval = rtsx_write_register(chip, 64873, (int )clk_en, (int )clk_en);
#line 896
  if (retval != 0) {
#line 897
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "enable_card_clock", 897);
#line 898
    return (retval);
  } else {

  }
#line 901
  return (0);
}
}
#line 904 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int disable_card_clock(struct rtsx_chip *chip , u8 card ) 
{ 
  int retval ;
  u8 clk_en ;

  {
#line 907
  clk_en = 0U;
#line 909
  if (((int )card & 16) != 0) {
#line 910
    clk_en = (u8 )((unsigned int )clk_en | 2U);
  } else {

  }
#line 911
  if (((int )card & 4) != 0) {
#line 912
    clk_en = (u8 )((unsigned int )clk_en | 4U);
  } else {

  }
#line 913
  if (((int )card & 8) != 0) {
#line 914
    clk_en = (u8 )((unsigned int )clk_en | 8U);
  } else {

  }
#line 916
  retval = rtsx_write_register(chip, 64873, (int )clk_en, 0);
#line 917
  if (retval != 0) {
#line 918
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "disable_card_clock", 918);
#line 919
    return (retval);
  } else {

  }
#line 922
  return (0);
}
}
#line 925 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int card_power_on(struct rtsx_chip *chip , u8 card ) 
{ 
  int retval ;
  u8 mask ;
  u8 val1 ;
  u8 val2 ;

  {
#line 930
  if ((unsigned int )chip->lun_mode == 1U && (unsigned int )card == 8U) {
#line 931
    mask = 12U;
#line 932
    val1 = 4U;
#line 933
    val2 = 0U;
  } else {
#line 935
    mask = 3U;
#line 936
    val1 = 1U;
#line 937
    val2 = 0U;
  }
#line 940
  chip->ci = 0;
#line 941
  rtsx_add_cmd(chip, 1, 64848, (int )mask, (int )val1);
#line 943
  retval = rtsx_send_cmd(chip, 0, 100);
#line 944
  if (retval != 0) {
#line 945
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_power_on", 945);
#line 946
    return (1);
  } else {

  }
#line 949
  __udelay((unsigned long )chip->pmos_pwr_on_interval);
#line 951
  chip->ci = 0;
#line 952
  rtsx_add_cmd(chip, 1, 64848, (int )mask, (int )val2);
#line 954
  retval = rtsx_send_cmd(chip, 0, 100);
#line 955
  if (retval != 0) {
#line 956
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_power_on", 956);
#line 957
    return (1);
  } else {

  }
#line 960
  return (0);
}
}
#line 963 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int card_power_off(struct rtsx_chip *chip , u8 card ) 
{ 
  int retval ;
  u8 mask ;
  u8 val ;

  {
#line 968
  if ((unsigned int )chip->lun_mode == 1U && (unsigned int )card == 8U) {
#line 969
    mask = 12U;
#line 970
    val = 12U;
  } else {
#line 972
    mask = 3U;
#line 973
    val = 3U;
  }
#line 976
  retval = rtsx_write_register(chip, 64848, (int )mask, (int )val);
#line 977
  if (retval != 0) {
#line 978
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_power_off", 978);
#line 979
    return (retval);
  } else {

  }
#line 982
  return (0);
}
}
#line 985 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int card_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 sec_addr , u16 sec_cnt ) 
{ 
  int retval ;
  unsigned int lun ;
  int i ;
  int tmp ;
  int tmp___0 ;
  struct _ddebug descriptor ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 989
  lun = (unsigned int )(srb->device)->lun;
#line 992
  if ((unsigned long )chip->rw_card[lun] == (unsigned long )((int (*)(struct scsi_cmnd * ,
                                                                      struct rtsx_chip * ,
                                                                      u32  , u16  ))0)) {
#line 993
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_rw", 993);
#line 994
    return (1);
  } else {

  }
#line 997
  i = 0;
#line 997
  goto ldv_38428;
  ldv_38427: 
#line 998
  chip->rw_need_retry = 0;
#line 1000
  retval = (*(chip->rw_card[lun]))(srb, chip, sec_addr, (int )sec_cnt);
#line 1001
  if (retval != 0) {
#line 1002
    tmp = rtsx_check_chip_exist(chip);
#line 1002
    if (tmp != 0) {
#line 1003
      rtsx_release_chip(chip);
#line 1004
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "card_rw", 1004);
#line 1005
      return (1);
    } else {

    }
#line 1007
    tmp___0 = detect_card_cd(chip, chip->cur_card);
#line 1007
    if (tmp___0 != 0) {
#line 1009
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "card_rw", 1009);
#line 1010
      return (1);
    } else {

    }
#line 1013
    if (chip->rw_need_retry == 0) {
#line 1014
      descriptor.modname = "rts5208";
#line 1014
      descriptor.function = "card_rw";
#line 1014
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 1014
      descriptor.format = "RW fail, but no need to retry\n";
#line 1014
      descriptor.lineno = 1014U;
#line 1014
      descriptor.flags = 0U;
#line 1014
      tmp___2 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1014
      if (tmp___2 != 0L) {
#line 1014
        tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1014
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___1, "RW fail, but no need to retry\n");
      } else {

      }
#line 1015
      goto ldv_38425;
    } else {

    }
  } else {
#line 1018
    chip->rw_need_retry = 0;
#line 1019
    goto ldv_38425;
  }
#line 1022
  descriptor___0.modname = "rts5208";
#line 1022
  descriptor___0.function = "card_rw";
#line 1022
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 1022
  descriptor___0.format = "Retry RW, (i = %d)\n";
#line 1022
  descriptor___0.lineno = 1022U;
#line 1022
  descriptor___0.flags = 0U;
#line 1022
  tmp___4 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1022
  if (tmp___4 != 0L) {
#line 1022
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1022
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___3, "Retry RW, (i = %d)\n",
                      i);
  } else {

  }
#line 997
  i = i + 1;
  ldv_38428: ;
#line 997
  if (i <= 2) {
#line 999
    goto ldv_38427;
  } else {

  }
  ldv_38425: ;
#line 1025
  return (retval);
}
}
#line 1028 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int card_share_mode(struct rtsx_chip *chip , int card ) 
{ 
  int retval ;
  u8 mask ;
  u8 value ;

  {
#line 1033
  if ((unsigned int )chip->product_id == 21000U) {
#line 1034
    mask = 15U;
#line 1035
    if (card == 4) {
#line 1036
      value = 4U;
    } else
#line 1037
    if (card == 8) {
#line 1038
      value = 8U;
    } else
#line 1039
    if (card == 16) {
#line 1040
      value = 2U;
    } else {
#line 1042
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "card_share_mode", 1042);
#line 1043
      return (1);
    }
  } else
#line 1046
  if ((unsigned int )chip->product_id == 21128U) {
#line 1047
    mask = 3U;
#line 1048
    if (card == 4) {
#line 1049
      value = 1U;
    } else
#line 1050
    if (card == 8) {
#line 1051
      value = 2U;
    } else
#line 1052
    if (card == 16) {
#line 1053
      value = 0U;
    } else {
#line 1055
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "card_share_mode", 1055);
#line 1056
      return (1);
    }
  } else {
#line 1060
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_share_mode", 1060);
#line 1061
    return (1);
  }
#line 1064
  retval = rtsx_write_register(chip, 64850, (int )mask, (int )value);
#line 1065
  if (retval != 0) {
#line 1066
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "card_share_mode", 1066);
#line 1067
    return (retval);
  } else {

  }
#line 1070
  return (0);
}
}
#line 1074 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int select_card(struct rtsx_chip *chip , int card ) 
{ 
  int retval ;
  u8 mod ;

  {
#line 1078
  if (chip->cur_card != card) {
#line 1081
    if (card == 4) {
#line 1082
      mod = 2U;
    } else
#line 1083
    if (card == 8) {
#line 1084
      mod = 3U;
    } else
#line 1085
    if (card == 16) {
#line 1086
      mod = 1U;
    } else
#line 1087
    if (card == 128) {
#line 1088
      mod = 4U;
    } else {
#line 1090
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "select_card", 1090);
#line 1091
      return (1);
    }
#line 1094
    retval = rtsx_write_register(chip, 64860, 7, (int )mod);
#line 1095
    if (retval != 0) {
#line 1096
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "select_card", 1096);
#line 1097
      return (retval);
    } else {

    }
#line 1099
    chip->cur_card = card;
#line 1101
    retval = card_share_mode(chip, card);
#line 1102
    if (retval != 0) {
#line 1103
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                  "select_card", 1103);
#line 1104
      return (1);
    } else {

    }
  } else {

  }
#line 1108
  return (0);
}
}
#line 1111 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void toggle_gpio(struct rtsx_chip *chip , u8 gpio ) 
{ 
  u8 temp_reg ;

  {
#line 1115
  rtsx_read_register(chip, 64856, & temp_reg);
#line 1116
  temp_reg = (u8 )((int )((signed char )(1 << (int )gpio)) ^ (int )((signed char )temp_reg));
#line 1117
  rtsx_write_register(chip, 64856, 255, (int )temp_reg);
#line 1118
  return;
}
}
#line 1120 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void turn_on_led(struct rtsx_chip *chip , u8 gpio ) 
{ 


  {
#line 1122
  if ((unsigned int )chip->product_id == 21128U) {
#line 1123
    rtsx_write_register(chip, 64856, (int )((unsigned char )(1 << (int )gpio)), (int )((unsigned char )(1 << (int )gpio)));
  } else {
#line 1126
    rtsx_write_register(chip, 64856, (int )((unsigned char )(1 << (int )gpio)), 0);
  }
#line 1127
  return;
}
}
#line 1129 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void turn_off_led(struct rtsx_chip *chip , u8 gpio ) 
{ 


  {
#line 1131
  if ((unsigned int )chip->product_id == 21128U) {
#line 1132
    rtsx_write_register(chip, 64856, (int )((unsigned char )(1 << (int )gpio)), 0);
  } else {
#line 1134
    rtsx_write_register(chip, 64856, (int )((unsigned char )(1 << (int )gpio)), (int )((unsigned char )(1 << (int )gpio)));
  }
#line 1136
  return;
}
}
#line 1138 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int detect_card_cd(struct rtsx_chip *chip , int card ) 
{ 
  u32 card_cd ;
  u32 status ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1142
  if (card == 4) {
#line 1143
    card_cd = 65536U;
  } else
#line 1144
  if (card == 8) {
#line 1145
    card_cd = 131072U;
  } else
#line 1146
  if (card == 16) {
#line 1147
    card_cd = 262144U;
  } else {
#line 1149
    descriptor.modname = "rts5208";
#line 1149
    descriptor.function = "detect_card_cd";
#line 1149
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c";
#line 1149
    descriptor.format = "Wrong card type: 0x%x\n";
#line 1149
    descriptor.lineno = 1149U;
#line 1149
    descriptor.flags = 0U;
#line 1149
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1149
    if (tmp___0 != 0L) {
#line 1149
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1149
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Wrong card type: 0x%x\n",
                        card);
    } else {

    }
#line 1150
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "detect_card_cd", 1150);
#line 1151
    return (1);
  }
#line 1154
  status = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 1155
  if ((status & card_cd) == 0U) {
#line 1156
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c",
                "detect_card_cd", 1156);
#line 1157
    return (1);
  } else {

  }
#line 1160
  return (0);
}
}
#line 1163 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int check_card_exist(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1165
  if ((unsigned int )((int )chip->card_exist & (int )chip->lun2card[lun]) != 0U) {
#line 1166
    return (1);
  } else {

  }
#line 1168
  return (0);
}
}
#line 1171 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int check_card_ready(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1173
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) != 0U) {
#line 1174
    return (1);
  } else {

  }
#line 1176
  return (0);
}
}
#line 1179 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int check_card_wp(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1181
  if ((unsigned int )((int )chip->card_wp & (int )chip->lun2card[lun]) != 0U) {
#line 1182
    return (1);
  } else {

  }
#line 1184
  return (0);
}
}
#line 1187 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int check_card_fail(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1189
  if ((unsigned int )((int )chip->card_fail & (int )chip->lun2card[lun]) != 0U) {
#line 1190
    return (1);
  } else {

  }
#line 1192
  return (0);
}
}
#line 1195 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
int check_card_ejected(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1197
  if ((unsigned int )((int )chip->card_ejected & (int )chip->lun2card[lun]) != 0U) {
#line 1198
    return (1);
  } else {

  }
#line 1200
  return (0);
}
}
#line 1203 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
u8 get_lun_card(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1205
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 16U) {
#line 1206
    return (16U);
  } else
#line 1207
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 4U) {
#line 1208
    return (4U);
  } else
#line 1209
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 8U) {
#line 1210
    return (8U);
  } else {

  }
#line 1212
  return (0U);
}
}
#line 1215 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.c"
void eject_card(struct rtsx_chip *chip , unsigned int lun ) 
{ 


  {
#line 1217
  do_remaining_work(chip);
#line 1219
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 4U) {
#line 1220
    release_sd_card(chip);
#line 1221
    chip->card_ejected = (u8 )((unsigned int )chip->card_ejected | 4U);
#line 1222
    chip->card_ready = (unsigned int )chip->card_ready & 251U;
#line 1223
    chip->capacity[lun] = 0U;
  } else
#line 1224
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 16U) {
#line 1225
    release_xd_card(chip);
#line 1226
    chip->card_ejected = (u8 )((unsigned int )chip->card_ejected | 16U);
#line 1227
    chip->card_ready = (unsigned int )chip->card_ready & 239U;
#line 1228
    chip->capacity[lun] = 0U;
  } else
#line 1229
  if ((unsigned int )((int )chip->card_ready & (int )chip->lun2card[lun]) == 8U) {
#line 1230
    release_ms_card(chip);
#line 1231
    chip->card_ejected = (u8 )((unsigned int )chip->card_ejected | 8U);
#line 1232
    chip->card_ready = (unsigned int )chip->card_ready & 247U;
#line 1233
    chip->capacity[lun] = 0U;
  } else {

  }
#line 1235
  return;
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/rtsx_card.o.c.prepared"
int ldv_scsi_add_host_with_dma_45(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_51(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 29 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/general.h"
int bit1cnt_long(u32 data ) ;
#line 25 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/general.c"
int bit1cnt_long(u32 data ) 
{ 
  int i ;
  int cnt ;

  {
#line 27
  cnt = 0;
#line 29
  i = 0;
#line 29
  goto ldv_38005;
  ldv_38004: ;
#line 30
  if ((int )data & 1) {
#line 31
    cnt = cnt + 1;
  } else {

  }
#line 32
  data = data >> 1;
#line 29
  i = i + 1;
  ldv_38005: ;
#line 29
  if (i <= 31) {
#line 31
    goto ldv_38004;
  } else {

  }

#line 34
  return (cnt);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/general.o.c.prepared"
int ldv_scsi_add_host_with_dma_51(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_57(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 277 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/sd.h"
int sd_select_card(struct rtsx_chip *chip , int select ) ;
#line 280
int sd_switch_clock(struct rtsx_chip *chip ) ;
#line 281
void sd_stop_seq_mode(struct rtsx_chip *chip ) ;
#line 288
int soft_reset_sd_card(struct rtsx_chip *chip ) ;
#line 289
int ext_sd_send_cmd_get_rsp(struct rtsx_chip *chip , u8 cmd_idx , u32 arg , u8 rsp_type ,
                            u8 *rsp , int rsp_len , bool special_check ) ;
#line 291
int ext_sd_get_rsp(struct rtsx_chip *chip , int len , u8 *rsp , u8 rsp_type ) ;
#line 1047 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static int switch_clock(struct rtsx_chip *chip , int clk ) 
{ 
  int retval ;

  {
#line 1049
  retval = 0;
#line 1051
  if (chip->asic_code != 0) {
#line 1052
    retval = switch_ssc_clock(chip, clk);
  } else {
#line 1054
    retval = switch_normal_clock(chip, clk);
  }
#line 1056
  return (retval);
}
}
#line 1081 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static void rtsx_clear_sd_error(struct rtsx_chip *chip ) 
{ 


  {
#line 1083
  rtsx_write_register(chip, 64852, 68, 68);
#line 1084
  return;
}
}
#line 32 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CFG1  ;
#line 33 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CFG2  ;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CFG3  ;
#line 35 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_STAT1  ;
#line 36 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_STAT2  ;
#line 37 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_BUS_STAT  ;
#line 38 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_PAD_CTL  ;
#line 39 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_SAMPLE_POINT_CTL  ;
#line 40 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_PUSH_POINT_CTL  ;
#line 41 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD0  ;
#line 42 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD1  ;
#line 43 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD2  ;
#line 44 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD3  ;
#line 45 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD4  ;
#line 46 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_CMD5  ;
#line 47 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_BYTE_CNT_L  ;
#line 48 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_BYTE_CNT_H  ;
#line 49 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_BLOCK_CNT_L  ;
#line 50 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_BLOCK_CNT_H  ;
#line 51 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_TRANSFER  ;
#line 52 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_VPCLK0_CTL  ;
#line 53 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_VPCLK1_CTL  ;
#line 54 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_DCMPS0_CTL  ;
#line 55 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u16 REG_SD_DCMPS1_CTL  ;
#line 57 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
__inline static void sd_set_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct sd_info *sd_card ;

  {
#line 59
  sd_card = & chip->sd_card;
#line 61
  sd_card->err_code = (u8 )((int )sd_card->err_code | (int )err_code);
#line 62
  return;
}
}
#line 64 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
__inline static void sd_clr_err_code(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;

  {
#line 66
  sd_card = & chip->sd_card;
#line 68
  sd_card->err_code = 0U;
#line 69
  return;
}
}
#line 71 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
__inline static int sd_check_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct sd_info *sd_card ;

  {
#line 73
  sd_card = & chip->sd_card;
#line 75
  return ((int )sd_card->err_code & (int )err_code);
}
}
#line 78 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static void sd_init_reg_addr(struct rtsx_chip *chip ) 
{ 


  {
#line 80
  REG_SD_CFG1 = 64817U;
#line 81
  REG_SD_CFG2 = 64819U;
#line 82
  REG_SD_CFG3 = 64830U;
#line 83
  REG_SD_STAT1 = 64816U;
#line 84
  REG_SD_STAT2 = 0U;
#line 85
  REG_SD_BUS_STAT = 0U;
#line 86
  REG_SD_PAD_CTL = 0U;
#line 87
  REG_SD_SAMPLE_POINT_CTL = 0U;
#line 88
  REG_SD_PUSH_POINT_CTL = 0U;
#line 89
  REG_SD_CMD0 = 64820U;
#line 90
  REG_SD_CMD1 = 64821U;
#line 91
  REG_SD_CMD2 = 64822U;
#line 92
  REG_SD_CMD3 = 64823U;
#line 93
  REG_SD_CMD4 = 64824U;
#line 94
  REG_SD_CMD5 = 64858U;
#line 95
  REG_SD_BYTE_CNT_L = 64825U;
#line 96
  REG_SD_BYTE_CNT_H = 64826U;
#line 97
  REG_SD_BLOCK_CNT_L = 64827U;
#line 98
  REG_SD_BLOCK_CNT_H = 64828U;
#line 99
  REG_SD_TRANSFER = 64818U;
#line 100
  REG_SD_VPCLK0_CTL = 0U;
#line 101
  REG_SD_VPCLK1_CTL = 0U;
#line 102
  REG_SD_DCMPS0_CTL = 0U;
#line 103
  REG_SD_DCMPS1_CTL = 0U;
#line 104
  return;
}
}
#line 106 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_data0_status(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 stat ;

  {
#line 111
  retval = rtsx_read_register(chip, (int )REG_SD_STAT1, & stat);
#line 112
  if (retval != 0) {
#line 113
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_data0_status", 113);
#line 114
    return (retval);
  } else {

  }
#line 117
  if (((int )stat & 2) == 0) {
#line 118
    sd_set_err_code(chip, 16);
#line 119
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_data0_status", 119);
#line 120
    return (1);
  } else {

  }
#line 123
  return (0);
}
}
#line 126 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_send_cmd_get_rsp(struct rtsx_chip *chip , u8 cmd_idx , u32 arg , u8 rsp_type ,
                               u8 *rsp , int rsp_len ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int timeout ;
  u16 reg_addr ;
  u8 *ptr ;
  int stat_idx ;
  int rty_cnt ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u8 val ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  u8 *tmp___5 ;
  struct task_struct *tmp___6 ;
  long volatile   __ret ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  struct task_struct *tmp___10 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___11 ;
  long tmp___12 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___13 ;
  long tmp___14 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___15 ;
  long tmp___16 ;

  {
#line 129
  sd_card = & chip->sd_card;
#line 131
  timeout = 100;
#line 134
  stat_idx = 0;
#line 135
  rty_cnt = 0;
#line 137
  sd_clr_err_code(chip);
#line 139
  descriptor.modname = "rts5208";
#line 139
  descriptor.function = "sd_send_cmd_get_rsp";
#line 139
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 139
  descriptor.format = "SD/MMC CMD %d, arg = 0x%08x\n";
#line 139
  descriptor.lineno = 139U;
#line 139
  descriptor.flags = 0U;
#line 139
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 139
  if (tmp___0 != 0L) {
#line 139
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 139
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD/MMC CMD %d, arg = 0x%08x\n",
                      (int )cmd_idx, arg);
  } else {

  }
#line 141
  if ((unsigned int )rsp_type == 9U) {
#line 142
    timeout = 3000;
  } else {

  }
  RTY_SEND_CMD: 
#line 146
  chip->ci = 0;
#line 148
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, (int )((unsigned int )cmd_idx | 64U));
#line 149
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD1, 255, (int )((unsigned char )(arg >> 24)));
#line 150
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD2, 255, (int )((unsigned char )(arg >> 16)));
#line 151
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD3, 255, (int )((unsigned char )(arg >> 8)));
#line 152
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD4, 255, (int )((unsigned char )arg));
#line 154
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )rsp_type);
#line 155
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 157
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 136);
#line 159
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 96, 96);
#line 162
  if ((unsigned int )rsp_type == 2U) {
#line 163
    reg_addr = 64000U;
#line 163
    goto ldv_38230;
    ldv_38229: 
#line 165
    rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 164
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_38230: ;
#line 163
    if ((unsigned int )reg_addr <= 64015U) {
#line 165
      goto ldv_38229;
    } else {

    }
#line 167
    stat_idx = 16;
  } else
#line 168
  if ((unsigned int )rsp_type != 4U) {
#line 169
    reg_addr = REG_SD_CMD0;
#line 169
    goto ldv_38233;
    ldv_38232: 
#line 171
    rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 170
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_38233: ;
#line 169
    if ((int )reg_addr <= (int )REG_SD_CMD4) {
#line 171
      goto ldv_38232;
    } else {

    }
#line 173
    stat_idx = 5;
  } else {

  }
#line 176
  rtsx_add_cmd(chip, 0, (int )REG_SD_STAT1, 0, 0);
#line 178
  retval = rtsx_send_cmd(chip, 4, timeout);
#line 179
  if (retval < 0) {
#line 182
    rtsx_read_register(chip, (int )REG_SD_STAT1, & val);
#line 183
    descriptor___0.modname = "rts5208";
#line 183
    descriptor___0.function = "sd_send_cmd_get_rsp";
#line 183
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 183
    descriptor___0.format = "SD_STAT1: 0x%x\n";
#line 183
    descriptor___0.lineno = 183U;
#line 183
    descriptor___0.flags = 0U;
#line 183
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 183
    if (tmp___2 != 0L) {
#line 183
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 183
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "SD_STAT1: 0x%x\n",
                        (int )val);
    } else {

    }
#line 185
    rtsx_read_register(chip, (int )REG_SD_CFG3, & val);
#line 186
    descriptor___1.modname = "rts5208";
#line 186
    descriptor___1.function = "sd_send_cmd_get_rsp";
#line 186
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 186
    descriptor___1.format = "SD_CFG3: 0x%x\n";
#line 186
    descriptor___1.lineno = 186U;
#line 186
    descriptor___1.flags = 0U;
#line 186
    tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 186
    if (tmp___4 != 0L) {
#line 186
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 186
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "SD_CFG3: 0x%x\n",
                        (int )val);
    } else {

    }
#line 188
    if (retval == -110) {
#line 189
      if (((int )rsp_type & 8) != 0) {
#line 190
        retval = sd_check_data0_status(chip);
#line 191
        if (retval != 0) {
#line 192
          rtsx_clear_sd_error(chip);
#line 193
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "sd_send_cmd_get_rsp", 193);
#line 194
          return (retval);
        } else {

        }
      } else {
#line 197
        sd_set_err_code(chip, 64);
      }
#line 199
      retval = 2;
    } else {
#line 201
      retval = 1;
    }
#line 203
    rtsx_clear_sd_error(chip);
#line 205
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_send_cmd_get_rsp", 205);
#line 206
    return (retval);
  } else {

  }
#line 209
  if ((unsigned int )rsp_type == 4U) {
#line 210
    return (0);
  } else {

  }
#line 212
  tmp___5 = rtsx_get_cmd_data(chip);
#line 212
  ptr = tmp___5 + 1UL;
#line 214
  if (((int )*ptr & 192) != 0) {
#line 215
    sd_set_err_code(chip, 8);
#line 216
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_send_cmd_get_rsp", 216);
#line 217
    return (1);
  } else {

  }
#line 220
  if (((int )rsp_type & 4) == 0) {
#line 221
    if ((int )((signed char )*(ptr + (unsigned long )stat_idx)) < 0) {
#line 222
      if ((unsigned int )cmd_idx == 25U) {
#line 223
        sd_set_err_code(chip, 128);
#line 224
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_send_cmd_get_rsp", 224);
#line 225
        return (1);
      } else {

      }
#line 227
      if (rty_cnt <= 2) {
#line 228
        tmp___6 = get_current();
#line 228
        tmp___6->task_state_change = 0UL;
#line 228
        __ret = 1L;
#line 228
        switch (8UL) {
        case 1UL: 
#line 228
        tmp___7 = get_current();
#line 228
        __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___7->state): : "memory",
                             "cc");
#line 228
        goto ldv_38240;
        case 2UL: 
#line 228
        tmp___8 = get_current();
#line 228
        __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___8->state): : "memory",
                             "cc");
#line 228
        goto ldv_38240;
        case 4UL: 
#line 228
        tmp___9 = get_current();
#line 228
        __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___9->state): : "memory",
                             "cc");
#line 228
        goto ldv_38240;
        case 8UL: 
#line 228
        tmp___10 = get_current();
#line 228
        __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___10->state): : "memory",
                             "cc");
#line 228
        goto ldv_38240;
        default: 
#line 228
        __xchg_wrong_size();
        }
        ldv_38240: 
#line 228
        schedule_timeout(5L);
#line 229
        rty_cnt = rty_cnt + 1;
#line 230
        goto RTY_SEND_CMD;
      } else {
#line 232
        sd_set_err_code(chip, 128);
#line 233
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_send_cmd_get_rsp", 233);
#line 234
        return (1);
      }
    } else {

    }
  } else {

  }
#line 239
  if ((unsigned int )rsp_type == 1U || (unsigned int )rsp_type == 9U) {
#line 240
    if ((unsigned int )cmd_idx != 3U && (unsigned int )cmd_idx != 8U) {
#line 242
      if ((unsigned int )cmd_idx != 12U) {
#line 243
        if ((int )((signed char )*(ptr + 1UL)) < 0) {
#line 244
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "sd_send_cmd_get_rsp", 244);
#line 245
          return (1);
        } else {

        }
      } else {

      }
#line 249
      if (((int )*(ptr + 1UL) & 125) != 0) {
#line 254
        descriptor___2.modname = "rts5208";
#line 254
        descriptor___2.function = "sd_send_cmd_get_rsp";
#line 254
        descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 254
        descriptor___2.format = "ptr[1]: 0x%02x\n";
#line 254
        descriptor___2.lineno = 255U;
#line 254
        descriptor___2.flags = 0U;
#line 254
        tmp___12 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 254
        if (tmp___12 != 0L) {
#line 254
          tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 254
          __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___11, "ptr[1]: 0x%02x\n",
                            (int )*(ptr + 1UL));
        } else {

        }
#line 256
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_send_cmd_get_rsp", 256);
#line 257
        return (1);
      } else {

      }
#line 259
      if ((unsigned int )*(ptr + 2UL) != 0U) {
#line 260
        descriptor___3.modname = "rts5208";
#line 260
        descriptor___3.function = "sd_send_cmd_get_rsp";
#line 260
        descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 260
        descriptor___3.format = "ptr[2]: 0x%02x\n";
#line 260
        descriptor___3.lineno = 261U;
#line 260
        descriptor___3.flags = 0U;
#line 260
        tmp___14 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 260
        if (tmp___14 != 0L) {
#line 260
          tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 260
          __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___13, "ptr[2]: 0x%02x\n",
                            (int )*(ptr + 2UL));
        } else {

        }
#line 262
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_send_cmd_get_rsp", 262);
#line 263
        return (1);
      } else {

      }
#line 265
      if ((int )((signed char )*(ptr + 3UL)) < 0) {
#line 266
        descriptor___4.modname = "rts5208";
#line 266
        descriptor___4.function = "sd_send_cmd_get_rsp";
#line 266
        descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 266
        descriptor___4.format = "ptr[3]: 0x%02x\n";
#line 266
        descriptor___4.lineno = 267U;
#line 266
        descriptor___4.flags = 0U;
#line 266
        tmp___16 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 266
        if (tmp___16 != 0L) {
#line 266
          tmp___15 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 266
          __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___15, "ptr[3]: 0x%02x\n",
                            (int )*(ptr + 3UL));
        } else {

        }
#line 268
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_send_cmd_get_rsp", 268);
#line 269
        return (1);
      } else {

      }
#line 271
      if ((int )*(ptr + 3UL) & 1) {
#line 272
        sd_card->sd_data_buf_ready = 1U;
      } else {
#line 274
        sd_card->sd_data_buf_ready = 0U;
      }
    } else {

    }
  } else {

  }
#line 278
  if ((unsigned long )rsp != (unsigned long )((u8 *)0U) && rsp_len != 0) {
#line 279
    memcpy((void *)rsp, (void const   *)ptr, (size_t )rsp_len);
  } else {

  }
#line 281
  return (0);
}
}
#line 284 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_read_data(struct rtsx_chip *chip , u8 trans_mode , u8 *cmd , int cmd_len ,
                        u16 byte_cnt , u16 blk_cnt , u8 bus_width , u8 *buf , int buf_len ,
                        int timeout ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 289
  sd_card = & chip->sd_card;
#line 293
  sd_clr_err_code(chip);
#line 295
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 296
    buf_len = 0;
  } else {

  }
#line 298
  if (buf_len > 512) {
#line 299
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_read_data", 299);
#line 300
    return (1);
  } else {

  }
#line 303
  chip->ci = 0;
#line 305
  if (cmd_len != 0) {
#line 306
    descriptor.modname = "rts5208";
#line 306
    descriptor.function = "sd_read_data";
#line 306
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 306
    descriptor.format = "SD/MMC CMD %d\n";
#line 306
    descriptor.lineno = 306U;
#line 306
    descriptor.flags = 0U;
#line 306
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 306
    if (tmp___0 != 0L) {
#line 306
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 306
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD/MMC CMD %d\n",
                        (int )*cmd + -64);
    } else {

    }
#line 307
    i = 0;
#line 307
    goto ldv_38267;
    ldv_38266: 
#line 308
    rtsx_add_cmd(chip, 1, (int )((u16 )i) + (int )REG_SD_CMD0, 255, (int )*(cmd + (unsigned long )i));
#line 307
    i = i + 1;
    ldv_38267: ;
#line 307
    if ((6 < cmd_len ? 6 : cmd_len) > i) {
#line 309
      goto ldv_38266;
    } else {

    }

  } else {

  }
#line 311
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, (int )((unsigned char )byte_cnt));
#line 313
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, (int )((unsigned char )((int )byte_cnt >> 8)));
#line 315
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, (int )((unsigned char )blk_cnt));
#line 317
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, (int )((unsigned char )((int )blk_cnt >> 8)));
#line 320
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, (int )bus_width);
#line 322
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, 1);
#line 325
  if ((unsigned int )trans_mode != 15U) {
#line 326
    rtsx_add_cmd(chip, 1, 64859, 1, 1);
  } else {

  }
#line 329
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, (int )((unsigned int )trans_mode | 128U));
#line 331
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 334
  retval = rtsx_send_cmd(chip, 4, timeout);
#line 335
  if (retval < 0) {
#line 336
    if (retval == -110) {
#line 337
      sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
    } else {

    }
#line 341
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_read_data", 341);
#line 342
    return (1);
  } else {

  }
#line 345
  if ((unsigned long )buf != (unsigned long )((u8 *)0U) && buf_len != 0) {
#line 346
    retval = rtsx_read_ppbuf(chip, buf, buf_len);
#line 347
    if (retval != 0) {
#line 348
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_read_data", 348);
#line 349
      return (1);
    } else {

    }
  } else {

  }
#line 353
  return (0);
}
}
#line 356 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_write_data(struct rtsx_chip *chip , u8 trans_mode , u8 *cmd , int cmd_len ,
                         u16 byte_cnt , u16 blk_cnt , u8 bus_width , u8 *buf , int buf_len ,
                         int timeout ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 360
  sd_card = & chip->sd_card;
#line 364
  sd_clr_err_code(chip);
#line 366
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 367
    buf_len = 0;
  } else {

  }
#line 369
  if (buf_len > 512) {
#line 371
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_write_data", 371);
#line 372
    return (1);
  } else {

  }
#line 375
  if ((unsigned long )buf != (unsigned long )((u8 *)0U) && buf_len != 0) {
#line 376
    retval = rtsx_write_ppbuf(chip, buf, buf_len);
#line 377
    if (retval != 0) {
#line 378
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_write_data", 378);
#line 379
      return (1);
    } else {

    }
  } else {

  }
#line 383
  chip->ci = 0;
#line 385
  if (cmd_len != 0) {
#line 386
    descriptor.modname = "rts5208";
#line 386
    descriptor.function = "sd_write_data";
#line 386
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 386
    descriptor.format = "SD/MMC CMD %d\n";
#line 386
    descriptor.lineno = 386U;
#line 386
    descriptor.flags = 0U;
#line 386
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 386
    if (tmp___0 != 0L) {
#line 386
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 386
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD/MMC CMD %d\n",
                        (int )*cmd + -64);
    } else {

    }
#line 387
    i = 0;
#line 387
    goto ldv_38287;
    ldv_38286: 
#line 388
    rtsx_add_cmd(chip, 1, (int )((u16 )i) + (int )REG_SD_CMD0, 255, (int )*(cmd + (unsigned long )i));
#line 387
    i = i + 1;
    ldv_38287: ;
#line 387
    if ((6 < cmd_len ? 6 : cmd_len) > i) {
#line 389
      goto ldv_38286;
    } else {

    }

  } else {

  }
#line 392
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, (int )((unsigned char )byte_cnt));
#line 394
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, (int )((unsigned char )((int )byte_cnt >> 8)));
#line 396
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, (int )((unsigned char )blk_cnt));
#line 398
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, (int )((unsigned char )((int )blk_cnt >> 8)));
#line 401
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, (int )bus_width);
#line 403
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, 1);
#line 407
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, (int )((unsigned int )trans_mode | 128U));
#line 409
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 412
  retval = rtsx_send_cmd(chip, 4, timeout);
#line 413
  if (retval < 0) {
#line 414
    if (retval == -110) {
#line 415
      sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
    } else {

    }
#line 419
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_write_data", 419);
#line 420
    return (1);
  } else {

  }
#line 423
  return (0);
}
}
#line 426 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_csd(struct rtsx_chip *chip , char check_wp ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  u8 csd_ver ;
  u8 trans_speed ;
  u8 rsp[16U] ;
  int tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  u8 blk_size ;
  u8 c_size_mult ;
  u16 c_size ;
  u32 total_sector ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;

  {
#line 428
  sd_card = & chip->sd_card;
#line 434
  i = 0;
#line 434
  goto ldv_38302;
  ldv_38301: 
#line 435
  tmp = detect_card_cd(chip, 4);
#line 435
  if (tmp != 0) {
#line 436
    sd_set_err_code(chip, 32);
#line 437
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_csd", 437);
#line 438
    return (1);
  } else {

  }
#line 441
  retval = sd_send_cmd_get_rsp(chip, 9, sd_card->sd_addr, 2, (u8 *)(& rsp), 16);
#line 443
  if (retval == 0) {
#line 444
    goto ldv_38300;
  } else {

  }
#line 434
  i = i + 1;
  ldv_38302: ;
#line 434
  if (i <= 5) {
#line 436
    goto ldv_38301;
  } else {

  }
  ldv_38300: ;
#line 447
  if (i == 6) {
#line 448
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_csd", 448);
#line 449
    return (1);
  } else {

  }
#line 452
  memcpy((void *)(& sd_card->raw_csd), (void const   *)(& rsp) + 1U, 15UL);
#line 454
  descriptor.modname = "rts5208";
#line 454
  descriptor.function = "sd_check_csd";
#line 454
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 454
  descriptor.format = "CSD Response:\n";
#line 454
  descriptor.lineno = 454U;
#line 454
  descriptor.flags = 0U;
#line 454
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 454
  if (tmp___1 != 0L) {
#line 454
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 454
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "CSD Response:\n");
  } else {

  }
#line 455
  descriptor___0.modname = "rts5208";
#line 455
  descriptor___0.function = "sd_check_csd";
#line 455
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 455
  descriptor___0.format = "%*ph\n";
#line 455
  descriptor___0.lineno = 455U;
#line 455
  descriptor___0.flags = 0U;
#line 455
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 455
  if (tmp___3 != 0L) {
#line 455
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 455
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "%*ph\n",
                      16, (u8 *)(& sd_card->raw_csd));
  } else {

  }
#line 457
  csd_ver = (int )rsp[1] >> 6;
#line 458
  descriptor___1.modname = "rts5208";
#line 458
  descriptor___1.function = "sd_check_csd";
#line 458
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 458
  descriptor___1.format = "csd_ver = %d\n";
#line 458
  descriptor___1.lineno = 458U;
#line 458
  descriptor___1.flags = 0U;
#line 458
  tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 458
  if (tmp___5 != 0L) {
#line 458
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 458
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "csd_ver = %d\n",
                      (int )csd_ver);
  } else {

  }
#line 460
  trans_speed = rsp[4];
#line 461
  if (((int )trans_speed & 7) == 2) {
#line 462
    if (((int )trans_speed & 248) > 47) {
#line 463
      if (chip->asic_code != 0) {
#line 464
        sd_card->sd_clock = 47;
      } else {
#line 466
        sd_card->sd_clock = 4;
      }
    } else
#line 468
    if (((int )trans_speed & 248) == 40) {
#line 469
      if (chip->asic_code != 0) {
#line 470
        sd_card->sd_clock = 39;
      } else {
#line 472
        sd_card->sd_clock = 3;
      }
    } else
#line 474
    if (((int )trans_speed & 248) == 32) {
#line 475
      if (chip->asic_code != 0) {
#line 476
        sd_card->sd_clock = 29;
      } else {
#line 478
        sd_card->sd_clock = 2;
      }
    } else
#line 480
    if (((int )trans_speed & 248) > 15) {
#line 481
      if (chip->asic_code != 0) {
#line 482
        sd_card->sd_clock = 23;
      } else {
#line 484
        sd_card->sd_clock = 1;
      }
    } else
#line 486
    if (((int )trans_speed & 8) > 7) {
#line 487
      if (chip->asic_code != 0) {
#line 488
        sd_card->sd_clock = 19;
      } else {
#line 490
        sd_card->sd_clock = 1;
      }
    } else {
#line 492
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_check_csd", 492);
#line 493
      return (1);
    }
  } else {
#line 496
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_csd", 496);
#line 497
    return (1);
  }
#line 500
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 4096) != 0) {
#line 501
    sd_card->capacity = 0U;
  } else
#line 503
  if ((((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 4096) == 0) || (unsigned int )csd_ver == 0U) {
#line 507
    blk_size = (unsigned int )rsp[6] & 15U;
#line 508
    c_size = ((((unsigned int )((u16 )rsp[7]) & 3U) << 10U) + (unsigned int )((int )((u16 )rsp[8]) << 2U)) + (unsigned int )((u16 )((int )rsp[9] >> 6));
#line 511
    c_size_mult = ((unsigned int )rsp[10] & 3U) << 1U;
#line 512
    c_size_mult = ((int )rsp[11] >> 7) + (int )c_size_mult;
#line 513
    sd_card->capacity = ((unsigned int )((int )c_size + 1) << ((int )c_size_mult + 2)) << ((int )blk_size + -9);
  } else {
#line 517
    total_sector = 0U;
#line 519
    total_sector = ((((unsigned int )rsp[8] & 63U) << 16) | ((unsigned int )rsp[9] << 8)) | (unsigned int )rsp[10];
#line 521
    sd_card->capacity = (total_sector + 1U) << 10;
  }
#line 525
  if ((int )((signed char )check_wp) != 0) {
#line 526
    if (((int )rsp[15] & 48) != 0) {
#line 527
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 4U);
    } else {

    }
#line 529
    descriptor___2.modname = "rts5208";
#line 529
    descriptor___2.function = "sd_check_csd";
#line 529
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 529
    descriptor___2.format = "CSD WP Status: 0x%x\n";
#line 529
    descriptor___2.lineno = 529U;
#line 529
    descriptor___2.flags = 0U;
#line 529
    tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 529
    if (tmp___7 != 0L) {
#line 529
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 529
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "CSD WP Status: 0x%x\n",
                        (int )rsp[15]);
    } else {

    }
  } else {

  }
#line 532
  return (0);
}
}
#line 535 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_set_sample_push_timing(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct sd_info *sd_card ;
  u8 val ;

  {
#line 538
  sd_card = & chip->sd_card;
#line 539
  val = 0U;
#line 541
  if ((chip->sd_ctl & 3U) == 1U) {
#line 542
    val = (u8 )((unsigned int )val | 16U);
  } else {

  }
#line 544
  if ((chip->sd_ctl & 12U) == 8U) {
#line 545
    if (chip->asic_code != 0) {
#line 546
      if ((((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 256) != 0) || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 512) != 0)) {
#line 547
        if (((int )val & 16) != 0) {
#line 548
          val = (u8 )((unsigned int )val | 4U);
        } else {
#line 550
          val = (u8 )((unsigned int )val | 8U);
        }
      } else {

      }
    } else
#line 553
    if (((int )val & 16) != 0) {
#line 554
      val = (u8 )((unsigned int )val | 4U);
    } else {
#line 556
      val = (u8 )((unsigned int )val | 8U);
    }
  } else
#line 558
  if ((chip->sd_ctl & 12U) == 4U) {
#line 560
    if (((int )val & 16) != 0) {
#line 561
      val = (u8 )((unsigned int )val | 4U);
    } else {
#line 563
      val = (u8 )((unsigned int )val | 8U);
    }
  } else {

  }
#line 566
  retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 28, (int )val);
#line 567
  if (retval != 0) {
#line 568
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_set_sample_push_timing", 568);
#line 569
    return (retval);
  } else {

  }
#line 572
  return (0);
}
}
#line 575 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static void sd_choose_proper_clock(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;

  {
#line 577
  sd_card = & chip->sd_card;
#line 579
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 2048) != 0) {
#line 580
    if (chip->asic_code != 0) {
#line 581
      sd_card->sd_clock = chip->asic_sd_sdr104_clk;
    } else {
#line 583
      sd_card->sd_clock = chip->fpga_sd_sdr104_clk;
    }
  } else
#line 585
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 586
    if (chip->asic_code != 0) {
#line 587
      sd_card->sd_clock = chip->asic_sd_ddr50_clk;
    } else {
#line 589
      sd_card->sd_clock = chip->fpga_sd_ddr50_clk;
    }
  } else
#line 591
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 512) != 0) {
#line 592
    if (chip->asic_code != 0) {
#line 593
      sd_card->sd_clock = chip->asic_sd_sdr50_clk;
    } else {
#line 595
      sd_card->sd_clock = chip->fpga_sd_sdr50_clk;
    }
  } else
#line 597
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 256) != 0) {
#line 598
    if (chip->asic_code != 0) {
#line 599
      sd_card->sd_clock = chip->asic_sd_hs_clk;
    } else {
#line 601
      sd_card->sd_clock = chip->fpga_sd_hs_clk;
    }
  } else
#line 603
  if ((((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 512) != 0) || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0)) {
#line 604
    if (chip->asic_code != 0) {
#line 605
      sd_card->sd_clock = chip->asic_mmc_52m_clk;
    } else {
#line 607
      sd_card->sd_clock = chip->fpga_mmc_52m_clk;
    }
  } else
#line 609
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 256) != 0) {
#line 610
    if (chip->asic_code != 0) {
#line 611
      sd_card->sd_clock = 48;
    } else {
#line 613
      sd_card->sd_clock = 4;
    }
  } else {

  }
#line 614
  return;
}
}
#line 617 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_set_clock_divider(struct rtsx_chip *chip , u8 clk_div ) 
{ 
  int retval ;
  u8 mask ;
  u8 val ;

  {
#line 620
  mask = 0U;
#line 620
  val = 0U;
#line 622
  mask = 96U;
#line 623
  if ((unsigned int )clk_div == 0U) {
#line 624
    val = 0U;
  } else
#line 625
  if ((unsigned int )clk_div == 128U) {
#line 626
    val = 64U;
  } else
#line 627
  if ((unsigned int )clk_div == 192U) {
#line 628
    val = 32U;
  } else {

  }
#line 630
  retval = rtsx_write_register(chip, (int )REG_SD_CFG1, (int )mask, (int )val);
#line 631
  if (retval != 0) {
#line 632
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_set_clock_divider", 632);
#line 633
    return (retval);
  } else {

  }
#line 636
  return (0);
}
}
#line 639 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_set_init_para(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;

  {
#line 641
  sd_card = & chip->sd_card;
#line 644
  retval = sd_set_sample_push_timing(chip);
#line 645
  if (retval != 0) {
#line 646
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_set_init_para", 646);
#line 647
    return (1);
  } else {

  }
#line 650
  sd_choose_proper_clock(chip);
#line 652
  retval = switch_clock(chip, sd_card->sd_clock);
#line 653
  if (retval != 0) {
#line 654
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_set_init_para", 654);
#line 655
    return (1);
  } else {

  }
#line 658
  return (0);
}
}
#line 661 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_select_card(struct rtsx_chip *chip , int select ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd_idx ;
  u8 cmd_type ;
  u32 addr ;

  {
#line 663
  sd_card = & chip->sd_card;
#line 668
  if (select != 0) {
#line 669
    cmd_idx = 7U;
#line 670
    cmd_type = 1U;
#line 671
    addr = sd_card->sd_addr;
  } else {
#line 673
    cmd_idx = 7U;
#line 674
    cmd_type = 4U;
#line 675
    addr = 0U;
  }
#line 678
  retval = sd_send_cmd_get_rsp(chip, (int )cmd_idx, addr, (int )cmd_type, (u8 *)0U,
                               0);
#line 679
  if (retval != 0) {
#line 680
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_select_card", 680);
#line 681
    return (1);
  } else {

  }
#line 684
  return (0);
}
}
#line 688 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_update_lock_status(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 rsp[5U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 690
  sd_card = & chip->sd_card;
#line 694
  retval = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)(& rsp), 5);
#line 696
  if (retval != 0) {
#line 697
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_update_lock_status", 697);
#line 698
    return (1);
  } else {

  }
#line 701
  if (((int )rsp[1] & 2) != 0) {
#line 702
    sd_card->sd_lock_status = (u8 )((unsigned int )sd_card->sd_lock_status | 128U);
  } else {
#line 704
    sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 127U;
  }
#line 706
  descriptor.modname = "rts5208";
#line 706
  descriptor.function = "sd_update_lock_status";
#line 706
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 706
  descriptor.format = "sd_card->sd_lock_status = 0x%x\n";
#line 706
  descriptor.lineno = 707U;
#line 706
  descriptor.flags = 0U;
#line 706
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 706
  if (tmp___0 != 0L) {
#line 706
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 706
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "sd_card->sd_lock_status = 0x%x\n",
                      (int )sd_card->sd_lock_status);
  } else {

  }
#line 709
  if ((int )rsp[1] & 1) {
#line 710
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_update_lock_status", 710);
#line 711
    return (1);
  } else {

  }
#line 714
  return (0);
}
}
#line 718 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_wait_state_data_ready(struct rtsx_chip *chip , u8 state , u8 data_ready ,
                                    int polling_cnt ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  u8 rsp[5U] ;

  {
#line 721
  sd_card = & chip->sd_card;
#line 725
  i = 0;
#line 725
  goto ldv_38366;
  ldv_38365: 
#line 726
  retval = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)(& rsp), 5);
#line 729
  if (retval != 0) {
#line 730
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_wait_state_data_ready", 730);
#line 731
    return (1);
  } else {

  }
#line 734
  if (((int )rsp[3] & 30) == (int )state && ((int )rsp[3] & 1) == (int )data_ready) {
#line 736
    return (0);
  } else {

  }
#line 725
  i = i + 1;
  ldv_38366: ;
#line 725
  if (i < polling_cnt) {
#line 727
    goto ldv_38365;
  } else {

  }
#line 739
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_wait_state_data_ready", 739);
#line 740
  return (1);
}
}
#line 743 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_change_bank_voltage(struct rtsx_chip *chip , u8 voltage ) 
{ 
  int retval ;

  {
#line 747
  if ((unsigned int )voltage == 0U) {
#line 748
    if (chip->asic_code != 0) {
#line 749
      retval = rtsx_write_phy_register(chip, 8, (int )((unsigned int )((u16 )chip->phy_voltage) | 20416U));
#line 752
      if (retval != 0) {
#line 753
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_bank_voltage", 753);
#line 754
        return (1);
      } else {

      }
    } else {
#line 757
      retval = rtsx_write_register(chip, 64934, 128, 0);
#line 759
      if (retval != 0) {
#line 760
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_bank_voltage", 760);
#line 761
        return (retval);
      } else {

      }
    }
  } else
#line 764
  if ((unsigned int )voltage == 1U) {
#line 765
    if (chip->asic_code != 0) {
#line 766
      retval = rtsx_write_phy_register(chip, 8, (int )((unsigned int )((u16 )chip->phy_voltage) | 19520U));
#line 769
      if (retval != 0) {
#line 770
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_bank_voltage", 770);
#line 771
        return (1);
      } else {

      }
    } else {
#line 774
      retval = rtsx_write_register(chip, 64934, 128, 128);
#line 777
      if (retval != 0) {
#line 778
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_bank_voltage", 778);
#line 779
        return (retval);
      } else {

      }
    }
  } else {
#line 783
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_change_bank_voltage", 783);
#line 784
    return (1);
  }
#line 787
  return (0);
}
}
#line 790 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_voltage_switch(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 stat ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct _ddebug descriptor ;
  struct device *tmp___9 ;
  long tmp___10 ;

  {
#line 795
  retval = rtsx_write_register(chip, 64933, 192, 128);
#line 798
  if (retval != 0) {
#line 799
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 799);
#line 800
    return (retval);
  } else {

  }
#line 803
  retval = sd_send_cmd_get_rsp(chip, 11, 0U, 1, (u8 *)0U, 0);
#line 805
  if (retval != 0) {
#line 806
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 806);
#line 807
    return (1);
  } else {

  }
#line 810
  __udelay((unsigned long )chip->sd_voltage_switch_delay);
#line 812
  retval = rtsx_read_register(chip, 64933, & stat);
#line 813
  if (retval != 0) {
#line 814
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 814);
#line 815
    return (retval);
  } else {

  }
#line 817
  if (((int )stat & 31) != 0) {
#line 819
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 819);
#line 820
    return (1);
  } else {

  }
#line 823
  retval = rtsx_write_register(chip, 64933, 255, 64);
#line 825
  if (retval != 0) {
#line 826
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 826);
#line 827
    return (retval);
  } else {

  }
#line 829
  retval = sd_change_bank_voltage(chip, 1);
#line 830
  if (retval != 0) {
#line 831
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 831);
#line 832
    return (1);
  } else {

  }
#line 835
  tmp = get_current();
#line 835
  tmp->task_state_change = 0UL;
#line 835
  __ret = 1L;
#line 835
  switch (8UL) {
  case 1UL: 
#line 835
  tmp___0 = get_current();
#line 835
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 835
  goto ldv_38382;
  case 2UL: 
#line 835
  tmp___1 = get_current();
#line 835
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 835
  goto ldv_38382;
  case 4UL: 
#line 835
  tmp___2 = get_current();
#line 835
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 835
  goto ldv_38382;
  case 8UL: 
#line 835
  tmp___3 = get_current();
#line 835
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 835
  goto ldv_38382;
  default: 
#line 835
  __xchg_wrong_size();
  }
  ldv_38382: 
#line 835
  schedule_timeout(12L);
#line 837
  retval = rtsx_write_register(chip, 64933, 255, 128);
#line 839
  if (retval != 0) {
#line 840
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 840);
#line 841
    return (retval);
  } else {

  }
#line 843
  tmp___4 = get_current();
#line 843
  tmp___4->task_state_change = 0UL;
#line 843
  __ret___0 = 1L;
#line 843
  switch (8UL) {
  case 1UL: 
#line 843
  tmp___5 = get_current();
#line 843
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 843
  goto ldv_38390;
  case 2UL: 
#line 843
  tmp___6 = get_current();
#line 843
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 843
  goto ldv_38390;
  case 4UL: 
#line 843
  tmp___7 = get_current();
#line 843
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                       "cc");
#line 843
  goto ldv_38390;
  case 8UL: 
#line 843
  tmp___8 = get_current();
#line 843
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 843
  goto ldv_38390;
  default: 
#line 843
  __xchg_wrong_size();
  }
  ldv_38390: 
#line 843
  schedule_timeout(2L);
#line 845
  retval = rtsx_read_register(chip, 64933, & stat);
#line 846
  if (retval != 0) {
#line 847
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 847);
#line 848
    return (retval);
  } else {

  }
#line 850
  if (((int )stat & 31) != 31) {
#line 854
    descriptor.modname = "rts5208";
#line 854
    descriptor.function = "sd_voltage_switch";
#line 854
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 854
    descriptor.format = "SD_BUS_STAT: 0x%x\n";
#line 854
    descriptor.lineno = 854U;
#line 854
    descriptor.flags = 0U;
#line 854
    tmp___10 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 854
    if (tmp___10 != 0L) {
#line 854
      tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 854
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___9, "SD_BUS_STAT: 0x%x\n",
                        (int )stat);
    } else {

    }
#line 855
    rtsx_write_register(chip, 64933, 192, 0);
#line 857
    rtsx_write_register(chip, 64873, 255, 0);
#line 858
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 858);
#line 859
    return (1);
  } else {

  }
#line 862
  retval = rtsx_write_register(chip, 64933, 192, 0);
#line 864
  if (retval != 0) {
#line 865
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_voltage_switch", 865);
#line 866
    return (retval);
  } else {

  }
#line 869
  return (0);
}
}
#line 872 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_reset_dcm(struct rtsx_chip *chip , u8 tune_dir ) 
{ 
  int retval ;

  {
#line 876
  if ((unsigned int )tune_dir == 1U) {
#line 877
    retval = rtsx_write_register(chip, 64547, 255, 10);
#line 879
    if (retval != 0) {
#line 880
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_reset_dcm", 880);
#line 881
      return (retval);
    } else {

    }
#line 883
    retval = rtsx_write_register(chip, 64547, 255, 2);
#line 884
    if (retval != 0) {
#line 885
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_reset_dcm", 885);
#line 886
      return (retval);
    } else {

    }
  } else {
#line 889
    retval = rtsx_write_register(chip, 64547, 255, 9);
#line 891
    if (retval != 0) {
#line 892
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_reset_dcm", 892);
#line 893
      return (retval);
    } else {

    }
#line 895
    retval = rtsx_write_register(chip, 64547, 255, 1);
#line 896
    if (retval != 0) {
#line 897
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_reset_dcm", 897);
#line 898
      return (retval);
    } else {

    }
  }
#line 902
  return (0);
}
}
#line 905 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_change_phase(struct rtsx_chip *chip , u8 sample_point , u8 tune_dir ) 
{ 
  struct sd_info *sd_card ;
  u16 SD_VP_CTL ;
  u16 SD_DCMPS_CTL ;
  u8 val ;
  int retval ;
  bool ddr_rx ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  u8 *tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  struct task_struct *tmp___10 ;
  long volatile   __ret ;
  struct task_struct *tmp___11 ;
  struct task_struct *tmp___12 ;
  struct task_struct *tmp___13 ;
  struct task_struct *tmp___14 ;

  {
#line 907
  sd_card = & chip->sd_card;
#line 911
  ddr_rx = 0;
#line 913
  descriptor.modname = "rts5208";
#line 913
  descriptor.function = "sd_change_phase";
#line 913
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 913
  descriptor.format = "sd_change_phase (sample_point = %d, tune_dir = %d)\n";
#line 913
  descriptor.lineno = 914U;
#line 913
  descriptor.flags = 0U;
#line 913
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 913
  if (tmp___0 != 0L) {
#line 913
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 913
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "sd_change_phase (sample_point = %d, tune_dir = %d)\n",
                      (int )sample_point, (int )tune_dir);
  } else {

  }
#line 916
  if ((unsigned int )tune_dir == 1U) {
#line 917
    SD_VP_CTL = 64555U;
#line 918
    SD_DCMPS_CTL = 64557U;
#line 919
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 920
      ddr_rx = 1;
    } else {

    }
  } else {
#line 922
    SD_VP_CTL = 64554U;
#line 923
    SD_DCMPS_CTL = 64556U;
  }
#line 926
  if (chip->asic_code != 0) {
#line 927
    retval = rtsx_write_register(chip, 64514, 1, 1);
#line 929
    if (retval != 0) {
#line 930
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 930);
#line 931
      return (retval);
    } else {

    }
#line 933
    retval = rtsx_write_register(chip, (int )SD_VP_CTL, 31, (int )sample_point);
#line 935
    if (retval != 0) {
#line 936
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 936);
#line 937
      return (retval);
    } else {

    }
#line 939
    retval = rtsx_write_register(chip, 64554, 64, 0);
#line 941
    if (retval != 0) {
#line 942
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 942);
#line 943
      return (retval);
    } else {

    }
#line 945
    retval = rtsx_write_register(chip, 64554, 64, 64);
#line 947
    if (retval != 0) {
#line 948
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 948);
#line 949
      return (retval);
    } else {

    }
#line 951
    retval = rtsx_write_register(chip, 64514, 1, 0);
#line 952
    if (retval != 0) {
#line 953
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 953);
#line 954
      return (retval);
    } else {

    }
  } else {
#line 957
    rtsx_read_register(chip, (int )SD_VP_CTL, & val);
#line 958
    descriptor___0.modname = "rts5208";
#line 958
    descriptor___0.function = "sd_change_phase";
#line 958
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 958
    descriptor___0.format = "SD_VP_CTL: 0x%x\n";
#line 958
    descriptor___0.lineno = 958U;
#line 958
    descriptor___0.flags = 0U;
#line 958
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 958
    if (tmp___2 != 0L) {
#line 958
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 958
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "SD_VP_CTL: 0x%x\n",
                        (int )val);
    } else {

    }
#line 959
    rtsx_read_register(chip, (int )SD_DCMPS_CTL, & val);
#line 960
    descriptor___1.modname = "rts5208";
#line 960
    descriptor___1.function = "sd_change_phase";
#line 960
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 960
    descriptor___1.format = "SD_DCMPS_CTL: 0x%x\n";
#line 960
    descriptor___1.lineno = 960U;
#line 960
    descriptor___1.flags = 0U;
#line 960
    tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 960
    if (tmp___4 != 0L) {
#line 960
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 960
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "SD_DCMPS_CTL: 0x%x\n",
                        (int )val);
    } else {

    }
#line 962
    if ((int )ddr_rx) {
#line 963
      retval = rtsx_write_register(chip, (int )SD_VP_CTL, 128, 128);
#line 966
      if (retval != 0) {
#line 967
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 967);
#line 968
        return (retval);
      } else {

      }
#line 970
      __const_udelay(214750UL);
#line 971
      retval = rtsx_write_register(chip, (int )SD_VP_CTL, 255, (int )((unsigned int )sample_point | 192U));
#line 973
      if (retval != 0) {
#line 974
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 974);
#line 975
        return (retval);
      } else {

      }
    } else {
#line 978
      retval = rtsx_write_register(chip, 64514, 1, 1);
#line 980
      if (retval != 0) {
#line 981
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 981);
#line 982
        return (retval);
      } else {

      }
#line 984
      __const_udelay(214750UL);
#line 985
      retval = rtsx_write_register(chip, (int )SD_VP_CTL, 255, (int )((unsigned int )sample_point | 64U));
#line 987
      if (retval != 0) {
#line 988
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 988);
#line 989
        return (retval);
      } else {

      }
    }
#line 992
    __const_udelay(429500UL);
#line 994
    chip->ci = 0;
#line 995
    rtsx_add_cmd(chip, 1, (int )SD_DCMPS_CTL, 128, 128);
#line 997
    rtsx_add_cmd(chip, 2, (int )SD_DCMPS_CTL, 64, 64);
#line 999
    retval = rtsx_send_cmd(chip, 4, 100);
#line 1000
    if (retval != 0) {
#line 1001
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 1001);
#line 1002
      goto Fail;
    } else {

    }
#line 1005
    tmp___5 = rtsx_get_cmd_data(chip);
#line 1005
    val = *tmp___5;
#line 1006
    if (((int )val & 32) != 0) {
#line 1007
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 1007);
#line 1008
      goto Fail;
    } else {

    }
#line 1011
    if (((int )val & 31) != (int )sample_point) {
#line 1012
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 1012);
#line 1013
      goto Fail;
    } else {

    }
#line 1016
    retval = rtsx_write_register(chip, (int )SD_DCMPS_CTL, 128, 0);
#line 1018
    if (retval != 0) {
#line 1019
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_change_phase", 1019);
#line 1020
      return (retval);
    } else {

    }
#line 1022
    if ((int )ddr_rx) {
#line 1023
      retval = rtsx_write_register(chip, (int )SD_VP_CTL, 128, 0);
#line 1025
      if (retval != 0) {
#line 1026
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 1026);
#line 1027
        return (retval);
      } else {

      }
    } else {
#line 1030
      retval = rtsx_write_register(chip, 64514, 1, 0);
#line 1032
      if (retval != 0) {
#line 1033
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_change_phase", 1033);
#line 1034
        return (retval);
      } else {

      }
    }
#line 1038
    __const_udelay(214750UL);
  }
#line 1041
  retval = rtsx_write_register(chip, 64928, 16, 0);
#line 1042
  if (retval != 0) {
#line 1043
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_change_phase", 1043);
#line 1044
    return (retval);
  } else {

  }
#line 1047
  return (0);
  Fail: 
#line 1050
  rtsx_read_register(chip, (int )SD_VP_CTL, & val);
#line 1051
  descriptor___2.modname = "rts5208";
#line 1051
  descriptor___2.function = "sd_change_phase";
#line 1051
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1051
  descriptor___2.format = "SD_VP_CTL: 0x%x\n";
#line 1051
  descriptor___2.lineno = 1051U;
#line 1051
  descriptor___2.flags = 0U;
#line 1051
  tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1051
  if (tmp___7 != 0L) {
#line 1051
    tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1051
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "SD_VP_CTL: 0x%x\n",
                      (int )val);
  } else {

  }
#line 1052
  rtsx_read_register(chip, (int )SD_DCMPS_CTL, & val);
#line 1053
  descriptor___3.modname = "rts5208";
#line 1053
  descriptor___3.function = "sd_change_phase";
#line 1053
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1053
  descriptor___3.format = "SD_DCMPS_CTL: 0x%x\n";
#line 1053
  descriptor___3.lineno = 1053U;
#line 1053
  descriptor___3.flags = 0U;
#line 1053
  tmp___9 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1053
  if (tmp___9 != 0L) {
#line 1053
    tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1053
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___8, "SD_DCMPS_CTL: 0x%x\n",
                      (int )val);
  } else {

  }
#line 1055
  rtsx_write_register(chip, (int )SD_DCMPS_CTL, 128, 0);
#line 1056
  rtsx_write_register(chip, (int )SD_VP_CTL, 128, 0);
#line 1057
  tmp___10 = get_current();
#line 1057
  tmp___10->task_state_change = 0UL;
#line 1057
  __ret = 1L;
#line 1057
  switch (8UL) {
  case 1UL: 
#line 1057
  tmp___11 = get_current();
#line 1057
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___11->state): : "memory",
                       "cc");
#line 1057
  goto ldv_38423;
  case 2UL: 
#line 1057
  tmp___12 = get_current();
#line 1057
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___12->state): : "memory",
                       "cc");
#line 1057
  goto ldv_38423;
  case 4UL: 
#line 1057
  tmp___13 = get_current();
#line 1057
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___13->state): : "memory",
                       "cc");
#line 1057
  goto ldv_38423;
  case 8UL: 
#line 1057
  tmp___14 = get_current();
#line 1057
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___14->state): : "memory",
                       "cc");
#line 1057
  goto ldv_38423;
  default: 
#line 1057
  __xchg_wrong_size();
  }
  ldv_38423: 
#line 1057
  schedule_timeout(2L);
#line 1058
  sd_reset_dcm(chip, (int )tune_dir);
#line 1059
  return (1);
}
}
#line 1062 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_spec(struct rtsx_chip *chip , u8 bus_width ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  u8 buf[8U] ;

  {
#line 1064
  sd_card = & chip->sd_card;
#line 1068
  retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 1070
  if (retval != 0) {
#line 1071
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_spec", 1071);
#line 1072
    return (1);
  } else {

  }
#line 1075
  cmd[0] = 115U;
#line 1076
  cmd[1] = 0U;
#line 1077
  cmd[2] = 0U;
#line 1078
  cmd[3] = 0U;
#line 1079
  cmd[4] = 0U;
#line 1081
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 8, 1, (int )bus_width, (u8 *)(& buf),
                        8, 250);
#line 1083
  if (retval != 0) {
#line 1084
    rtsx_clear_sd_error(chip);
#line 1085
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_spec", 1085);
#line 1086
    return (1);
  } else {

  }
#line 1089
  memcpy((void *)(& sd_card->raw_scr), (void const   *)(& buf), 8UL);
#line 1091
  if (((int )buf[0] & 15) == 0) {
#line 1092
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_spec", 1092);
#line 1093
    return (1);
  } else {

  }
#line 1096
  return (0);
}
}
#line 1099 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_query_switch_result(struct rtsx_chip *chip , u8 func_group , u8 func_to_switch ,
                                  u8 *buf , int buf_len ) 
{ 
  u8 support_mask ;
  u8 query_switch ;
  u8 switch_busy ;
  int support_offset ;
  int query_switch_offset ;
  int check_busy_offset ;

  {
#line 1102
  support_mask = 0U;
#line 1102
  query_switch = 0U;
#line 1102
  switch_busy = 0U;
#line 1103
  support_offset = 0;
#line 1103
  query_switch_offset = 0;
#line 1103
  check_busy_offset = 0;
#line 1105
  if ((unsigned int )func_group == 1U) {
#line 1106
    support_offset = 13;
#line 1107
    query_switch_offset = 16;
#line 1108
    check_busy_offset = 29;
#line 1110
    switch ((int )func_to_switch) {
    case 1: 
#line 1112
    support_mask = 2U;
#line 1113
    query_switch = 1U;
#line 1114
    switch_busy = 2U;
#line 1115
    goto ldv_38452;
    case 2: 
#line 1118
    support_mask = 4U;
#line 1119
    query_switch = 2U;
#line 1120
    switch_busy = 4U;
#line 1121
    goto ldv_38452;
    case 3: 
#line 1124
    support_mask = 8U;
#line 1125
    query_switch = 3U;
#line 1126
    switch_busy = 8U;
#line 1127
    goto ldv_38452;
    case 4: 
#line 1130
    support_mask = 16U;
#line 1131
    query_switch = 4U;
#line 1132
    switch_busy = 16U;
#line 1133
    goto ldv_38452;
    default: 
#line 1136
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_query_switch_result", 1136);
#line 1137
    return (1);
    }
    ldv_38452: ;
  } else
#line 1139
  if ((unsigned int )func_group == 3U) {
#line 1140
    support_offset = 9;
#line 1141
    query_switch_offset = 15;
#line 1142
    check_busy_offset = 25;
#line 1144
    switch ((int )func_to_switch) {
    case 1: 
#line 1146
    support_mask = 2U;
#line 1147
    query_switch = 1U;
#line 1148
    switch_busy = 2U;
#line 1149
    goto ldv_38459;
    case 2: 
#line 1152
    support_mask = 4U;
#line 1153
    query_switch = 2U;
#line 1154
    switch_busy = 4U;
#line 1155
    goto ldv_38459;
    case 3: 
#line 1158
    support_mask = 8U;
#line 1159
    query_switch = 3U;
#line 1160
    switch_busy = 8U;
#line 1161
    goto ldv_38459;
    default: 
#line 1164
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_query_switch_result", 1164);
#line 1165
    return (1);
    }
    ldv_38459: ;
  } else
#line 1167
  if ((unsigned int )func_group == 4U) {
#line 1168
    support_offset = 7;
#line 1169
    query_switch_offset = 15;
#line 1170
    check_busy_offset = 23;
#line 1172
    switch ((int )func_to_switch) {
    case 1: 
#line 1174
    support_mask = 2U;
#line 1175
    query_switch = 1U;
#line 1176
    switch_busy = 2U;
#line 1177
    goto ldv_38464;
    case 2: 
#line 1180
    support_mask = 4U;
#line 1181
    query_switch = 2U;
#line 1182
    switch_busy = 4U;
#line 1183
    goto ldv_38464;
    case 3: 
#line 1186
    support_mask = 8U;
#line 1187
    query_switch = 3U;
#line 1188
    switch_busy = 8U;
#line 1189
    goto ldv_38464;
    default: 
#line 1192
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_query_switch_result", 1192);
#line 1193
    return (1);
    }
    ldv_38464: ;
  } else {
#line 1196
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_query_switch_result", 1196);
#line 1197
    return (1);
  }
#line 1200
  if ((unsigned int )func_group == 1U) {
#line 1201
    if ((unsigned int )((int )*(buf + (unsigned long )support_offset) & (int )support_mask) == 0U || ((int )*(buf + (unsigned long )query_switch_offset) & 15) != (int )query_switch) {
#line 1203
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_query_switch_result", 1203);
#line 1204
      return (1);
    } else {

    }
  } else {

  }
#line 1209
  if ((unsigned int )*(buf + 17UL) == 1U && ((int )*(buf + (unsigned long )check_busy_offset) & (int )switch_busy) == (int )switch_busy) {
#line 1211
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_query_switch_result", 1211);
#line 1212
    return (1);
  } else {

  }
#line 1215
  return (0);
}
}
#line 1218 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_switch_mode(struct rtsx_chip *chip , u8 mode , u8 func_group ,
                                u8 func_to_switch , u8 bus_width ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  u8 buf[64U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___7 ;
  long tmp___8 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___9 ;
  long tmp___10 ;
  u16 cc ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___11 ;
  long tmp___12 ;

  {
#line 1221
  sd_card = & chip->sd_card;
#line 1225
  descriptor.modname = "rts5208";
#line 1225
  descriptor.function = "sd_check_switch_mode";
#line 1225
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1225
  descriptor.format = "sd_check_switch_mode (mode = %d, func_group = %d, func_to_switch = %d)\n";
#line 1225
  descriptor.lineno = 1226U;
#line 1225
  descriptor.flags = 0U;
#line 1225
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1225
  if (tmp___0 != 0L) {
#line 1225
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1225
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "sd_check_switch_mode (mode = %d, func_group = %d, func_to_switch = %d)\n",
                      (int )mode, (int )func_group, (int )func_to_switch);
  } else {

  }
#line 1228
  cmd[0] = 70U;
#line 1229
  cmd[1] = mode;
#line 1231
  if ((unsigned int )func_group == 1U) {
#line 1232
    cmd[2] = 255U;
#line 1233
    cmd[3] = 255U;
#line 1234
    cmd[4] = (unsigned int )func_to_switch + 240U;
  } else
#line 1235
  if ((unsigned int )func_group == 3U) {
#line 1236
    cmd[2] = 255U;
#line 1237
    cmd[3] = (unsigned int )func_to_switch + 240U;
#line 1238
    cmd[4] = 255U;
  } else
#line 1239
  if ((unsigned int )func_group == 4U) {
#line 1240
    cmd[2] = 255U;
#line 1241
    cmd[3] = (unsigned int )((int )func_to_switch << 4U) + 15U;
#line 1242
    cmd[4] = 255U;
  } else {
#line 1244
    cmd[1] = 0U;
#line 1245
    cmd[2] = 255U;
#line 1246
    cmd[3] = 255U;
#line 1247
    cmd[4] = 255U;
  }
#line 1250
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 64, 1, (int )bus_width, (u8 *)(& buf),
                        64, 250);
#line 1252
  if (retval != 0) {
#line 1253
    rtsx_clear_sd_error(chip);
#line 1254
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_switch_mode", 1254);
#line 1255
    return (1);
  } else {

  }
#line 1258
  descriptor___0.modname = "rts5208";
#line 1258
  descriptor___0.function = "sd_check_switch_mode";
#line 1258
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1258
  descriptor___0.format = "%*ph\n";
#line 1258
  descriptor___0.lineno = 1258U;
#line 1258
  descriptor___0.flags = 0U;
#line 1258
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1258
  if (tmp___2 != 0L) {
#line 1258
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1258
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "%*ph\n",
                      64, (u8 *)(& buf));
  } else {

  }
#line 1260
  if ((unsigned int )func_group == 0U) {
#line 1261
    sd_card->func_group1_mask = buf[13];
#line 1262
    sd_card->func_group2_mask = buf[11];
#line 1263
    sd_card->func_group3_mask = buf[9];
#line 1264
    sd_card->func_group4_mask = buf[7];
#line 1266
    descriptor___1.modname = "rts5208";
#line 1266
    descriptor___1.function = "sd_check_switch_mode";
#line 1266
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1266
    descriptor___1.format = "func_group1_mask = 0x%02x\n";
#line 1266
    descriptor___1.lineno = 1267U;
#line 1266
    descriptor___1.flags = 0U;
#line 1266
    tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1266
    if (tmp___4 != 0L) {
#line 1266
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1266
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "func_group1_mask = 0x%02x\n",
                        (int )buf[13]);
    } else {

    }
#line 1268
    descriptor___2.modname = "rts5208";
#line 1268
    descriptor___2.function = "sd_check_switch_mode";
#line 1268
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1268
    descriptor___2.format = "func_group2_mask = 0x%02x\n";
#line 1268
    descriptor___2.lineno = 1269U;
#line 1268
    descriptor___2.flags = 0U;
#line 1268
    tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1268
    if (tmp___6 != 0L) {
#line 1268
      tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1268
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "func_group2_mask = 0x%02x\n",
                        (int )buf[11]);
    } else {

    }
#line 1270
    descriptor___3.modname = "rts5208";
#line 1270
    descriptor___3.function = "sd_check_switch_mode";
#line 1270
    descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1270
    descriptor___3.format = "func_group3_mask = 0x%02x\n";
#line 1270
    descriptor___3.lineno = 1271U;
#line 1270
    descriptor___3.flags = 0U;
#line 1270
    tmp___8 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1270
    if (tmp___8 != 0L) {
#line 1270
      tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1270
      __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___7, "func_group3_mask = 0x%02x\n",
                        (int )buf[9]);
    } else {

    }
#line 1272
    descriptor___4.modname = "rts5208";
#line 1272
    descriptor___4.function = "sd_check_switch_mode";
#line 1272
    descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1272
    descriptor___4.format = "func_group4_mask = 0x%02x\n";
#line 1272
    descriptor___4.lineno = 1273U;
#line 1272
    descriptor___4.flags = 0U;
#line 1272
    tmp___10 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 1272
    if (tmp___10 != 0L) {
#line 1272
      tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1272
      __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___9, "func_group4_mask = 0x%02x\n",
                        (int )buf[7]);
    } else {

    }
  } else {
#line 1278
    cc = (u16 )((int )((short )((int )buf[0] << 8)) | (int )((short )buf[1]));
#line 1280
    descriptor___5.modname = "rts5208";
#line 1280
    descriptor___5.function = "sd_check_switch_mode";
#line 1280
    descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1280
    descriptor___5.format = "Maximum current consumption: %dmA\n";
#line 1280
    descriptor___5.lineno = 1281U;
#line 1280
    descriptor___5.flags = 0U;
#line 1280
    tmp___12 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 1280
    if (tmp___12 != 0L) {
#line 1280
      tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1280
      __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___11, "Maximum current consumption: %dmA\n",
                        (int )cc);
    } else {

    }
#line 1282
    if ((unsigned int )cc == 0U || (unsigned int )cc > 800U) {
#line 1283
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_check_switch_mode", 1283);
#line 1284
      return (1);
    } else {

    }
#line 1287
    retval = sd_query_switch_result(chip, (int )func_group, (int )func_to_switch,
                                    (u8 *)(& buf), 64);
#line 1289
    if (retval != 0) {
#line 1290
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_check_switch_mode", 1290);
#line 1291
      return (1);
    } else {

    }
#line 1294
    if ((unsigned int )cc > 400U || (unsigned int )func_to_switch > 1U) {
#line 1295
      retval = rtsx_write_register(chip, 64537, 7, (int )chip->sd_800mA_ocp_thd);
#line 1298
      if (retval != 0) {
#line 1299
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_check_switch_mode", 1299);
#line 1300
        return (retval);
      } else {

      }
#line 1302
      retval = rtsx_write_register(chip, 64848, 16, 16);
#line 1305
      if (retval != 0) {
#line 1306
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_check_switch_mode", 1306);
#line 1307
        return (retval);
      } else {

      }
    } else {

    }
  }
#line 1312
  return (0);
}
}
#line 1315 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u8 downgrade_switch_mode(u8 func_group , u8 func_to_switch ) 
{ 


  {
#line 1317
  if ((unsigned int )func_group == 1U) {
#line 1318
    if ((unsigned int )func_to_switch > 1U) {
#line 1319
      func_to_switch = (u8 )((int )func_to_switch - 1);
    } else {

    }
  } else
#line 1321
  if ((unsigned int )func_group == 4U) {
#line 1322
    if ((unsigned int )func_to_switch != 0U) {
#line 1323
      func_to_switch = (u8 )((int )func_to_switch - 1);
    } else {

    }
  } else {

  }
#line 1326
  return (func_to_switch);
}
}
#line 1329 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_switch(struct rtsx_chip *chip , u8 func_group , u8 func_to_switch ,
                           u8 bus_width ) 
{ 
  int retval ;
  int i ;
  bool switch_good ;
  int tmp ;
  u8 stat ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct task_struct *tmp___2 ;
  long volatile   __ret ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;

  {
#line 1334
  switch_good = 0;
#line 1336
  i = 0;
#line 1336
  goto ldv_38514;
  ldv_38513: 
#line 1337
  tmp = detect_card_cd(chip, 4);
#line 1337
  if (tmp != 0) {
#line 1338
    sd_set_err_code(chip, 32);
#line 1339
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_switch", 1339);
#line 1340
    return (1);
  } else {

  }
#line 1343
  retval = sd_check_switch_mode(chip, 0, (int )func_group, (int )func_to_switch, (int )bus_width);
#line 1345
  if (retval == 0) {
#line 1348
    retval = sd_check_switch_mode(chip, 128, (int )func_group, (int )func_to_switch,
                                  (int )bus_width);
#line 1350
    if (retval == 0) {
#line 1351
      switch_good = 1;
#line 1352
      goto ldv_38503;
    } else {

    }
#line 1355
    retval = rtsx_read_register(chip, 64931, & stat);
#line 1356
    if (retval != 0) {
#line 1357
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_check_switch", 1357);
#line 1358
      return (retval);
    } else {

    }
#line 1360
    if (((int )stat & 64) != 0) {
#line 1361
      descriptor.modname = "rts5208";
#line 1361
      descriptor.function = "sd_check_switch";
#line 1361
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1361
      descriptor.format = "SD CRC16 error when switching mode\n";
#line 1361
      descriptor.lineno = 1361U;
#line 1361
      descriptor.flags = 0U;
#line 1361
      tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1361
      if (tmp___1 != 0L) {
#line 1361
        tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1361
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "SD CRC16 error when switching mode\n");
      } else {

      }
#line 1362
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_check_switch", 1362);
#line 1363
      return (1);
    } else {

    }
  } else {

  }
#line 1367
  func_to_switch = downgrade_switch_mode((int )func_group, (int )func_to_switch);
#line 1370
  tmp___2 = get_current();
#line 1370
  tmp___2->task_state_change = 0UL;
#line 1370
  __ret = 1L;
#line 1370
  switch (8UL) {
  case 1UL: 
#line 1370
  tmp___3 = get_current();
#line 1370
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 1370
  goto ldv_38507;
  case 2UL: 
#line 1370
  tmp___4 = get_current();
#line 1370
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                       "cc");
#line 1370
  goto ldv_38507;
  case 4UL: 
#line 1370
  tmp___5 = get_current();
#line 1370
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 1370
  goto ldv_38507;
  case 8UL: 
#line 1370
  tmp___6 = get_current();
#line 1370
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 1370
  goto ldv_38507;
  default: 
#line 1370
  __xchg_wrong_size();
  }
  ldv_38507: 
#line 1370
  schedule_timeout(5L);
#line 1336
  i = i + 1;
  ldv_38514: ;
#line 1336
  if (i <= 2) {
#line 1338
    goto ldv_38513;
  } else {

  }
  ldv_38503: ;
#line 1373
  if (! switch_good) {
#line 1374
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_switch", 1374);
#line 1375
    return (1);
  } else {

  }
#line 1378
  return (0);
}
}
#line 1381 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_switch_function(struct rtsx_chip *chip , u8 bus_width ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  u8 func_to_switch ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  int tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;

  {
#line 1383
  sd_card = & chip->sd_card;
#line 1386
  func_to_switch = 0U;
#line 1389
  retval = sd_check_switch_mode(chip, 0, 0, 0, (int )bus_width);
#line 1391
  if (retval != 0) {
#line 1392
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_switch_function", 1392);
#line 1393
    return (1);
  } else {

  }
#line 1396
  sd_card->func_group1_mask = (u8 )((int )((signed char )sd_card->func_group1_mask) & ~ ((int )((signed char )sd_card->sd_switch_fail)));
#line 1399
  i = 0;
#line 1399
  goto ldv_38533;
  ldv_38532: ;
#line 1400
  switch ((int )((unsigned char )(chip->sd_speed_prior >> i * 8))) {
  case 3: ;
#line 1402
  if (((int )sd_card->func_group1_mask & 8) != 0 && chip->sdr104_en != 0) {
#line 1404
    func_to_switch = 3U;
  } else {

  }
#line 1406
  goto ldv_38525;
  case 4: ;
#line 1409
  if (((int )sd_card->func_group1_mask & 16) != 0 && chip->ddr50_en != 0) {
#line 1411
    func_to_switch = 4U;
  } else {

  }
#line 1413
  goto ldv_38525;
  case 2: ;
#line 1416
  if (((int )sd_card->func_group1_mask & 4) != 0 && chip->sdr50_en != 0) {
#line 1418
    func_to_switch = 2U;
  } else {

  }
#line 1420
  goto ldv_38525;
  case 1: ;
#line 1423
  if (((int )sd_card->func_group1_mask & 2) != 0) {
#line 1424
    func_to_switch = 1U;
  } else {

  }
#line 1426
  goto ldv_38525;
  default: ;
#line 1429
  goto ldv_38530;
  }
  ldv_38525: ;
#line 1433
  if ((unsigned int )func_to_switch != 0U) {
#line 1434
    goto ldv_38531;
  } else {

  }
  ldv_38530: 
#line 1399
  i = i + 1;
  ldv_38533: ;
#line 1399
  if (i <= 3) {
#line 1401
    goto ldv_38532;
  } else {

  }
  ldv_38531: 
#line 1437
  descriptor.modname = "rts5208";
#line 1437
  descriptor.function = "sd_switch_function";
#line 1437
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1437
  descriptor.format = "SD_FUNC_GROUP_1: func_to_switch = 0x%02x";
#line 1437
  descriptor.lineno = 1438U;
#line 1437
  descriptor.flags = 0U;
#line 1437
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1437
  if (tmp___0 != 0L) {
#line 1437
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1437
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD_FUNC_GROUP_1: func_to_switch = 0x%02x",
                      (int )func_to_switch);
  } else {

  }
#line 1441
  if ((((int )sd_card->sd_lock_status & 2) != 0 && (unsigned int )func_to_switch == 4U) && ((int )sd_card->func_group1_mask & 4) != 0) {
#line 1444
    func_to_switch = 2U;
#line 1445
    descriptor___0.modname = "rts5208";
#line 1445
    descriptor___0.function = "sd_switch_function";
#line 1445
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1445
    descriptor___0.format = "Using SDR50 instead of DDR50 for SD Lock\n";
#line 1445
    descriptor___0.lineno = 1445U;
#line 1445
    descriptor___0.flags = 0U;
#line 1445
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1445
    if (tmp___2 != 0L) {
#line 1445
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1445
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Using SDR50 instead of DDR50 for SD Lock\n");
    } else {

    }
  } else {

  }
#line 1449
  if ((unsigned int )func_to_switch != 0U) {
#line 1450
    retval = sd_check_switch(chip, 1, (int )func_to_switch, (int )bus_width);
#line 1452
    if (retval != 0) {
#line 1453
      if ((unsigned int )func_to_switch == 3U) {
#line 1454
        sd_card->sd_switch_fail = 8U;
      } else
#line 1455
      if ((unsigned int )func_to_switch == 4U) {
#line 1456
        sd_card->sd_switch_fail = 24U;
      } else
#line 1458
      if ((unsigned int )func_to_switch == 2U) {
#line 1459
        sd_card->sd_switch_fail = 28U;
      } else {

      }
#line 1462
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_switch_function", 1462);
#line 1463
      return (1);
    } else {

    }
#line 1466
    if ((unsigned int )func_to_switch == 3U) {
#line 1467
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 2048U);
    } else
#line 1468
    if ((unsigned int )func_to_switch == 4U) {
#line 1469
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 1024U);
    } else
#line 1470
    if ((unsigned int )func_to_switch == 2U) {
#line 1471
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 512U);
    } else {
#line 1473
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 256U);
    }
  } else {

  }
#line 1476
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1477
    retval = rtsx_write_register(chip, 64936, 6, 4);
#line 1479
    if (retval != 0) {
#line 1480
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_switch_function", 1480);
#line 1481
      return (retval);
    } else {

    }
#line 1483
    retval = sd_set_sample_push_timing(chip);
#line 1484
    if (retval != 0) {
#line 1485
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_switch_function", 1485);
#line 1486
      return (1);
    } else {

    }
  } else {

  }
#line 1490
  if ((unsigned int )func_to_switch == 0U || (unsigned int )func_to_switch == 1U) {
#line 1494
    return (0);
  } else {

  }
#line 1498
  func_to_switch = 255U;
#line 1500
  i = 0;
#line 1500
  goto ldv_38545;
  ldv_38544: ;
#line 1501
  switch ((int )((unsigned char )(chip->sd_current_prior >> i * 8))) {
  case 3: ;
#line 1503
  if (((int )sd_card->func_group4_mask & 8) != 0) {
#line 1504
    func_to_switch = 3U;
  } else {

  }
#line 1506
  goto ldv_38537;
  case 2: ;
#line 1509
  if (((int )sd_card->func_group4_mask & 4) != 0) {
#line 1510
    func_to_switch = 2U;
  } else {

  }
#line 1512
  goto ldv_38537;
  case 1: ;
#line 1515
  if (((int )sd_card->func_group4_mask & 2) != 0) {
#line 1516
    func_to_switch = 1U;
  } else {

  }
#line 1518
  goto ldv_38537;
  case 0: ;
#line 1521
  if ((int )sd_card->func_group4_mask & 1) {
#line 1522
    func_to_switch = 0U;
  } else {

  }
#line 1524
  goto ldv_38537;
  default: ;
#line 1527
  goto ldv_38542;
  }
  ldv_38537: ;
#line 1530
  if ((unsigned int )func_to_switch != 255U) {
#line 1531
    goto ldv_38543;
  } else {

  }
  ldv_38542: 
#line 1500
  i = i + 1;
  ldv_38545: ;
#line 1500
  if (i <= 3) {
#line 1502
    goto ldv_38544;
  } else {

  }
  ldv_38543: 
#line 1534
  descriptor___1.modname = "rts5208";
#line 1534
  descriptor___1.function = "sd_switch_function";
#line 1534
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1534
  descriptor___1.format = "SD_FUNC_GROUP_4: func_to_switch = 0x%02x";
#line 1534
  descriptor___1.lineno = 1535U;
#line 1534
  descriptor___1.flags = 0U;
#line 1534
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1534
  if (tmp___4 != 0L) {
#line 1534
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1534
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "SD_FUNC_GROUP_4: func_to_switch = 0x%02x",
                      (int )func_to_switch);
  } else {

  }
#line 1537
  if ((unsigned int )func_to_switch <= 3U) {
#line 1538
    retval = sd_check_switch(chip, 4, (int )func_to_switch, (int )bus_width);
#line 1540
    if (retval != 0) {
#line 1541
      tmp___5 = sd_check_err_code(chip, 32);
#line 1541
      if (tmp___5 != 0) {
#line 1542
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_switch_function", 1542);
#line 1543
        return (1);
      } else {

      }
    } else {

    }
#line 1546
    descriptor___2.modname = "rts5208";
#line 1546
    descriptor___2.function = "sd_switch_function";
#line 1546
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1546
    descriptor___2.format = "Switch current limit finished! (%d)\n";
#line 1546
    descriptor___2.lineno = 1547U;
#line 1546
    descriptor___2.flags = 0U;
#line 1546
    tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1546
    if (tmp___7 != 0L) {
#line 1546
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1546
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "Switch current limit finished! (%d)\n",
                        retval);
    } else {

    }
  } else {

  }
#line 1550
  if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1551
    retval = rtsx_write_register(chip, 64936, 6, 0);
#line 1552
    if (retval != 0) {
#line 1553
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_switch_function", 1553);
#line 1554
      return (retval);
    } else {

    }
  } else {

  }
#line 1558
  return (0);
}
}
#line 1561 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_wait_data_idle(struct rtsx_chip *chip ) 
{ 
  int retval ;
  int i ;
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1563
  retval = 2;
#line 1565
  val = 0U;
#line 1567
  i = 0;
#line 1567
  goto ldv_38557;
  ldv_38556: 
#line 1568
  retval = rtsx_read_register(chip, 64950, & val);
#line 1569
  if (retval != 0) {
#line 1570
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_wait_data_idle", 1570);
#line 1571
    return (retval);
  } else {

  }
#line 1573
  if ((int )((signed char )val) < 0) {
#line 1574
    retval = 0;
#line 1575
    goto ldv_38555;
  } else {

  }
#line 1577
  __const_udelay(429500UL);
#line 1567
  i = i + 1;
  ldv_38557: ;
#line 1567
  if (i <= 99) {
#line 1569
    goto ldv_38556;
  } else {

  }
  ldv_38555: 
#line 1579
  descriptor.modname = "rts5208";
#line 1579
  descriptor.function = "sd_wait_data_idle";
#line 1579
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1579
  descriptor.format = "SD_DATA_STATE: 0x%02x\n";
#line 1579
  descriptor.lineno = 1579U;
#line 1579
  descriptor.flags = 0U;
#line 1579
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1579
  if (tmp___0 != 0L) {
#line 1579
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1579
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD_DATA_STATE: 0x%02x\n",
                      (int )val);
  } else {

  }
#line 1581
  return (retval);
}
}
#line 1584 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_sdr_tuning_rx_cmd(struct rtsx_chip *chip , u8 sample_point ) 
{ 
  int retval ;
  u8 cmd[5U] ;

  {
#line 1589
  retval = sd_change_phase(chip, (int )sample_point, 1);
#line 1590
  if (retval != 0) {
#line 1591
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning_rx_cmd", 1591);
#line 1592
    return (1);
  } else {

  }
#line 1595
  cmd[0] = 83U;
#line 1596
  cmd[1] = 0U;
#line 1597
  cmd[2] = 0U;
#line 1598
  cmd[3] = 0U;
#line 1599
  cmd[4] = 0U;
#line 1601
  retval = sd_read_data(chip, 15, (u8 *)(& cmd), 5, 64, 1, 1, (u8 *)0U, 0, 100);
#line 1603
  if (retval != 0) {
#line 1604
    sd_wait_data_idle(chip);
#line 1606
    rtsx_clear_sd_error(chip);
#line 1607
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning_rx_cmd", 1607);
#line 1608
    return (1);
  } else {

  }
#line 1611
  return (0);
}
}
#line 1614 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_ddr_tuning_rx_cmd(struct rtsx_chip *chip , u8 sample_point ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1616
  sd_card = & chip->sd_card;
#line 1620
  retval = sd_change_phase(chip, (int )sample_point, 1);
#line 1621
  if (retval != 0) {
#line 1622
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_rx_cmd", 1622);
#line 1623
    return (1);
  } else {

  }
#line 1626
  descriptor.modname = "rts5208";
#line 1626
  descriptor.function = "sd_ddr_tuning_rx_cmd";
#line 1626
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1626
  descriptor.format = "sd ddr tuning rx\n";
#line 1626
  descriptor.lineno = 1626U;
#line 1626
  descriptor.flags = 0U;
#line 1626
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1626
  if (tmp___0 != 0L) {
#line 1626
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1626
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "sd ddr tuning rx\n");
  } else {

  }
#line 1628
  retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 1630
  if (retval != 0) {
#line 1631
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_rx_cmd", 1631);
#line 1632
    return (1);
  } else {

  }
#line 1635
  cmd[0] = 77U;
#line 1636
  cmd[1] = 0U;
#line 1637
  cmd[2] = 0U;
#line 1638
  cmd[3] = 0U;
#line 1639
  cmd[4] = 0U;
#line 1641
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 64, 1, 1, (u8 *)0U, 0, 100);
#line 1643
  if (retval != 0) {
#line 1644
    sd_wait_data_idle(chip);
#line 1646
    rtsx_clear_sd_error(chip);
#line 1647
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_rx_cmd", 1647);
#line 1648
    return (1);
  } else {

  }
#line 1651
  return (0);
}
}
#line 1654 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int mmc_ddr_tunning_rx_cmd(struct rtsx_chip *chip , u8 sample_point ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  u8 bus_width ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1656
  sd_card = & chip->sd_card;
#line 1660
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 1661
    bus_width = 2U;
  } else
#line 1662
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1663
    bus_width = 1U;
  } else {
#line 1665
    bus_width = 0U;
  }
#line 1667
  retval = sd_change_phase(chip, (int )sample_point, 1);
#line 1668
  if (retval != 0) {
#line 1669
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_ddr_tunning_rx_cmd", 1669);
#line 1670
    return (1);
  } else {

  }
#line 1673
  descriptor.modname = "rts5208";
#line 1673
  descriptor.function = "mmc_ddr_tunning_rx_cmd";
#line 1673
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1673
  descriptor.format = "mmc ddr tuning rx\n";
#line 1673
  descriptor.lineno = 1673U;
#line 1673
  descriptor.flags = 0U;
#line 1673
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1673
  if (tmp___0 != 0L) {
#line 1673
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1673
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "mmc ddr tuning rx\n");
  } else {

  }
#line 1675
  cmd[0] = 72U;
#line 1676
  cmd[1] = 0U;
#line 1677
  cmd[2] = 0U;
#line 1678
  cmd[3] = 0U;
#line 1679
  cmd[4] = 0U;
#line 1681
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 512, 1, (int )bus_width, (u8 *)0U,
                        0, 100);
#line 1683
  if (retval != 0) {
#line 1684
    sd_wait_data_idle(chip);
#line 1686
    rtsx_clear_sd_error(chip);
#line 1687
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_ddr_tunning_rx_cmd", 1687);
#line 1688
    return (1);
  } else {

  }
#line 1691
  return (0);
}
}
#line 1694 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_sdr_tuning_tx_cmd(struct rtsx_chip *chip , u8 sample_point ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int tmp ;

  {
#line 1696
  sd_card = & chip->sd_card;
#line 1699
  retval = sd_change_phase(chip, (int )sample_point, 0);
#line 1700
  if (retval != 0) {
#line 1701
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning_tx_cmd", 1701);
#line 1702
    return (1);
  } else {

  }
#line 1705
  retval = rtsx_write_register(chip, 64930, 1, 1);
#line 1707
  if (retval != 0) {
#line 1708
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning_tx_cmd", 1708);
#line 1709
    return (retval);
  } else {

  }
#line 1712
  retval = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 1714
  if (retval != 0) {
#line 1715
    tmp = sd_check_err_code(chip, 4);
#line 1715
    if (tmp != 0) {
#line 1716
      rtsx_write_register(chip, 64930, 1, 0);
#line 1718
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_sdr_tuning_tx_cmd", 1718);
#line 1719
      return (1);
    } else {

    }
  } else {

  }
#line 1723
  retval = rtsx_write_register(chip, 64930, 1, 0);
#line 1725
  if (retval != 0) {
#line 1726
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning_tx_cmd", 1726);
#line 1727
    return (retval);
  } else {

  }
#line 1730
  return (0);
}
}
#line 1733 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_ddr_tuning_tx_cmd(struct rtsx_chip *chip , u8 sample_point ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  u8 bus_width ;

  {
#line 1735
  sd_card = & chip->sd_card;
#line 1739
  retval = sd_change_phase(chip, (int )sample_point, 0);
#line 1740
  if (retval != 0) {
#line 1741
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_tx_cmd", 1741);
#line 1742
    return (1);
  } else {

  }
#line 1745
  if (((int )sd_card->sd_type & 255) == 0) {
#line 1746
    bus_width = 1U;
  } else
#line 1748
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 1749
    bus_width = 2U;
  } else
#line 1750
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1751
    bus_width = 1U;
  } else {
#line 1753
    bus_width = 0U;
  }
#line 1756
  retval = sd_wait_state_data_ready(chip, 8, 1, 1000);
#line 1757
  if (retval != 0) {
#line 1758
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_tx_cmd", 1758);
#line 1759
    return (1);
  } else {

  }
#line 1762
  retval = rtsx_write_register(chip, 64930, 1, 1);
#line 1764
  if (retval != 0) {
#line 1765
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_tx_cmd", 1765);
#line 1766
    return (retval);
  } else {

  }
#line 1769
  cmd[0] = 91U;
#line 1770
  cmd[1] = 0U;
#line 1771
  cmd[2] = 0U;
#line 1772
  cmd[3] = 0U;
#line 1773
  cmd[4] = 0U;
#line 1775
  retval = sd_write_data(chip, 10, (u8 *)(& cmd), 5, 16, 1, (int )bus_width, (u8 *)(& sd_card->raw_csd),
                         16, 100);
#line 1777
  if (retval != 0) {
#line 1778
    rtsx_clear_sd_error(chip);
#line 1779
    rtsx_write_register(chip, 64930, 1, 0);
#line 1780
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_tx_cmd", 1780);
#line 1781
    return (1);
  } else {

  }
#line 1784
  retval = rtsx_write_register(chip, 64930, 1, 0);
#line 1786
  if (retval != 0) {
#line 1787
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning_tx_cmd", 1787);
#line 1788
    return (retval);
  } else {

  }
#line 1791
  sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 1794
  return (0);
}
}
#line 1797 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static u8 sd_search_final_phase(struct rtsx_chip *chip , u32 phase_map , u8 tune_dir ) 
{ 
  struct sd_info *sd_card ;
  struct timing_phase_path path[32U] ;
  int i ;
  int j ;
  int cont_path_cnt ;
  bool new_block ;
  int max_len ;
  int final_path_idx ;
  u8 final_phase ;
  int tmp ;
  int idx ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  int idx___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___10 ;
  long tmp___11 ;
  int temp_mid ;
  int temp_final_phase ;
  int temp_mid___0 ;
  int temp_final_phase___0 ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___12 ;
  long tmp___13 ;

  {
#line 1800
  sd_card = & chip->sd_card;
#line 1805
  final_phase = 255U;
#line 1807
  if (phase_map == 4294967295U) {
#line 1808
    if ((unsigned int )tune_dir == 1U) {
#line 1809
      final_phase = (unsigned char )chip->sd_default_rx_phase;
    } else {
#line 1811
      final_phase = (unsigned char )chip->sd_default_tx_phase;
    }
#line 1813
    goto Search_Finish;
  } else {

  }
#line 1816
  cont_path_cnt = 0;
#line 1817
  new_block = 1;
#line 1818
  j = 0;
#line 1819
  i = 0;
#line 1819
  goto ldv_38618;
  ldv_38617: ;
#line 1820
  if (((u32 )(1 << i) & phase_map) != 0U) {
#line 1821
    if ((int )new_block) {
#line 1822
      new_block = 0;
#line 1823
      tmp = cont_path_cnt;
#line 1823
      cont_path_cnt = cont_path_cnt + 1;
#line 1823
      j = tmp;
#line 1824
      path[j].start = i;
#line 1825
      path[j].end = i;
    } else {
#line 1827
      path[j].end = i;
    }
  } else {
#line 1830
    new_block = 1;
#line 1831
    if (cont_path_cnt != 0) {
#line 1832
      idx = cont_path_cnt + -1;
#line 1834
      path[idx].len = (path[idx].end - path[idx].start) + 1;
#line 1836
      path[idx].mid = path[idx].start + path[idx].len / 2;
    } else {

    }
  }
#line 1819
  i = i + 1;
  ldv_38618: ;
#line 1819
  if (i <= 31) {
#line 1821
    goto ldv_38617;
  } else {

  }

#line 1842
  if (cont_path_cnt == 0) {
#line 1843
    descriptor.modname = "rts5208";
#line 1843
    descriptor.function = "sd_search_final_phase";
#line 1843
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1843
    descriptor.format = "No continuous phase path\n";
#line 1843
    descriptor.lineno = 1843U;
#line 1843
    descriptor.flags = 0U;
#line 1843
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1843
    if (tmp___1 != 0L) {
#line 1843
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1843
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "No continuous phase path\n");
    } else {

    }
#line 1844
    goto Search_Finish;
  } else {
#line 1846
    idx___0 = cont_path_cnt + -1;
#line 1848
    path[idx___0].len = (path[idx___0].end - path[idx___0].start) + 1;
#line 1849
    path[idx___0].mid = path[idx___0].start + path[idx___0].len / 2;
  }
#line 1852
  if (path[0].start == 0 && path[cont_path_cnt + -1].end == 31) {
#line 1854
    path[0].start = path[cont_path_cnt + -1].start + -32;
#line 1855
    path[0].len = path[0].len + path[cont_path_cnt + -1].len;
#line 1856
    path[0].mid = path[0].start + path[0].len / 2;
#line 1857
    if (path[0].mid < 0) {
#line 1858
      path[0].mid = path[0].mid + 32;
    } else {

    }
#line 1860
    cont_path_cnt = cont_path_cnt - 1;
  } else {

  }
#line 1863
  max_len = 0;
#line 1864
  final_phase = 0U;
#line 1865
  final_path_idx = 0;
#line 1866
  i = 0;
#line 1866
  goto ldv_38629;
  ldv_38628: ;
#line 1867
  if (path[i].len > max_len) {
#line 1868
    max_len = path[i].len;
#line 1869
    final_phase = (unsigned char )path[i].mid;
#line 1870
    final_path_idx = i;
  } else {

  }
#line 1873
  descriptor___0.modname = "rts5208";
#line 1873
  descriptor___0.function = "sd_search_final_phase";
#line 1873
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1873
  descriptor___0.format = "path[%d].start = %d\n";
#line 1873
  descriptor___0.lineno = 1874U;
#line 1873
  descriptor___0.flags = 0U;
#line 1873
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1873
  if (tmp___3 != 0L) {
#line 1873
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1873
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "path[%d].start = %d\n",
                      i, path[i].start);
  } else {

  }
#line 1875
  descriptor___1.modname = "rts5208";
#line 1875
  descriptor___1.function = "sd_search_final_phase";
#line 1875
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1875
  descriptor___1.format = "path[%d].end = %d\n";
#line 1875
  descriptor___1.lineno = 1875U;
#line 1875
  descriptor___1.flags = 0U;
#line 1875
  tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1875
  if (tmp___5 != 0L) {
#line 1875
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1875
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "path[%d].end = %d\n",
                      i, path[i].end);
  } else {

  }
#line 1876
  descriptor___2.modname = "rts5208";
#line 1876
  descriptor___2.function = "sd_search_final_phase";
#line 1876
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1876
  descriptor___2.format = "path[%d].len = %d\n";
#line 1876
  descriptor___2.lineno = 1876U;
#line 1876
  descriptor___2.flags = 0U;
#line 1876
  tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1876
  if (tmp___7 != 0L) {
#line 1876
    tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1876
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "path[%d].len = %d\n",
                      i, path[i].len);
  } else {

  }
#line 1877
  descriptor___3.modname = "rts5208";
#line 1877
  descriptor___3.function = "sd_search_final_phase";
#line 1877
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1877
  descriptor___3.format = "path[%d].mid = %d\n";
#line 1877
  descriptor___3.lineno = 1877U;
#line 1877
  descriptor___3.flags = 0U;
#line 1877
  tmp___9 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1877
  if (tmp___9 != 0L) {
#line 1877
    tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1877
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___8, "path[%d].mid = %d\n",
                      i, path[i].mid);
  } else {

  }
#line 1878
  descriptor___4.modname = "rts5208";
#line 1878
  descriptor___4.function = "sd_search_final_phase";
#line 1878
  descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1878
  descriptor___4.format = "\n";
#line 1878
  descriptor___4.lineno = 1878U;
#line 1878
  descriptor___4.flags = 0U;
#line 1878
  tmp___11 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 1878
  if (tmp___11 != 0L) {
#line 1878
    tmp___10 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1878
    __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___10, "\n");
  } else {

  }
#line 1866
  i = i + 1;
  ldv_38629: ;
#line 1866
  if (i < cont_path_cnt) {
#line 1868
    goto ldv_38628;
  } else {

  }

#line 1881
  if ((unsigned int )tune_dir == 0U) {
#line 1882
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 2048) != 0) {
#line 1883
      if (max_len > 15) {
#line 1884
        temp_mid = (max_len + -16) / 2;
#line 1885
        temp_final_phase = path[final_path_idx].end + ((temp_mid + 6) - max_len);
#line 1889
        if (temp_final_phase < 0) {
#line 1890
          final_phase = (unsigned int )((unsigned char )temp_final_phase) + 32U;
        } else {
#line 1893
          final_phase = (unsigned char )temp_final_phase;
        }
      } else {

      }
    } else
#line 1895
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 512) != 0) {
#line 1896
      if (max_len > 12) {
#line 1897
        temp_mid___0 = (max_len + -13) / 2;
#line 1898
        temp_final_phase___0 = path[final_path_idx].end + ((temp_mid___0 + 3) - max_len);
#line 1902
        if (temp_final_phase___0 < 0) {
#line 1903
          final_phase = (unsigned int )((unsigned char )temp_final_phase___0) + 32U;
        } else {
#line 1906
          final_phase = (unsigned char )temp_final_phase___0;
        }
      } else {

      }
    } else {

    }
  } else {

  }
  Search_Finish: 
#line 1912
  descriptor___5.modname = "rts5208";
#line 1912
  descriptor___5.function = "sd_search_final_phase";
#line 1912
  descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1912
  descriptor___5.format = "Final chosen phase: %d\n";
#line 1912
  descriptor___5.lineno = 1912U;
#line 1912
  descriptor___5.flags = 0U;
#line 1912
  tmp___13 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 1912
  if (tmp___13 != 0L) {
#line 1912
    tmp___12 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1912
    __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___12, "Final chosen phase: %d\n",
                      (int )final_phase);
  } else {

  }
#line 1913
  return (final_phase);
}
}
#line 1916 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_tuning_rx(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  int j ;
  u32 raw_phase_map[3U] ;
  u32 phase_map ;
  u8 final_phase ;
  int (*tuning_cmd)(struct rtsx_chip * , u8  ) ;
  int tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;

  {
#line 1918
  sd_card = & chip->sd_card;
#line 1925
  if (((int )sd_card->sd_type & 255) == 0) {
#line 1926
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 1927
      tuning_cmd = & sd_ddr_tuning_rx_cmd;
    } else {
#line 1929
      tuning_cmd = & sd_sdr_tuning_rx_cmd;
    }
  } else
#line 1932
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 1933
    tuning_cmd = & mmc_ddr_tunning_rx_cmd;
  } else {
#line 1935
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_rx", 1935);
#line 1936
    return (1);
  }
#line 1940
  i = 0;
#line 1940
  goto ldv_38654;
  ldv_38653: 
#line 1941
  raw_phase_map[i] = 0U;
#line 1942
  j = 31;
#line 1942
  goto ldv_38651;
  ldv_38650: 
#line 1943
  tmp = detect_card_cd(chip, 4);
#line 1943
  if (tmp != 0) {
#line 1944
    sd_set_err_code(chip, 32);
#line 1945
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_rx", 1945);
#line 1946
    return (1);
  } else {

  }
#line 1949
  retval = (*tuning_cmd)(chip, (int )((unsigned char )j));
#line 1950
  if (retval == 0) {
#line 1951
    raw_phase_map[i] = raw_phase_map[i] | (u32 )(1 << j);
  } else {

  }
#line 1942
  j = j - 1;
  ldv_38651: ;
#line 1942
  if (j >= 0) {
#line 1944
    goto ldv_38650;
  } else {

  }
#line 1940
  i = i + 1;
  ldv_38654: ;
#line 1940
  if (i <= 2) {
#line 1942
    goto ldv_38653;
  } else {

  }
#line 1955
  phase_map = (raw_phase_map[0] & raw_phase_map[1]) & raw_phase_map[2];
#line 1956
  i = 0;
#line 1956
  goto ldv_38658;
  ldv_38657: 
#line 1957
  descriptor.modname = "rts5208";
#line 1957
  descriptor.function = "sd_tuning_rx";
#line 1957
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1957
  descriptor.format = "RX raw_phase_map[%d] = 0x%08x\n";
#line 1957
  descriptor.lineno = 1958U;
#line 1957
  descriptor.flags = 0U;
#line 1957
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1957
  if (tmp___1 != 0L) {
#line 1957
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1957
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "RX raw_phase_map[%d] = 0x%08x\n",
                      i, raw_phase_map[i]);
  } else {

  }
#line 1956
  i = i + 1;
  ldv_38658: ;
#line 1956
  if (i <= 2) {
#line 1958
    goto ldv_38657;
  } else {

  }
#line 1960
  descriptor___0.modname = "rts5208";
#line 1960
  descriptor___0.function = "sd_tuning_rx";
#line 1960
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 1960
  descriptor___0.format = "RX phase_map = 0x%08x\n";
#line 1960
  descriptor___0.lineno = 1960U;
#line 1960
  descriptor___0.flags = 0U;
#line 1960
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1960
  if (tmp___3 != 0L) {
#line 1960
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1960
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "RX phase_map = 0x%08x\n",
                      phase_map);
  } else {

  }
#line 1962
  final_phase = sd_search_final_phase(chip, phase_map, 1);
#line 1963
  if ((unsigned int )final_phase == 255U) {
#line 1964
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_rx", 1964);
#line 1965
    return (1);
  } else {

  }
#line 1968
  retval = sd_change_phase(chip, (int )final_phase, 1);
#line 1969
  if (retval != 0) {
#line 1970
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_rx", 1970);
#line 1971
    return (1);
  } else {

  }
#line 1974
  return (0);
}
}
#line 1977 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_ddr_pre_tuning_tx(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  u32 phase_map ;
  u8 final_phase ;
  int tmp ;
  int tmp___0 ;
  struct _ddebug descriptor ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 1979
  sd_card = & chip->sd_card;
#line 1985
  retval = rtsx_write_register(chip, 64930, 1, 1);
#line 1987
  if (retval != 0) {
#line 1988
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_pre_tuning_tx", 1988);
#line 1989
    return (retval);
  } else {

  }
#line 1992
  phase_map = 0U;
#line 1993
  i = 31;
#line 1993
  goto ldv_38672;
  ldv_38671: 
#line 1994
  tmp = detect_card_cd(chip, 4);
#line 1994
  if (tmp != 0) {
#line 1995
    sd_set_err_code(chip, 32);
#line 1996
    rtsx_write_register(chip, 64930, 1, 0);
#line 1998
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_pre_tuning_tx", 1998);
#line 1999
    return (1);
  } else {

  }
#line 2002
  retval = sd_change_phase(chip, (int )((unsigned char )i), 0);
#line 2003
  if (retval != 0) {
#line 2004
    goto ldv_38670;
  } else {

  }
#line 2006
  retval = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2009
  if (retval == 0) {
#line 2011
    phase_map = (u32 )(1 << i) | phase_map;
  } else {
#line 2009
    tmp___0 = sd_check_err_code(chip, 4);
#line 2009
    if (tmp___0 == 0) {
#line 2011
      phase_map = (u32 )(1 << i) | phase_map;
    } else {

    }
  }
  ldv_38670: 
#line 1993
  i = i - 1;
  ldv_38672: ;
#line 1993
  if (i >= 0) {
#line 1995
    goto ldv_38671;
  } else {

  }
#line 2014
  retval = rtsx_write_register(chip, 64930, 1, 0);
#line 2016
  if (retval != 0) {
#line 2017
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_pre_tuning_tx", 2017);
#line 2018
    return (retval);
  } else {

  }
#line 2021
  descriptor.modname = "rts5208";
#line 2021
  descriptor.function = "sd_ddr_pre_tuning_tx";
#line 2021
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2021
  descriptor.format = "DDR TX pre tune phase_map = 0x%08x\n";
#line 2021
  descriptor.lineno = 2022U;
#line 2021
  descriptor.flags = 0U;
#line 2021
  tmp___2 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2021
  if (tmp___2 != 0L) {
#line 2021
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2021
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___1, "DDR TX pre tune phase_map = 0x%08x\n",
                      phase_map);
  } else {

  }
#line 2024
  final_phase = sd_search_final_phase(chip, phase_map, 0);
#line 2025
  if ((unsigned int )final_phase == 255U) {
#line 2026
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_pre_tuning_tx", 2026);
#line 2027
    return (1);
  } else {

  }
#line 2030
  retval = sd_change_phase(chip, (int )final_phase, 0);
#line 2031
  if (retval != 0) {
#line 2032
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_pre_tuning_tx", 2032);
#line 2033
    return (1);
  } else {

  }
#line 2036
  descriptor___0.modname = "rts5208";
#line 2036
  descriptor___0.function = "sd_ddr_pre_tuning_tx";
#line 2036
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2036
  descriptor___0.format = "DDR TX pre tune phase: %d\n";
#line 2036
  descriptor___0.lineno = 2037U;
#line 2036
  descriptor___0.flags = 0U;
#line 2036
  tmp___4 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2036
  if (tmp___4 != 0L) {
#line 2036
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2036
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___3, "DDR TX pre tune phase: %d\n",
                      (int )final_phase);
  } else {

  }
#line 2039
  return (0);
}
}
#line 2042 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_tuning_tx(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  int j ;
  u32 raw_phase_map[3U] ;
  u32 phase_map ;
  u8 final_phase ;
  int (*tuning_cmd)(struct rtsx_chip * , u8  ) ;
  int tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;

  {
#line 2044
  sd_card = & chip->sd_card;
#line 2051
  if (((int )sd_card->sd_type & 255) == 0) {
#line 2052
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 2053
      tuning_cmd = & sd_ddr_tuning_tx_cmd;
    } else {
#line 2055
      tuning_cmd = & sd_sdr_tuning_tx_cmd;
    }
  } else
#line 2058
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 2059
    tuning_cmd = & sd_ddr_tuning_tx_cmd;
  } else {
#line 2061
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_tx", 2061);
#line 2062
    return (1);
  }
#line 2066
  i = 0;
#line 2066
  goto ldv_38694;
  ldv_38693: 
#line 2067
  raw_phase_map[i] = 0U;
#line 2068
  j = 31;
#line 2068
  goto ldv_38691;
  ldv_38690: 
#line 2069
  tmp = detect_card_cd(chip, 4);
#line 2069
  if (tmp != 0) {
#line 2070
    sd_set_err_code(chip, 32);
#line 2071
    rtsx_write_register(chip, 64930, 1, 0);
#line 2073
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_tx", 2073);
#line 2074
    return (1);
  } else {

  }
#line 2077
  retval = (*tuning_cmd)(chip, (int )((unsigned char )j));
#line 2078
  if (retval == 0) {
#line 2079
    raw_phase_map[i] = raw_phase_map[i] | (u32 )(1 << j);
  } else {

  }
#line 2068
  j = j - 1;
  ldv_38691: ;
#line 2068
  if (j >= 0) {
#line 2070
    goto ldv_38690;
  } else {

  }
#line 2066
  i = i + 1;
  ldv_38694: ;
#line 2066
  if (i <= 2) {
#line 2068
    goto ldv_38693;
  } else {

  }
#line 2083
  phase_map = (raw_phase_map[0] & raw_phase_map[1]) & raw_phase_map[2];
#line 2084
  i = 0;
#line 2084
  goto ldv_38698;
  ldv_38697: 
#line 2085
  descriptor.modname = "rts5208";
#line 2085
  descriptor.function = "sd_tuning_tx";
#line 2085
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2085
  descriptor.format = "TX raw_phase_map[%d] = 0x%08x\n";
#line 2085
  descriptor.lineno = 2086U;
#line 2085
  descriptor.flags = 0U;
#line 2085
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2085
  if (tmp___1 != 0L) {
#line 2085
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2085
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "TX raw_phase_map[%d] = 0x%08x\n",
                      i, raw_phase_map[i]);
  } else {

  }
#line 2084
  i = i + 1;
  ldv_38698: ;
#line 2084
  if (i <= 2) {
#line 2086
    goto ldv_38697;
  } else {

  }
#line 2088
  descriptor___0.modname = "rts5208";
#line 2088
  descriptor___0.function = "sd_tuning_tx";
#line 2088
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2088
  descriptor___0.format = "TX phase_map = 0x%08x\n";
#line 2088
  descriptor___0.lineno = 2088U;
#line 2088
  descriptor___0.flags = 0U;
#line 2088
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2088
  if (tmp___3 != 0L) {
#line 2088
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2088
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "TX phase_map = 0x%08x\n",
                      phase_map);
  } else {

  }
#line 2090
  final_phase = sd_search_final_phase(chip, phase_map, 0);
#line 2091
  if ((unsigned int )final_phase == 255U) {
#line 2092
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_tx", 2092);
#line 2093
    return (1);
  } else {

  }
#line 2096
  retval = sd_change_phase(chip, (int )final_phase, 0);
#line 2097
  if (retval != 0) {
#line 2098
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_tuning_tx", 2098);
#line 2099
    return (1);
  } else {

  }
#line 2102
  return (0);
}
}
#line 2105 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_sdr_tuning(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 2109
  retval = sd_tuning_tx(chip);
#line 2110
  if (retval != 0) {
#line 2111
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning", 2111);
#line 2112
    return (1);
  } else {

  }
#line 2115
  retval = sd_tuning_rx(chip);
#line 2116
  if (retval != 0) {
#line 2117
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_sdr_tuning", 2117);
#line 2118
    return (1);
  } else {

  }
#line 2121
  return (0);
}
}
#line 2124 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_ddr_tuning(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 2128
  if ((chip->sd_ctl & 16U) == 0U) {
#line 2129
    retval = sd_ddr_pre_tuning_tx(chip);
#line 2130
    if (retval != 0) {
#line 2131
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_ddr_tuning", 2131);
#line 2132
      return (1);
    } else {

    }
  } else {
#line 2135
    retval = sd_change_phase(chip, (int )((unsigned char )chip->sd_ddr_tx_phase),
                             0);
#line 2137
    if (retval != 0) {
#line 2138
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_ddr_tuning", 2138);
#line 2139
      return (1);
    } else {

    }
  }
#line 2143
  retval = sd_tuning_rx(chip);
#line 2144
  if (retval != 0) {
#line 2145
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_ddr_tuning", 2145);
#line 2146
    return (1);
  } else {

  }
#line 2149
  if ((chip->sd_ctl & 16U) == 0U) {
#line 2150
    retval = sd_tuning_tx(chip);
#line 2151
    if (retval != 0) {
#line 2152
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_ddr_tuning", 2152);
#line 2153
      return (1);
    } else {

    }
  } else {

  }
#line 2157
  return (0);
}
}
#line 2160 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int mmc_ddr_tuning(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 2164
  if ((chip->sd_ctl & 32U) == 0U) {
#line 2165
    retval = sd_ddr_pre_tuning_tx(chip);
#line 2166
    if (retval != 0) {
#line 2167
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "mmc_ddr_tuning", 2167);
#line 2168
      return (1);
    } else {

    }
  } else {
#line 2171
    retval = sd_change_phase(chip, (int )((unsigned char )chip->mmc_ddr_tx_phase),
                             0);
#line 2173
    if (retval != 0) {
#line 2174
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "mmc_ddr_tuning", 2174);
#line 2175
      return (1);
    } else {

    }
  }
#line 2179
  retval = sd_tuning_rx(chip);
#line 2180
  if (retval != 0) {
#line 2181
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_ddr_tuning", 2181);
#line 2182
    return (1);
  } else {

  }
#line 2185
  if ((chip->sd_ctl & 32U) == 0U) {
#line 2186
    retval = sd_tuning_tx(chip);
#line 2187
    if (retval != 0) {
#line 2188
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "mmc_ddr_tuning", 2188);
#line 2189
      return (1);
    } else {

    }
  } else {

  }
#line 2193
  return (0);
}
}
#line 2196 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_switch_clock(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int re_tuning ;

  {
#line 2198
  sd_card = & chip->sd_card;
#line 2200
  re_tuning = 0;
#line 2202
  retval = select_card(chip, 4);
#line 2203
  if (retval != 0) {
#line 2204
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_switch_clock", 2204);
#line 2205
    return (1);
  } else {

  }
#line 2208
  retval = switch_clock(chip, sd_card->sd_clock);
#line 2209
  if (retval != 0) {
#line 2210
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_switch_clock", 2210);
#line 2211
    return (1);
  } else {

  }
#line 2214
  if (re_tuning != 0) {
#line 2215
    if (((int )sd_card->sd_type & 255) == 0) {
#line 2216
      if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 2217
        retval = sd_ddr_tuning(chip);
      } else {
#line 2219
        retval = sd_sdr_tuning(chip);
      }
    } else
#line 2221
    if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 2222
      retval = mmc_ddr_tuning(chip);
    } else {

    }
#line 2225
    if (retval != 0) {
#line 2226
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_switch_clock", 2226);
#line 2227
      return (1);
    } else {

    }
  } else {

  }
#line 2231
  return (0);
}
}
#line 2234 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_prepare_reset(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;

  {
#line 2236
  sd_card = & chip->sd_card;
#line 2239
  if (chip->asic_code != 0) {
#line 2240
    sd_card->sd_clock = 29;
  } else {
#line 2242
    sd_card->sd_clock = 2;
  }
#line 2244
  sd_card->sd_type = 0U;
#line 2245
  sd_card->seq_mode = 0;
#line 2246
  sd_card->sd_data_buf_ready = 0U;
#line 2247
  sd_card->capacity = 0U;
#line 2250
  sd_card->sd_lock_status = 0U;
#line 2251
  sd_card->sd_erase_status = 0U;
#line 2254
  chip->capacity[(int )chip->card2lun[4]] = 0U;
#line 2255
  chip->sd_io = 0U;
#line 2257
  retval = sd_set_init_para(chip);
#line 2258
  if (retval != 0) {
#line 2259
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_prepare_reset", 2259);
#line 2260
    return (retval);
  } else {

  }
#line 2263
  retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 255, 64);
#line 2264
  if (retval != 0) {
#line 2265
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_prepare_reset", 2265);
#line 2266
    return (retval);
  } else {

  }
#line 2269
  retval = rtsx_write_register(chip, 64852, 68, 68);
#line 2271
  if (retval != 0) {
#line 2272
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_prepare_reset", 2272);
#line 2273
    return (retval);
  } else {

  }
#line 2276
  retval = select_card(chip, 4);
#line 2277
  if (retval != 0) {
#line 2278
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_prepare_reset", 2278);
#line 2279
    return (1);
  } else {

  }
#line 2282
  return (0);
}
}
#line 2285 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_pull_ctl_disable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 2289
  if ((unsigned int )chip->product_id == 21000U) {
#line 2290
    retval = rtsx_write_register(chip, 64864, 255, 85);
#line 2292
    if (retval != 0) {
#line 2293
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2293);
#line 2294
      return (retval);
    } else {

    }
#line 2296
    retval = rtsx_write_register(chip, 64865, 255, 85);
#line 2298
    if (retval != 0) {
#line 2299
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2299);
#line 2300
      return (retval);
    } else {

    }
#line 2302
    retval = rtsx_write_register(chip, 64866, 255, 75);
#line 2304
    if (retval != 0) {
#line 2305
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2305);
#line 2306
      return (retval);
    } else {

    }
#line 2308
    retval = rtsx_write_register(chip, 64867, 255, 85);
#line 2310
    if (retval != 0) {
#line 2311
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2311);
#line 2312
      return (retval);
    } else {

    }
#line 2314
    retval = rtsx_write_register(chip, 64868, 255, 180);
#line 2316
    if (retval != 0) {
#line 2317
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2317);
#line 2318
      return (retval);
    } else {

    }
#line 2320
    retval = rtsx_write_register(chip, 64869, 255, 5);
#line 2322
    if (retval != 0) {
#line 2323
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_pull_ctl_disable", 2323);
#line 2324
      return (retval);
    } else {

    }
  } else
#line 2326
  if ((unsigned int )chip->product_id == 21128U) {
#line 2327
    if (chip->baro_pkg == 0) {
#line 2328
      retval = rtsx_write_register(chip, 64864, 255, 85);
#line 2330
      if (retval != 0) {
#line 2331
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_pull_ctl_disable", 2331);
#line 2332
        return (retval);
      } else {

      }
#line 2334
      retval = rtsx_write_register(chip, 64865, 255, 85);
#line 2336
      if (retval != 0) {
#line 2337
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_pull_ctl_disable", 2337);
#line 2338
        return (retval);
      } else {

      }
#line 2340
      retval = rtsx_write_register(chip, 64866, 255, 75);
#line 2342
      if (retval != 0) {
#line 2343
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_pull_ctl_disable", 2343);
#line 2344
        return (retval);
      } else {

      }
#line 2346
      retval = rtsx_write_register(chip, 64867, 255, 105);
#line 2348
      if (retval != 0) {
#line 2349
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_pull_ctl_disable", 2349);
#line 2350
        return (retval);
      } else {

      }
    } else {

    }
  } else {

  }
#line 2355
  return (0);
}
}
#line 2358 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_pull_ctl_enable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 2362
  chip->ci = 0;
#line 2364
  if ((unsigned int )chip->product_id == 21000U) {
#line 2365
    rtsx_add_cmd(chip, 1, 64864, 255, 98);
#line 2367
    rtsx_add_cmd(chip, 1, 64865, 255, 166);
#line 2369
    rtsx_add_cmd(chip, 1, 64866, 255, 139);
#line 2371
    rtsx_add_cmd(chip, 1, 64867, 255, 105);
#line 2373
    rtsx_add_cmd(chip, 1, 64868, 255, 216);
#line 2375
    rtsx_add_cmd(chip, 1, 64869, 255, 5);
  } else
#line 2377
  if ((unsigned int )chip->product_id == 21128U) {
#line 2378
    if (chip->baro_pkg == 0) {
#line 2379
      rtsx_add_cmd(chip, 1, 64864, 255, 168);
#line 2381
      rtsx_add_cmd(chip, 1, 64865, 255, 90);
#line 2383
      rtsx_add_cmd(chip, 1, 64866, 255, 149);
#line 2385
      rtsx_add_cmd(chip, 1, 64867, 255, 170);
    } else {

    }
  } else {

  }
#line 2390
  retval = rtsx_send_cmd(chip, 4, 100);
#line 2391
  if (retval < 0) {
#line 2392
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_pull_ctl_enable", 2392);
#line 2393
    return (1);
  } else {

  }
#line 2396
  return (0);
}
}
#line 2399 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_init_power(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct _ddebug descriptor ;
  struct device *tmp___9 ;
  long tmp___10 ;

  {
#line 2403
  retval = sd_power_off_card3v3(chip);
#line 2404
  if (retval != 0) {
#line 2405
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_init_power", 2405);
#line 2406
    return (1);
  } else {

  }
#line 2409
  if (chip->ft2_fast_mode == 0) {
#line 2410
    tmp = get_current();
#line 2410
    tmp->task_state_change = 0UL;
#line 2410
    __ret = 1L;
#line 2410
    switch (8UL) {
    case 1UL: 
#line 2410
    tmp___0 = get_current();
#line 2410
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2410
    goto ldv_38746;
    case 2UL: 
#line 2410
    tmp___1 = get_current();
#line 2410
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2410
    goto ldv_38746;
    case 4UL: 
#line 2410
    tmp___2 = get_current();
#line 2410
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2410
    goto ldv_38746;
    case 8UL: 
#line 2410
    tmp___3 = get_current();
#line 2410
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2410
    goto ldv_38746;
    default: 
#line 2410
    __xchg_wrong_size();
    }
    ldv_38746: 
#line 2410
    schedule_timeout(62L);
  } else {

  }
#line 2412
  retval = enable_card_clock(chip, 4);
#line 2413
  if (retval != 0) {
#line 2414
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_init_power", 2414);
#line 2415
    return (1);
  } else {

  }
#line 2418
  if (chip->asic_code != 0) {
#line 2419
    retval = sd_pull_ctl_enable(chip);
#line 2420
    if (retval != 0) {
#line 2421
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_init_power", 2421);
#line 2422
      return (1);
    } else {

    }
  } else {
#line 2425
    retval = rtsx_write_register(chip, 64541, 40, 0);
#line 2427
    if (retval != 0) {
#line 2428
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_init_power", 2428);
#line 2429
      return (retval);
    } else {

    }
  }
#line 2433
  if (chip->ft2_fast_mode == 0) {
#line 2434
    retval = card_power_on(chip, 4);
#line 2435
    if (retval != 0) {
#line 2436
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_init_power", 2436);
#line 2437
      return (1);
    } else {

    }
#line 2440
    tmp___4 = get_current();
#line 2440
    tmp___4->task_state_change = 0UL;
#line 2440
    __ret___0 = 1L;
#line 2440
    switch (8UL) {
    case 1UL: 
#line 2440
    tmp___5 = get_current();
#line 2440
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 2440
    goto ldv_38754;
    case 2UL: 
#line 2440
    tmp___6 = get_current();
#line 2440
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                         "cc");
#line 2440
    goto ldv_38754;
    case 4UL: 
#line 2440
    tmp___7 = get_current();
#line 2440
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                         "cc");
#line 2440
    goto ldv_38754;
    case 8UL: 
#line 2440
    tmp___8 = get_current();
#line 2440
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 2440
    goto ldv_38754;
    default: 
#line 2440
    __xchg_wrong_size();
    }
    ldv_38754: 
#line 2440
    schedule_timeout(65L);
#line 2443
    if (((int )chip->ocp_stat & 6) != 0) {
#line 2444
      descriptor.modname = "rts5208";
#line 2444
      descriptor.function = "sd_init_power";
#line 2444
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2444
      descriptor.format = "Over current, OCPSTAT is 0x%x\n";
#line 2444
      descriptor.lineno = 2445U;
#line 2444
      descriptor.flags = 0U;
#line 2444
      tmp___10 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2444
      if (tmp___10 != 0L) {
#line 2444
        tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2444
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___9, "Over current, OCPSTAT is 0x%x\n",
                          (int )chip->ocp_stat);
      } else {

      }
#line 2446
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_init_power", 2446);
#line 2447
      return (1);
    } else {

    }
  } else {

  }
#line 2452
  retval = rtsx_write_register(chip, 64853, 4, 4);
#line 2454
  if (retval != 0) {
#line 2455
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_init_power", 2455);
#line 2456
    return (retval);
  } else {

  }
#line 2459
  return (0);
}
}
#line 2462 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_dummy_clock(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 2466
  retval = rtsx_write_register(chip, (int )REG_SD_CFG3, 1, 1);
#line 2467
  if (retval != 0) {
#line 2468
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_dummy_clock", 2468);
#line 2469
    return (retval);
  } else {

  }
#line 2471
  tmp = get_current();
#line 2471
  tmp->task_state_change = 0UL;
#line 2471
  __ret = 1L;
#line 2471
  switch (8UL) {
  case 1UL: 
#line 2471
  tmp___0 = get_current();
#line 2471
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 2471
  goto ldv_38768;
  case 2UL: 
#line 2471
  tmp___1 = get_current();
#line 2471
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 2471
  goto ldv_38768;
  case 4UL: 
#line 2471
  tmp___2 = get_current();
#line 2471
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 2471
  goto ldv_38768;
  case 8UL: 
#line 2471
  tmp___3 = get_current();
#line 2471
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 2471
  goto ldv_38768;
  default: 
#line 2471
  __xchg_wrong_size();
  }
  ldv_38768: 
#line 2471
  schedule_timeout(1L);
#line 2472
  retval = rtsx_write_register(chip, (int )REG_SD_CFG3, 1, 0);
#line 2473
  if (retval != 0) {
#line 2474
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_dummy_clock", 2474);
#line 2475
    return (retval);
  } else {

  }
#line 2478
  return (0);
}
}
#line 2481 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_read_lba0(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 cmd[5U] ;
  u8 bus_width ;

  {
#line 2483
  sd_card = & chip->sd_card;
#line 2487
  cmd[0] = 81U;
#line 2488
  cmd[1] = 0U;
#line 2489
  cmd[2] = 0U;
#line 2490
  cmd[3] = 0U;
#line 2491
  cmd[4] = 0U;
#line 2493
  if (((int )sd_card->sd_type & 255) == 0) {
#line 2494
    bus_width = 1U;
  } else
#line 2496
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 2497
    bus_width = 2U;
  } else
#line 2498
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0) {
#line 2499
    bus_width = 1U;
  } else {
#line 2501
    bus_width = 0U;
  }
#line 2504
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 512, 1, (int )bus_width, (u8 *)0U,
                        0, 100);
#line 2506
  if (retval != 0) {
#line 2507
    rtsx_clear_sd_error(chip);
#line 2508
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_read_lba0", 2508);
#line 2509
    return (1);
  } else {

  }
#line 2512
  return (0);
}
}
#line 2515 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int sd_check_wp_state(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u32 val ;
  u16 sd_card_type ;
  u8 cmd[5U] ;
  u8 buf[64U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 2517
  sd_card = & chip->sd_card;
#line 2523
  retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2525
  if (retval != 0) {
#line 2526
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_wp_state", 2526);
#line 2527
    return (1);
  } else {

  }
#line 2530
  cmd[0] = 77U;
#line 2531
  cmd[1] = 0U;
#line 2532
  cmd[2] = 0U;
#line 2533
  cmd[3] = 0U;
#line 2534
  cmd[4] = 0U;
#line 2536
  retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, 64, 1, 1, (u8 *)(& buf), 64, 250);
#line 2538
  if (retval != 0) {
#line 2539
    rtsx_clear_sd_error(chip);
#line 2541
    sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2543
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_check_wp_state", 2543);
#line 2544
    return (1);
  } else {

  }
#line 2547
  descriptor.modname = "rts5208";
#line 2547
  descriptor.function = "sd_check_wp_state";
#line 2547
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2547
  descriptor.format = "ACMD13:\n";
#line 2547
  descriptor.lineno = 2547U;
#line 2547
  descriptor.flags = 0U;
#line 2547
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2547
  if (tmp___0 != 0L) {
#line 2547
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2547
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "ACMD13:\n");
  } else {

  }
#line 2548
  descriptor___0.modname = "rts5208";
#line 2548
  descriptor___0.function = "sd_check_wp_state";
#line 2548
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2548
  descriptor___0.format = "%*ph\n";
#line 2548
  descriptor___0.lineno = 2548U;
#line 2548
  descriptor___0.flags = 0U;
#line 2548
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2548
  if (tmp___2 != 0L) {
#line 2548
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2548
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "%*ph\n",
                      64, (u8 *)(& buf));
  } else {

  }
#line 2550
  sd_card_type = (u16 )((int )((short )((int )buf[2] << 8)) | (int )((short )buf[3]));
#line 2551
  descriptor___1.modname = "rts5208";
#line 2551
  descriptor___1.function = "sd_check_wp_state";
#line 2551
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2551
  descriptor___1.format = "sd_card_type = 0x%04x\n";
#line 2551
  descriptor___1.lineno = 2551U;
#line 2551
  descriptor___1.flags = 0U;
#line 2551
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 2551
  if (tmp___4 != 0L) {
#line 2551
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2551
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "sd_card_type = 0x%04x\n",
                      (int )sd_card_type);
  } else {

  }
#line 2552
  if ((unsigned int )sd_card_type == 1U || (unsigned int )sd_card_type == 2U) {
#line 2554
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 4U);
  } else {

  }
#line 2558
  val = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 2559
  if ((val & 524288U) != 0U) {
#line 2560
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 4U);
  } else {

  }
#line 2562
  return (0);
}
}
#line 2565 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int reset_sd(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  bool hi_cap_flow ;
  int retval ;
  int i ;
  int j ;
  int k ;
  bool sd_dont_switch ;
  bool support_1v8 ;
  bool try_sdio ;
  u8 rsp[16U] ;
  u8 switch_bus_width ;
  u32 voltage ;
  bool sd20_mode ;
  int rty_cnt ;
  int tmp ;
  int func_num ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___10 ;
  struct task_struct *tmp___11 ;
  struct task_struct *tmp___12 ;
  struct task_struct *tmp___13 ;
  int tmp___14 ;
  struct task_struct *tmp___15 ;
  long volatile   __ret___1 ;
  struct task_struct *tmp___16 ;
  struct task_struct *tmp___17 ;
  struct task_struct *tmp___18 ;
  struct task_struct *tmp___19 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___20 ;
  long tmp___21 ;
  int read_lba0 ;

  {
#line 2567
  sd_card = & chip->sd_card;
#line 2568
  hi_cap_flow = 0;
#line 2569
  i = 0;
#line 2569
  j = 0;
#line 2569
  k = 0;
#line 2570
  sd_dont_switch = 0;
#line 2571
  support_1v8 = 0;
#line 2572
  try_sdio = 1;
#line 2575
  voltage = 0U;
#line 2576
  sd20_mode = 0;
#line 2578
  sd_card->sd_type = 0U;
  Switch_Fail: 
#line 2582
  i = 0;
#line 2583
  j = 0;
#line 2584
  k = 0;
#line 2585
  hi_cap_flow = 0;
#line 2588
  if ((int )sd_card->sd_lock_status & 1) {
#line 2589
    goto SD_UNLOCK_ENTRY;
  } else {

  }
#line 2592
  retval = sd_prepare_reset(chip);
#line 2593
  if (retval != 0) {
#line 2594
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2594);
#line 2595
    return (1);
  } else {

  }
#line 2598
  retval = sd_dummy_clock(chip);
#line 2599
  if (retval != 0) {
#line 2600
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2600);
#line 2601
    return (1);
  } else {

  }
#line 2604
  if ((chip->sdio_func_exist & 1 && (chip->sdio_func_exist & 2) == 0) && (int )try_sdio) {
#line 2605
    rty_cnt = 0;
#line 2607
    goto ldv_38819;
    ldv_38818: 
#line 2608
    tmp = detect_card_cd(chip, 4);
#line 2608
    if (tmp != 0) {
#line 2609
      sd_set_err_code(chip, 32);
#line 2610
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2610);
#line 2611
      return (1);
    } else {

    }
#line 2614
    retval = sd_send_cmd_get_rsp(chip, 5, 0U, 5, (u8 *)(& rsp), 5);
#line 2616
    if (retval == 0) {
#line 2617
      func_num = ((int )rsp[1] >> 4) & 7;
#line 2619
      if (func_num != 0) {
#line 2620
        descriptor.modname = "rts5208";
#line 2620
        descriptor.function = "reset_sd";
#line 2620
        descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2620
        descriptor.format = "SD_IO card (Function number: %d)!\n";
#line 2620
        descriptor.lineno = 2621U;
#line 2620
        descriptor.flags = 0U;
#line 2620
        tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2620
        if (tmp___1 != 0L) {
#line 2620
          tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2620
          __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "SD_IO card (Function number: %d)!\n",
                            func_num);
        } else {

        }
#line 2622
        chip->sd_io = 1U;
#line 2623
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd", 2623);
#line 2624
        return (1);
      } else {

      }
#line 2627
      goto ldv_38817;
    } else {

    }
#line 2630
    sd_init_power(chip);
#line 2632
    sd_dummy_clock(chip);
#line 2607
    rty_cnt = rty_cnt + 1;
    ldv_38819: ;
#line 2607
    if (chip->sdio_retry_cnt > rty_cnt) {
#line 2609
      goto ldv_38818;
    } else {

    }
    ldv_38817: 
#line 2635
    descriptor___0.modname = "rts5208";
#line 2635
    descriptor___0.function = "reset_sd";
#line 2635
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2635
    descriptor___0.format = "Normal card!\n";
#line 2635
    descriptor___0.lineno = 2635U;
#line 2635
    descriptor___0.flags = 0U;
#line 2635
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2635
    if (tmp___3 != 0L) {
#line 2635
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2635
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "Normal card!\n");
    } else {

    }
  } else {

  }
  RTY_SD_RST: 
#line 2640
  retval = sd_send_cmd_get_rsp(chip, 0, 0U, 4, (u8 *)0U, 0);
#line 2642
  if (retval != 0) {
#line 2643
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2643);
#line 2644
    return (1);
  } else {

  }
#line 2647
  tmp___4 = get_current();
#line 2647
  tmp___4->task_state_change = 0UL;
#line 2647
  __ret = 1L;
#line 2647
  switch (8UL) {
  case 1UL: 
#line 2647
  tmp___5 = get_current();
#line 2647
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 2647
  goto ldv_38824;
  case 2UL: 
#line 2647
  tmp___6 = get_current();
#line 2647
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 2647
  goto ldv_38824;
  case 4UL: 
#line 2647
  tmp___7 = get_current();
#line 2647
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___7->state): : "memory",
                       "cc");
#line 2647
  goto ldv_38824;
  case 8UL: 
#line 2647
  tmp___8 = get_current();
#line 2647
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 2647
  goto ldv_38824;
  default: 
#line 2647
  __xchg_wrong_size();
  }
  ldv_38824: 
#line 2647
  schedule_timeout(5L);
#line 2649
  retval = sd_send_cmd_get_rsp(chip, 8, 426U, 1, (u8 *)(& rsp), 5);
#line 2651
  if (retval == 0) {
#line 2652
    if ((unsigned int )rsp[4] == 170U && ((int )rsp[3] & 15) == 1) {
#line 2653
      hi_cap_flow = 1;
#line 2654
      voltage = 1077673984U;
    } else {

    }
  } else {

  }
#line 2658
  if (! hi_cap_flow) {
#line 2659
    voltage = 3932160U;
#line 2661
    retval = sd_send_cmd_get_rsp(chip, 0, 0U, 4, (u8 *)0U, 0);
#line 2663
    if (retval != 0) {
#line 2664
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2664);
#line 2665
      return (1);
    } else {

    }
#line 2668
    tmp___9 = get_current();
#line 2668
    tmp___9->task_state_change = 0UL;
#line 2668
    __ret___0 = 1L;
#line 2668
    switch (8UL) {
    case 1UL: 
#line 2668
    tmp___10 = get_current();
#line 2668
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___10->state): : "memory",
                         "cc");
#line 2668
    goto ldv_38832;
    case 2UL: 
#line 2668
    tmp___11 = get_current();
#line 2668
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___11->state): : "memory",
                         "cc");
#line 2668
    goto ldv_38832;
    case 4UL: 
#line 2668
    tmp___12 = get_current();
#line 2668
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___12->state): : "memory",
                         "cc");
#line 2668
    goto ldv_38832;
    case 8UL: 
#line 2668
    tmp___13 = get_current();
#line 2668
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___13->state): : "memory",
                         "cc");
#line 2668
    goto ldv_38832;
    default: 
#line 2668
    __xchg_wrong_size();
    }
    ldv_38832: 
#line 2668
    schedule_timeout(5L);
  } else {

  }
  ldv_38846: 
#line 2672
  retval = sd_send_cmd_get_rsp(chip, 55, 0U, 1, (u8 *)0U, 0);
#line 2674
  if (retval != 0) {
#line 2675
    tmp___14 = detect_card_cd(chip, 4);
#line 2675
    if (tmp___14 != 0) {
#line 2676
      sd_set_err_code(chip, 32);
#line 2677
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2677);
#line 2678
      return (1);
    } else {

    }
#line 2681
    j = j + 1;
#line 2682
    if (j <= 2) {
#line 2683
      goto RTY_SD_RST;
    } else {
#line 2685
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2685);
#line 2686
      return (1);
    }
  } else {

  }
#line 2690
  retval = sd_send_cmd_get_rsp(chip, 41, voltage, 5, (u8 *)(& rsp), 5);
#line 2692
  if (retval != 0) {
#line 2693
    k = k + 1;
#line 2694
    if (k <= 2) {
#line 2695
      goto RTY_SD_RST;
    } else {
#line 2697
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2697);
#line 2698
      return (1);
    }
  } else {

  }
#line 2702
  i = i + 1;
#line 2703
  tmp___15 = get_current();
#line 2703
  tmp___15->task_state_change = 0UL;
#line 2703
  __ret___1 = 1L;
#line 2703
  switch (8UL) {
  case 1UL: 
#line 2703
  tmp___16 = get_current();
#line 2703
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___1), "+m" (tmp___16->state): : "memory",
                       "cc");
#line 2703
  goto ldv_38840;
  case 2UL: 
#line 2703
  tmp___17 = get_current();
#line 2703
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___1), "+m" (tmp___17->state): : "memory",
                       "cc");
#line 2703
  goto ldv_38840;
  case 4UL: 
#line 2703
  tmp___18 = get_current();
#line 2703
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___1), "+m" (tmp___18->state): : "memory",
                       "cc");
#line 2703
  goto ldv_38840;
  case 8UL: 
#line 2703
  tmp___19 = get_current();
#line 2703
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___1), "+m" (tmp___19->state): : "memory",
                       "cc");
#line 2703
  goto ldv_38840;
  default: 
#line 2703
  __xchg_wrong_size();
  }
  ldv_38840: 
#line 2703
  schedule_timeout(5L);
#line 2704
  if ((int )((signed char )rsp[1]) >= 0 && i <= 254) {
#line 2706
    goto ldv_38846;
  } else {

  }

#line 2706
  if (i == 255) {
#line 2707
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2707);
#line 2708
    return (1);
  } else {

  }
#line 2711
  if ((int )hi_cap_flow) {
#line 2712
    if (((int )rsp[1] & 64) != 0) {
#line 2713
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 4096U);
    } else {
#line 2715
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 61439U;
    }
#line 2717
    support_1v8 = 0;
  } else {
#line 2719
    sd_card->sd_type = (unsigned int )sd_card->sd_type & 61439U;
#line 2720
    support_1v8 = 0;
  }
#line 2722
  descriptor___1.modname = "rts5208";
#line 2722
  descriptor___1.function = "reset_sd";
#line 2722
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 2722
  descriptor___1.format = "support_1v8 = %d\n";
#line 2722
  descriptor___1.lineno = 2722U;
#line 2722
  descriptor___1.flags = 0U;
#line 2722
  tmp___21 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 2722
  if (tmp___21 != 0L) {
#line 2722
    tmp___20 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2722
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___20, "support_1v8 = %d\n",
                      (int )support_1v8);
  } else {

  }
#line 2724
  if ((int )support_1v8) {
#line 2725
    retval = sd_voltage_switch(chip);
#line 2726
    if (retval != 0) {
#line 2727
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2727);
#line 2728
      return (1);
    } else {

    }
  } else {

  }
#line 2732
  retval = sd_send_cmd_get_rsp(chip, 2, 0U, 2, (u8 *)0U, 0);
#line 2734
  if (retval != 0) {
#line 2735
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2735);
#line 2736
    return (1);
  } else {

  }
#line 2739
  i = 0;
#line 2739
  goto ldv_38851;
  ldv_38850: 
#line 2740
  retval = sd_send_cmd_get_rsp(chip, 3, 0U, 1, (u8 *)(& rsp), 5);
#line 2742
  if (retval != 0) {
#line 2743
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2743);
#line 2744
    return (1);
  } else {

  }
#line 2747
  sd_card->sd_addr = (unsigned int )rsp[1] << 24;
#line 2748
  sd_card->sd_addr = sd_card->sd_addr + ((unsigned int )rsp[2] << 16);
#line 2750
  if (sd_card->sd_addr != 0U) {
#line 2751
    goto ldv_38849;
  } else {

  }
#line 2739
  i = i + 1;
  ldv_38851: ;
#line 2739
  if (i <= 2) {
#line 2741
    goto ldv_38850;
  } else {

  }
  ldv_38849: 
#line 2754
  retval = sd_check_csd(chip, 1);
#line 2755
  if (retval != 0) {
#line 2756
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2756);
#line 2757
    return (1);
  } else {

  }
#line 2760
  retval = sd_select_card(chip, 1);
#line 2761
  if (retval != 0) {
#line 2762
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2762);
#line 2763
    return (1);
  } else {

  }
  SD_UNLOCK_ENTRY: 
#line 2768
  retval = sd_update_lock_status(chip);
#line 2769
  if (retval != 0) {
#line 2770
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2770);
#line 2771
    return (1);
  } else {

  }
#line 2774
  if ((int )((signed char )sd_card->sd_lock_status) < 0) {
#line 2775
    sd_card->sd_lock_status = (u8 )((unsigned int )sd_card->sd_lock_status | 96U);
#line 2776
    return (0);
  } else
#line 2777
  if (((int )sd_card->sd_lock_status & 1) == 0) {
#line 2778
    sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 223U;
  } else {

  }
#line 2782
  retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2784
  if (retval != 0) {
#line 2785
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2785);
#line 2786
    return (1);
  } else {

  }
#line 2789
  retval = sd_send_cmd_get_rsp(chip, 42, 0U, 1, (u8 *)0U, 0);
#line 2791
  if (retval != 0) {
#line 2792
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2792);
#line 2793
    return (1);
  } else {

  }
#line 2796
  if ((int )support_1v8) {
#line 2797
    retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2799
    if (retval != 0) {
#line 2800
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2800);
#line 2801
      return (1);
    } else {

    }
#line 2804
    retval = sd_send_cmd_get_rsp(chip, 6, 2U, 1, (u8 *)0U, 0);
#line 2806
    if (retval != 0) {
#line 2807
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2807);
#line 2808
      return (1);
    } else {

    }
#line 2811
    switch_bus_width = 1U;
  } else {
#line 2813
    switch_bus_width = 0U;
  }
#line 2816
  retval = sd_send_cmd_get_rsp(chip, 16, 512U, 1, (u8 *)0U, 0);
#line 2818
  if (retval != 0) {
#line 2819
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2819);
#line 2820
    return (1);
  } else {

  }
#line 2823
  retval = sd_set_clock_divider(chip, 0);
#line 2824
  if (retval != 0) {
#line 2825
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2825);
#line 2826
    return (1);
  } else {

  }
#line 2829
  if (((int )sd_card->raw_csd[4] & 64) == 0) {
#line 2830
    sd_dont_switch = 1;
  } else {

  }
#line 2832
  if (! sd_dont_switch) {
#line 2833
    if ((int )sd20_mode) {
#line 2837
      sd_card->sd_switch_fail = 28U;
    } else {

    }
#line 2842
    retval = sd_check_spec(chip, (int )switch_bus_width);
#line 2843
    if (retval == 0) {
#line 2844
      retval = sd_switch_function(chip, (int )switch_bus_width);
#line 2845
      if (retval != 0) {
#line 2846
        sd_init_power(chip);
#line 2847
        sd_dont_switch = 1;
#line 2848
        try_sdio = 0;
#line 2850
        goto Switch_Fail;
      } else {

      }
    } else
#line 2853
    if ((int )support_1v8) {
#line 2854
      sd_init_power(chip);
#line 2855
      sd_dont_switch = 1;
#line 2856
      try_sdio = 0;
#line 2858
      goto Switch_Fail;
    } else {

    }
  } else {

  }
#line 2863
  if (! support_1v8) {
#line 2864
    retval = sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2866
    if (retval != 0) {
#line 2867
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2867);
#line 2868
      return (1);
    } else {

    }
#line 2871
    retval = sd_send_cmd_get_rsp(chip, 6, 2U, 1, (u8 *)0U, 0);
#line 2873
    if (retval != 0) {
#line 2874
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2874);
#line 2875
      return (1);
    } else {

    }
  } else {

  }
#line 2880
  sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 191U;
#line 2883
  if (! sd20_mode && (((((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 512) != 0) || (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0)) || (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 2048) != 0))) {
#line 2884
    read_lba0 = 1;
#line 2886
    retval = rtsx_write_register(chip, 64862, 7, (int )chip->sd30_drive_sel_1v8);
#line 2888
    if (retval != 0) {
#line 2889
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2889);
#line 2890
      return (retval);
    } else {

    }
#line 2893
    retval = sd_set_init_para(chip);
#line 2894
    if (retval != 0) {
#line 2895
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2895);
#line 2896
      return (1);
    } else {

    }
#line 2899
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 2900
      retval = sd_ddr_tuning(chip);
    } else {
#line 2902
      retval = sd_sdr_tuning(chip);
    }
#line 2904
    if (retval != 0) {
#line 2905
      if ((int )sd20_mode) {
#line 2906
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd", 2906);
#line 2907
        return (1);
      } else {
#line 2909
        retval = sd_init_power(chip);
#line 2910
        if (retval != 0) {
#line 2911
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_sd", 2911);
#line 2912
          return (1);
        } else {

        }
#line 2915
        try_sdio = 0;
#line 2916
        sd20_mode = 1;
#line 2917
        goto Switch_Fail;
      }
    } else {

    }
#line 2921
    sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 2924
    if (((int )sd_card->sd_type & 255) == 0 && ((int )sd_card->sd_type & 1024) != 0) {
#line 2925
      retval = sd_wait_state_data_ready(chip, 8, 1, 1000);
#line 2926
      if (retval != 0) {
#line 2927
        read_lba0 = 0;
      } else {

      }
    } else {

    }
#line 2930
    if (read_lba0 != 0) {
#line 2931
      retval = sd_read_lba0(chip);
#line 2932
      if (retval != 0) {
#line 2933
        if ((int )sd20_mode) {
#line 2934
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_sd", 2934);
#line 2935
          return (1);
        } else {
#line 2937
          retval = sd_init_power(chip);
#line 2938
          if (retval != 0) {
#line 2939
            _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                        "reset_sd", 2939);
#line 2940
            return (1);
          } else {

          }
#line 2943
          try_sdio = 0;
#line 2944
          sd20_mode = 1;
#line 2945
          goto Switch_Fail;
        }
      } else {

      }
    } else {

    }
  } else {

  }
#line 2951
  retval = sd_check_wp_state(chip);
#line 2952
  if (retval != 0) {
#line 2953
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd", 2953);
#line 2954
    return (1);
  } else {

  }
#line 2957
  chip->card_bus_width[(int )chip->card2lun[4]] = 4U;
#line 2960
  if ((int )sd_card->sd_lock_status & 1) {
#line 2961
    retval = rtsx_write_register(chip, (int )REG_SD_BLOCK_CNT_H, 255, 2);
#line 2963
    if (retval != 0) {
#line 2964
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2964);
#line 2965
      return (retval);
    } else {

    }
#line 2967
    retval = rtsx_write_register(chip, (int )REG_SD_BLOCK_CNT_L, 255, 0);
#line 2969
    if (retval != 0) {
#line 2970
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd", 2970);
#line 2971
      return (retval);
    } else {

    }
  } else {

  }
#line 2976
  return (0);
}
}
#line 2980 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int mmc_test_switch_bus(struct rtsx_chip *chip , u8 width ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 buf[8U] ;
  unsigned int tmp ;
  u8 bus_width ;
  u8 *ptr ;
  u16 byte_cnt ;
  int len ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  u8 *tmp___2 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  u8 rsp[5U] ;
  u32 arg ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  u8 rsp___0[5U] ;
  u32 arg___0 ;

  {
#line 2982
  sd_card = & chip->sd_card;
#line 2984
  buf[0] = 0U;
#line 2984
  tmp = 1U;
#line 2984
  while (1) {
#line 2984
    if (tmp >= 8U) {
#line 2984
      break;
    } else {

    }
#line 2984
    buf[tmp] = (unsigned char)0;
#line 2984
    tmp = tmp + 1U;
  }
#line 2988
  retval = sd_send_cmd_get_rsp(chip, 19, 0U, 1, (u8 *)0U, 0);
#line 2990
  if (retval != 0) {
#line 2991
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_test_switch_bus", 2991);
#line 2992
    return (2);
  } else {

  }
#line 2995
  if ((unsigned int )width == 16U) {
#line 2996
    buf[0] = 85U;
#line 2997
    buf[1] = 170U;
#line 2998
    len = 8;
#line 2999
    byte_cnt = 8U;
#line 3000
    bus_width = 2U;
  } else {
#line 3002
    buf[0] = 90U;
#line 3003
    len = 4;
#line 3004
    byte_cnt = 4U;
#line 3005
    bus_width = 1U;
  }
#line 3008
  retval = rtsx_write_register(chip, (int )REG_SD_CFG3, 2, 2);
#line 3009
  if (retval != 0) {
#line 3010
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_test_switch_bus", 3010);
#line 3011
    return (1);
  } else {

  }
#line 3014
  retval = sd_write_data(chip, 1, (u8 *)0U, 0, (int )byte_cnt, 1, (int )bus_width,
                         (u8 *)(& buf), len, 100);
#line 3016
  if (retval != 0) {
#line 3017
    rtsx_clear_sd_error(chip);
#line 3018
    rtsx_write_register(chip, (int )REG_SD_CFG3, 2, 0);
#line 3019
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_test_switch_bus", 3019);
#line 3020
    return (1);
  } else {

  }
#line 3023
  retval = rtsx_write_register(chip, (int )REG_SD_CFG3, 2, 0);
#line 3024
  if (retval != 0) {
#line 3025
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_test_switch_bus", 3025);
#line 3026
    return (1);
  } else {

  }
#line 3029
  descriptor.modname = "rts5208";
#line 3029
  descriptor.function = "mmc_test_switch_bus";
#line 3029
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3029
  descriptor.format = "SD/MMC CMD %d\n";
#line 3029
  descriptor.lineno = 3029U;
#line 3029
  descriptor.flags = 0U;
#line 3029
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3029
  if (tmp___1 != 0L) {
#line 3029
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3029
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "SD/MMC CMD %d\n",
                      14);
  } else {

  }
#line 3031
  chip->ci = 0;
#line 3033
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, 78);
#line 3035
  if ((unsigned int )width == 16U) {
#line 3036
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 8);
  } else {
#line 3039
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 4);
  }
#line 3042
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, 1);
#line 3043
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, 0);
#line 3045
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, 65);
#line 3048
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 3050
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 140);
#line 3052
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 3055
  rtsx_add_cmd(chip, 0, 64000, 0, 0);
#line 3056
  if ((unsigned int )width == 16U) {
#line 3057
    rtsx_add_cmd(chip, 0, 64001, 0, 0);
  } else {

  }
#line 3059
  retval = rtsx_send_cmd(chip, 4, 100);
#line 3060
  if (retval < 0) {
#line 3061
    rtsx_clear_sd_error(chip);
#line 3062
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_test_switch_bus", 3062);
#line 3063
    return (1);
  } else {

  }
#line 3066
  tmp___2 = rtsx_get_cmd_data(chip);
#line 3066
  ptr = tmp___2 + 1UL;
#line 3068
  if ((unsigned int )width == 16U) {
#line 3069
    descriptor___0.modname = "rts5208";
#line 3069
    descriptor___0.function = "mmc_test_switch_bus";
#line 3069
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3069
    descriptor___0.format = "BUSTEST_R [8bits]: 0x%02x 0x%02x\n";
#line 3069
    descriptor___0.lineno = 3070U;
#line 3069
    descriptor___0.flags = 0U;
#line 3069
    tmp___4 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 3069
    if (tmp___4 != 0L) {
#line 3069
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3069
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___3, "BUSTEST_R [8bits]: 0x%02x 0x%02x\n",
                        (int )*ptr, (int )*(ptr + 1UL));
    } else {

    }
#line 3071
    if ((unsigned int )*ptr == 170U && (unsigned int )*(ptr + 1UL) == 85U) {
#line 3075
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 3076
        arg = 62326272U;
      } else {
#line 3078
        arg = 62325248U;
      }
#line 3080
      retval = sd_send_cmd_get_rsp(chip, 6, arg, 9, (u8 *)(& rsp), 5);
#line 3082
      if (retval == 0 && (int )((signed char )rsp[4]) >= 0) {
#line 3084
        return (0);
      } else {

      }
    } else {

    }
  } else {
#line 3087
    descriptor___1.modname = "rts5208";
#line 3087
    descriptor___1.function = "mmc_test_switch_bus";
#line 3087
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3087
    descriptor___1.format = "BUSTEST_R [4bits]: 0x%02x\n";
#line 3087
    descriptor___1.lineno = 3087U;
#line 3087
    descriptor___1.flags = 0U;
#line 3087
    tmp___6 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 3087
    if (tmp___6 != 0L) {
#line 3087
      tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3087
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___5, "BUSTEST_R [4bits]: 0x%02x\n",
                        (int )*ptr);
    } else {

    }
#line 3088
    if ((unsigned int )*ptr == 165U) {
#line 3092
      if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0) {
#line 3093
        arg___0 = 62326016U;
      } else {
#line 3095
        arg___0 = 62324992U;
      }
#line 3097
      retval = sd_send_cmd_get_rsp(chip, 6, arg___0, 9, (u8 *)(& rsp___0), 5);
#line 3099
      if (retval == 0 && (int )((signed char )rsp___0[4]) >= 0) {
#line 3101
        return (0);
      } else {

      }
    } else {

    }
  }
#line 3105
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "mmc_test_switch_bus", 3105);
#line 3106
  return (2);
}
}
#line 3110 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int mmc_switch_timing_bus(struct rtsx_chip *chip , bool switch_ddr ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u8 *ptr ;
  u8 card_type ;
  u8 card_type_mask ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u8 rsp[5U] ;

  {
#line 3112
  sd_card = & chip->sd_card;
#line 3114
  card_type_mask = 0U;
#line 3116
  sd_card->sd_type = (unsigned int )sd_card->sd_type & 57343U;
#line 3116
  sd_card->sd_type = (unsigned int )sd_card->sd_type & 65023U;
#line 3116
  sd_card->sd_type = (unsigned int )sd_card->sd_type & 65279U;
#line 3118
  descriptor.modname = "rts5208";
#line 3118
  descriptor.function = "mmc_switch_timing_bus";
#line 3118
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3118
  descriptor.format = "SD/MMC CMD %d\n";
#line 3118
  descriptor.lineno = 3118U;
#line 3118
  descriptor.flags = 0U;
#line 3118
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3118
  if (tmp___0 != 0L) {
#line 3118
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3118
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD/MMC CMD %d\n",
                      8);
  } else {

  }
#line 3120
  chip->ci = 0;
#line 3122
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, 72);
#line 3124
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD1, 255, 0);
#line 3125
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD2, 255, 0);
#line 3126
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD3, 255, 0);
#line 3127
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD4, 255, 0);
#line 3129
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 3130
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 3131
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, 1);
#line 3132
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, 0);
#line 3134
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, 1);
#line 3137
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 3139
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 140);
#line 3141
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 3144
  rtsx_add_cmd(chip, 0, 64196, 255, 0);
#line 3145
  rtsx_add_cmd(chip, 0, 64212, 255, 0);
#line 3146
  rtsx_add_cmd(chip, 0, 64213, 255, 0);
#line 3147
  rtsx_add_cmd(chip, 0, 64214, 255, 0);
#line 3148
  rtsx_add_cmd(chip, 0, 64215, 255, 0);
#line 3150
  retval = rtsx_send_cmd(chip, 4, 1000);
#line 3151
  if (retval < 0) {
#line 3152
    if (retval == -110) {
#line 3153
      rtsx_clear_sd_error(chip);
#line 3154
      sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
    } else {

    }
#line 3157
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_switch_timing_bus", 3157);
#line 3158
    return (1);
  } else {

  }
#line 3161
  ptr = rtsx_get_cmd_data(chip);
#line 3162
  if (((int )*ptr & 16) != 0) {
#line 3163
    sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 3165
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_switch_timing_bus", 3165);
#line 3166
    return (1);
  } else {

  }
#line 3169
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 4096) != 0) {
#line 3170
    sd_card->capacity = ((((unsigned int )*(ptr + 5UL) << 24) | ((unsigned int )*(ptr + 4UL) << 16)) | ((unsigned int )*(ptr + 3UL) << 8)) | (unsigned int )*(ptr + 2UL);
  } else {

  }
#line 3174
  card_type_mask = 3U;
#line 3175
  card_type = (u8 )((int )*(ptr + 1UL) & (int )card_type_mask);
#line 3176
  if ((unsigned int )card_type != 0U) {
#line 3179
    if (((int )card_type & 4) != 0) {
#line 3180
      if ((int )switch_ddr) {
#line 3181
        sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 8192U);
      } else {
#line 3183
        sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 512U);
      }
    } else
#line 3184
    if (((int )card_type & 2) != 0) {
#line 3185
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 512U);
    } else {
#line 3187
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 256U);
    }
#line 3190
    retval = sd_send_cmd_get_rsp(chip, 6, 62456064U, 9, (u8 *)(& rsp), 5);
#line 3192
    if (retval != 0 || (int )((signed char )rsp[4]) < 0) {
#line 3193
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 57343U;
#line 3193
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 65023U;
#line 3193
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 65279U;
    } else {

    }
  } else {

  }
#line 3196
  sd_choose_proper_clock(chip);
#line 3197
  retval = switch_clock(chip, sd_card->sd_clock);
#line 3198
  if (retval != 0) {
#line 3199
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_switch_timing_bus", 3199);
#line 3200
    return (1);
  } else {

  }
#line 3204
  retval = mmc_test_switch_bus(chip, 16);
#line 3205
  if (retval == 0) {
#line 3206
    sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 2048U);
#line 3207
    chip->card_bus_width[(int )chip->card2lun[4]] = 8U;
#line 3209
    sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 191U;
  } else
#line 3211
  if (retval == 2) {
#line 3212
    retval = mmc_test_switch_bus(chip, 32);
#line 3213
    if (retval == 0) {
#line 3214
      sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 1024U);
#line 3215
      chip->card_bus_width[(int )chip->card2lun[4]] = 4U;
#line 3217
      sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 191U;
    } else
#line 3219
    if (retval == 2) {
#line 3220
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 63487U;
#line 3221
      sd_card->sd_type = (unsigned int )sd_card->sd_type & 64511U;
    } else {
#line 3223
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "mmc_switch_timing_bus", 3223);
#line 3224
      return (1);
    }
  } else {
#line 3227
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "mmc_switch_timing_bus", 3227);
#line 3228
    return (1);
  }
#line 3231
  return (0);
}
}
#line 3235 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int reset_mmc(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int i ;
  int j ;
  int k ;
  bool switch_ddr ;
  u8 rsp[16U] ;
  u8 spec_ver ;
  u32 temp ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  struct task_struct *tmp___2 ;
  long volatile   __ret ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;

  {
#line 3237
  sd_card = & chip->sd_card;
#line 3238
  i = 0;
#line 3238
  j = 0;
#line 3238
  k = 0;
#line 3239
  switch_ddr = 1;
#line 3241
  spec_ver = 0U;
#line 3245
  if ((int )sd_card->sd_lock_status & 1) {
#line 3246
    goto MMC_UNLOCK_ENTRY;
  } else {

  }
  Switch_Fail: 
#line 3250
  retval = sd_prepare_reset(chip);
#line 3251
  if (retval != 0) {
#line 3252
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3252);
#line 3253
    return (retval);
  } else {

  }
#line 3256
  sd_card->sd_type = 1U;
  RTY_MMC_RST: 
#line 3259
  retval = sd_send_cmd_get_rsp(chip, 0, 0U, 4, (u8 *)0U, 0);
#line 3261
  if (retval != 0) {
#line 3262
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3262);
#line 3263
    return (1);
  } else {

  }
  ldv_38908: 
#line 3267
  tmp = detect_card_cd(chip, 4);
#line 3267
  if (tmp != 0) {
#line 3268
    sd_set_err_code(chip, 32);
#line 3269
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3269);
#line 3270
    return (1);
  } else {

  }
#line 3273
  retval = sd_send_cmd_get_rsp(chip, 1, 1077673984U, 5, (u8 *)(& rsp), 5);
#line 3276
  if (retval != 0) {
#line 3277
    tmp___0 = sd_check_err_code(chip, 16);
#line 3277
    if (tmp___0 != 0) {
#line 3277
      goto _L;
    } else {
#line 3277
      tmp___1 = sd_check_err_code(chip, 64);
#line 3277
      if (tmp___1 != 0) {
        _L: /* CIL Label */ 
#line 3279
        k = k + 1;
#line 3280
        if (k <= 19) {
#line 3281
          sd_clr_err_code(chip);
#line 3282
          goto RTY_MMC_RST;
        } else {
#line 3284
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_mmc", 3284);
#line 3285
          return (1);
        }
      } else {
#line 3288
        j = j + 1;
#line 3289
        if (j <= 99) {
#line 3290
          sd_clr_err_code(chip);
#line 3291
          goto RTY_MMC_RST;
        } else {
#line 3293
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_mmc", 3293);
#line 3294
          return (1);
        }
      }
    }
  } else {

  }
#line 3299
  tmp___2 = get_current();
#line 3299
  tmp___2->task_state_change = 0UL;
#line 3299
  __ret = 1L;
#line 3299
  switch (8UL) {
  case 1UL: 
#line 3299
  tmp___3 = get_current();
#line 3299
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 3299
  goto ldv_38902;
  case 2UL: 
#line 3299
  tmp___4 = get_current();
#line 3299
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                       "cc");
#line 3299
  goto ldv_38902;
  case 4UL: 
#line 3299
  tmp___5 = get_current();
#line 3299
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                       "cc");
#line 3299
  goto ldv_38902;
  case 8UL: 
#line 3299
  tmp___6 = get_current();
#line 3299
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                       "cc");
#line 3299
  goto ldv_38902;
  default: 
#line 3299
  __xchg_wrong_size();
  }
  ldv_38902: 
#line 3299
  schedule_timeout(5L);
#line 3300
  i = i + 1;
#line 3301
  if ((int )((signed char )rsp[1]) >= 0 && i <= 254) {
#line 3303
    goto ldv_38908;
  } else {

  }

#line 3303
  if (i == 255) {
#line 3304
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3304);
#line 3305
    return (1);
  } else {

  }
#line 3308
  if (((int )rsp[1] & 96) == 64) {
#line 3309
    sd_card->sd_type = (u16 )((unsigned int )sd_card->sd_type | 4096U);
  } else {
#line 3311
    sd_card->sd_type = (unsigned int )sd_card->sd_type & 61439U;
  }
#line 3313
  retval = sd_send_cmd_get_rsp(chip, 2, 0U, 2, (u8 *)0U, 0);
#line 3315
  if (retval != 0) {
#line 3316
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3316);
#line 3317
    return (1);
  } else {

  }
#line 3320
  sd_card->sd_addr = 1048576U;
#line 3321
  retval = sd_send_cmd_get_rsp(chip, 3, sd_card->sd_addr, 1, (u8 *)(& rsp), 5);
#line 3323
  if (retval != 0) {
#line 3324
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3324);
#line 3325
    return (1);
  } else {

  }
#line 3328
  retval = sd_check_csd(chip, 1);
#line 3329
  if (retval != 0) {
#line 3330
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3330);
#line 3331
    return (1);
  } else {

  }
#line 3334
  spec_ver = (u8 )(((int )sd_card->raw_csd[0] & 60) >> 2);
#line 3336
  retval = sd_select_card(chip, 1);
#line 3337
  if (retval != 0) {
#line 3338
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3338);
#line 3339
    return (1);
  } else {

  }
#line 3342
  retval = sd_send_cmd_get_rsp(chip, 16, 512U, 1, (u8 *)0U, 0);
#line 3344
  if (retval != 0) {
#line 3345
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3345);
#line 3346
    return (1);
  } else {

  }
  MMC_UNLOCK_ENTRY: 
#line 3351
  retval = sd_update_lock_status(chip);
#line 3352
  if (retval != 0) {
#line 3353
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3353);
#line 3354
    return (1);
  } else {

  }
#line 3358
  retval = sd_set_clock_divider(chip, 0);
#line 3359
  if (retval != 0) {
#line 3360
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc", 3360);
#line 3361
    return (1);
  } else {

  }
#line 3364
  chip->card_bus_width[(int )chip->card2lun[4]] = 1U;
#line 3366
  if (sd_card->mmc_dont_switch_bus == 0) {
#line 3367
    if ((unsigned int )spec_ver == 4U) {
#line 3369
      retval = mmc_switch_timing_bus(chip, (int )switch_ddr);
#line 3370
      if (retval != 0) {
#line 3371
        retval = sd_init_power(chip);
#line 3372
        if (retval != 0) {
#line 3373
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_mmc", 3373);
#line 3374
          return (1);
        } else {

        }
#line 3376
        sd_card->mmc_dont_switch_bus = 1;
#line 3377
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_mmc", 3377);
#line 3378
        goto Switch_Fail;
      } else {

      }
    } else {

    }
#line 3382
    if ((((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 4096) != 0) && sd_card->capacity == 0U) {
#line 3383
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_mmc", 3383);
#line 3384
      return (1);
    } else {

    }
#line 3387
    if ((int )switch_ddr && (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 8192) != 0)) {
#line 3388
      retval = sd_set_init_para(chip);
#line 3389
      if (retval != 0) {
#line 3390
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_mmc", 3390);
#line 3391
        return (1);
      } else {

      }
#line 3394
      retval = mmc_ddr_tuning(chip);
#line 3395
      if (retval != 0) {
#line 3396
        retval = sd_init_power(chip);
#line 3397
        if (retval != 0) {
#line 3398
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_mmc", 3398);
#line 3399
          return (1);
        } else {

        }
#line 3402
        switch_ddr = 0;
#line 3403
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_mmc", 3403);
#line 3404
        goto Switch_Fail;
      } else {

      }
#line 3407
      retval = sd_wait_state_data_ready(chip, 8, 1, 1000);
#line 3408
      if (retval == 0) {
#line 3409
        retval = sd_read_lba0(chip);
#line 3410
        if (retval != 0) {
#line 3411
          retval = sd_init_power(chip);
#line 3412
          if (retval != 0) {
#line 3413
            _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                        "reset_mmc", 3413);
#line 3414
            return (1);
          } else {

          }
#line 3417
          switch_ddr = 0;
#line 3418
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_mmc", 3418);
#line 3419
          goto Switch_Fail;
        } else {

        }
      } else {

      }
    } else {

    }
  } else {

  }
#line 3426
  if ((int )sd_card->sd_lock_status & 1) {
#line 3427
    retval = rtsx_write_register(chip, (int )REG_SD_BLOCK_CNT_H, 255, 2);
#line 3429
    if (retval != 0) {
#line 3430
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_mmc", 3430);
#line 3431
      return (retval);
    } else {

    }
#line 3433
    retval = rtsx_write_register(chip, (int )REG_SD_BLOCK_CNT_L, 255, 0);
#line 3435
    if (retval != 0) {
#line 3436
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_mmc", 3436);
#line 3437
      return (retval);
    } else {

    }
  } else {

  }
#line 3442
  temp = ioread32((chip->rtsx)->remap_addr + 20UL);
#line 3443
  if ((temp & 524288U) != 0U) {
#line 3444
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 4U);
  } else {

  }
#line 3446
  return (0);
}
}
#line 3449 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int reset_sd_card(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  int tmp ;
  int tmp___0 ;
  struct _ddebug descriptor ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 3451
  sd_card = & chip->sd_card;
#line 3454
  sd_init_reg_addr(chip);
#line 3456
  memset((void *)sd_card, 0, 104UL);
#line 3457
  chip->capacity[(int )chip->card2lun[4]] = 0U;
#line 3459
  retval = enable_card_clock(chip, 4);
#line 3460
  if (retval != 0) {
#line 3461
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3461);
#line 3462
    return (1);
  } else {

  }
#line 3465
  if ((chip->ignore_sd != 0 && chip->sdio_func_exist & 1) && (chip->sdio_func_exist & 2) == 0) {
#line 3467
    if (chip->asic_code != 0) {
#line 3468
      retval = sd_pull_ctl_enable(chip);
#line 3469
      if (retval != 0) {
#line 3470
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3470);
#line 3471
        return (1);
      } else {

      }
    } else {
#line 3474
      retval = rtsx_write_register(chip, 64541, 40, 0);
#line 3476
      if (retval != 0) {
#line 3477
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3477);
#line 3478
        return (1);
      } else {

      }
    }
#line 3481
    retval = card_share_mode(chip, 4);
#line 3482
    if (retval != 0) {
#line 3483
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "reset_sd_card", 3483);
#line 3484
      return (1);
    } else {

    }
#line 3487
    chip->sd_io = 1U;
#line 3488
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3488);
#line 3489
    return (1);
  } else {

  }
#line 3492
  retval = sd_init_power(chip);
#line 3493
  if (retval != 0) {
#line 3494
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3494);
#line 3495
    return (1);
  } else {

  }
#line 3498
  if ((chip->sd_ctl & 128U) != 0U) {
#line 3499
    retval = reset_mmc(chip);
#line 3500
    if (retval != 0) {
#line 3501
      tmp = sd_check_err_code(chip, 32);
#line 3501
      if (tmp != 0) {
#line 3502
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3502);
#line 3503
        return (1);
      } else {

      }
#line 3506
      retval = reset_sd(chip);
#line 3507
      if (retval != 0) {
#line 3508
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3508);
#line 3509
        return (1);
      } else {

      }
    } else {

    }
  } else {
#line 3513
    retval = reset_sd(chip);
#line 3514
    if (retval != 0) {
#line 3515
      tmp___0 = sd_check_err_code(chip, 32);
#line 3515
      if (tmp___0 != 0) {
#line 3516
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3516);
#line 3517
        return (1);
      } else {

      }
#line 3520
      if ((unsigned int )chip->sd_io != 0U) {
#line 3521
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "reset_sd_card", 3521);
#line 3522
        return (1);
      } else {
#line 3524
        retval = reset_mmc(chip);
#line 3525
        if (retval != 0) {
#line 3526
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "reset_sd_card", 3526);
#line 3527
          return (1);
        } else {

        }
      }
    } else {

    }
  }
#line 3533
  retval = sd_set_clock_divider(chip, 0);
#line 3534
  if (retval != 0) {
#line 3535
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3535);
#line 3536
    return (1);
  } else {

  }
#line 3539
  retval = rtsx_write_register(chip, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 3540
  if (retval != 0) {
#line 3541
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3541);
#line 3542
    return (retval);
  } else {

  }
#line 3544
  retval = rtsx_write_register(chip, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 3545
  if (retval != 0) {
#line 3546
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3546);
#line 3547
    return (retval);
  } else {

  }
#line 3550
  chip->capacity[(int )chip->card2lun[4]] = sd_card->capacity;
#line 3552
  retval = sd_set_init_para(chip);
#line 3553
  if (retval != 0) {
#line 3554
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_sd_card", 3554);
#line 3555
    return (1);
  } else {

  }
#line 3558
  descriptor.modname = "rts5208";
#line 3558
  descriptor.function = "reset_sd_card";
#line 3558
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3558
  descriptor.format = "sd_card->sd_type = 0x%x\n";
#line 3558
  descriptor.lineno = 3558U;
#line 3558
  descriptor.flags = 0U;
#line 3558
  tmp___2 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3558
  if (tmp___2 != 0L) {
#line 3558
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3558
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___1, "sd_card->sd_type = 0x%x\n",
                      (int )sd_card->sd_type);
  } else {

  }
#line 3560
  return (0);
}
}
#line 3563 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int reset_mmc_only(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;
  u32 tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;

  {
#line 3565
  sd_card = & chip->sd_card;
#line 3568
  sd_card->sd_type = 0U;
#line 3569
  sd_card->seq_mode = 0;
#line 3570
  sd_card->sd_data_buf_ready = 0U;
#line 3571
  sd_card->capacity = 0U;
#line 3572
  sd_card->sd_switch_fail = 0U;
#line 3575
  sd_card->sd_lock_status = 0U;
#line 3576
  sd_card->sd_erase_status = 0U;
#line 3579
  tmp = 0U;
#line 3579
  sd_card->capacity = tmp;
#line 3579
  chip->capacity[(int )chip->card2lun[4]] = tmp;
#line 3581
  retval = enable_card_clock(chip, 4);
#line 3582
  if (retval != 0) {
#line 3583
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3583);
#line 3584
    return (1);
  } else {

  }
#line 3587
  retval = sd_init_power(chip);
#line 3588
  if (retval != 0) {
#line 3589
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3589);
#line 3590
    return (1);
  } else {

  }
#line 3593
  retval = reset_mmc(chip);
#line 3594
  if (retval != 0) {
#line 3595
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3595);
#line 3596
    return (1);
  } else {

  }
#line 3599
  retval = sd_set_clock_divider(chip, 0);
#line 3600
  if (retval != 0) {
#line 3601
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3601);
#line 3602
    return (1);
  } else {

  }
#line 3605
  retval = rtsx_write_register(chip, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 3606
  if (retval != 0) {
#line 3607
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3607);
#line 3608
    return (retval);
  } else {

  }
#line 3610
  retval = rtsx_write_register(chip, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 3611
  if (retval != 0) {
#line 3612
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3612);
#line 3613
    return (retval);
  } else {

  }
#line 3616
  chip->capacity[(int )chip->card2lun[4]] = sd_card->capacity;
#line 3618
  retval = sd_set_init_para(chip);
#line 3619
  if (retval != 0) {
#line 3620
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "reset_mmc_only", 3620);
#line 3621
    return (1);
  } else {

  }
#line 3624
  descriptor.modname = "rts5208";
#line 3624
  descriptor.function = "reset_mmc_only";
#line 3624
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3624
  descriptor.format = "In reset_mmc_only, sd_card->sd_type = 0x%x\n";
#line 3624
  descriptor.lineno = 3625U;
#line 3624
  descriptor.flags = 0U;
#line 3624
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3624
  if (tmp___1 != 0L) {
#line 3624
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3624
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "In reset_mmc_only, sd_card->sd_type = 0x%x\n",
                      (int )sd_card->sd_type);
  } else {

  }
#line 3627
  return (0);
}
}
#line 3632 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
static int wait_data_buf_ready(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int i ;
  int retval ;
  int tmp ;
  int tmp___0 ;

  {
#line 3634
  sd_card = & chip->sd_card;
#line 3637
  i = 0;
#line 3637
  goto ldv_38932;
  ldv_38931: 
#line 3638
  tmp = detect_card_cd(chip, 4);
#line 3638
  if (tmp != 0) {
#line 3639
    sd_set_err_code(chip, 32);
#line 3640
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "wait_data_buf_ready", 3640);
#line 3641
    return (1);
  } else {

  }
#line 3644
  sd_card->sd_data_buf_ready = 0U;
#line 3646
  retval = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 3648
  if (retval != 0) {
#line 3649
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "wait_data_buf_ready", 3649);
#line 3650
    return (1);
  } else {

  }
#line 3653
  if ((unsigned int )sd_card->sd_data_buf_ready != 0U) {
#line 3654
    tmp___0 = sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
#line 3654
    return (tmp___0);
  } else {

  }
#line 3637
  i = i + 1;
  ldv_38932: ;
#line 3637
  if (i <= 254) {
#line 3639
    goto ldv_38931;
  } else {

  }
#line 3659
  sd_set_err_code(chip, 64);
#line 3661
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "wait_data_buf_ready", 3661);
#line 3662
  return (1);
}
}
#line 3665 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
void sd_stop_seq_mode(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;

  {
#line 3667
  sd_card = & chip->sd_card;
#line 3670
  if (sd_card->seq_mode != 0) {
#line 3671
    retval = sd_switch_clock(chip);
#line 3672
    if (retval != 0) {
#line 3673
      return;
    } else {

    }
#line 3675
    retval = sd_send_cmd_get_rsp(chip, 12, 0U, 9, (u8 *)0U, 0);
#line 3677
    if (retval != 0) {
#line 3678
      sd_set_err_code(chip, 8);
    } else {

    }
#line 3680
    retval = sd_wait_state_data_ready(chip, 8, 1, 1000);
#line 3681
    if (retval != 0) {
#line 3682
      sd_set_err_code(chip, 8);
    } else {

    }
#line 3684
    sd_card->seq_mode = 0;
#line 3686
    rtsx_write_register(chip, 65076, 128, 128);
  } else {

  }
#line 3688
  return;
}
}
#line 3690 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
__inline static int sd_auto_tune_clock(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;

  {
#line 3692
  sd_card = & chip->sd_card;
#line 3695
  if (chip->asic_code != 0) {
#line 3696
    if (sd_card->sd_clock > 30) {
#line 3697
      sd_card->sd_clock = sd_card->sd_clock + -20;
    } else {

    }
  } else {
#line 3699
    switch (sd_card->sd_clock) {
    case 10: 
#line 3701
    sd_card->sd_clock = 9;
#line 3702
    goto ldv_38945;
    case 9: 
#line 3705
    sd_card->sd_clock = 8;
#line 3706
    goto ldv_38945;
    case 8: 
#line 3709
    sd_card->sd_clock = 7;
#line 3710
    goto ldv_38945;
    case 7: 
#line 3713
    sd_card->sd_clock = 6;
#line 3714
    goto ldv_38945;
    case 6: 
#line 3717
    sd_card->sd_clock = 5;
#line 3718
    goto ldv_38945;
    case 5: 
#line 3721
    sd_card->sd_clock = 4;
#line 3722
    goto ldv_38945;
    default: ;
#line 3725
    goto ldv_38945;
    }
    ldv_38945: ;
  }
#line 3729
  retval = sd_switch_clock(chip);
#line 3730
  if (retval != 0) {
#line 3731
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_auto_tune_clock", 3731);
#line 3732
    return (1);
  } else {

  }
#line 3735
  return (0);
}
}
#line 3738 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) 
{ 
  struct sd_info *sd_card ;
  u32 data_addr ;
  u8 cfg2 ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  unsigned int tmp___5 ;
  unsigned int tmp___6 ;
  struct scatterlist *tmp___7 ;
  u8 stat ;
  int err ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  int tmp___10 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___11 ;
  long tmp___12 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___13 ;
  long tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;

  {
#line 3741
  sd_card = & chip->sd_card;
#line 3746
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 3747
    descriptor.modname = "rts5208";
#line 3747
    descriptor.function = "sd_rw";
#line 3747
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3747
    descriptor.format = "sd_rw: Read %d %s from 0x%x\n";
#line 3747
    descriptor.lineno = 3749U;
#line 3747
    descriptor.flags = 0U;
#line 3747
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3747
    if (tmp___0 != 0L) {
#line 3747
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3747
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "sd_rw: Read %d %s from 0x%x\n",
                        (int )sector_cnt, (unsigned int )sector_cnt > 1U ? (char *)"sectors" : (char *)"sector",
                        start_sector);
    } else {

    }
  } else {
#line 3751
    descriptor___0.modname = "rts5208";
#line 3751
    descriptor___0.function = "sd_rw";
#line 3751
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3751
    descriptor___0.format = "sd_rw: Write %d %s to 0x%x\n";
#line 3751
    descriptor___0.lineno = 3753U;
#line 3751
    descriptor___0.flags = 0U;
#line 3751
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 3751
    if (tmp___2 != 0L) {
#line 3751
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3751
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "sd_rw: Write %d %s to 0x%x\n",
                        (int )sector_cnt, (unsigned int )sector_cnt > 1U ? (char *)"sectors" : (char *)"sector",
                        start_sector);
    } else {

    }
  }
#line 3756
  sd_card->cleanup_counter = 0;
#line 3758
  if (((int )chip->card_ready & 4) == 0) {
#line 3759
    sd_card->seq_mode = 0;
#line 3761
    retval = reset_sd_card(chip);
#line 3762
    if (retval == 0) {
#line 3763
      chip->card_ready = (u8 )((unsigned int )chip->card_ready | 4U);
#line 3764
      chip->card_fail = (unsigned int )chip->card_fail & 251U;
    } else {
#line 3766
      chip->card_ready = (unsigned int )chip->card_ready & 251U;
#line 3767
      chip->card_fail = (u8 )((unsigned int )chip->card_fail | 4U);
#line 3768
      chip->capacity[(int )chip->card2lun[4]] = 0U;
#line 3769
      chip->rw_need_retry = 1;
#line 3770
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3770);
#line 3771
      return (1);
    }
  } else {

  }
#line 3775
  if ((((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 4096) == 0) && (((int )sd_card->sd_type & 255) != 1 || ((int )sd_card->sd_type & 4096) == 0)) {
#line 3776
    data_addr = start_sector << 9;
  } else {
#line 3778
    data_addr = start_sector;
  }
#line 3780
  sd_clr_err_code(chip);
#line 3782
  retval = sd_switch_clock(chip);
#line 3783
  if (retval != 0) {
#line 3784
    sd_set_err_code(chip, 2);
#line 3785
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_rw", 3785);
#line 3786
    goto RW_FAIL;
  } else {

  }
#line 3789
  if (sd_card->seq_mode != 0 && ((unsigned int )sd_card->pre_dir != (unsigned int )srb->sc_data_direction || sd_card->pre_sec_addr + (u32 )sd_card->pre_sec_cnt != start_sector)) {
#line 3793
    if (((((unsigned int )sd_card->pre_sec_cnt <= 127U && (unsigned int )sd_card->pre_dir == 2U) && (((((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 512) == 0) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 1024) == 0)) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 2048) == 0))) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 256) == 0)) && ((((int )sd_card->sd_type & 255) != 1 || ((int )sd_card->sd_type & 512) == 0) || (((int )sd_card->sd_type & 255) != 1 || ((int )sd_card->sd_type & 256) == 0))) {
#line 3798
      sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
    } else {

    }
#line 3802
    retval = sd_send_cmd_get_rsp(chip, 12, 0U, 9, (u8 *)0U, 0);
#line 3804
    if (retval != 0) {
#line 3805
      chip->rw_need_retry = 1;
#line 3806
      sd_set_err_code(chip, 8);
#line 3807
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3807);
#line 3808
      goto RW_FAIL;
    } else {

    }
#line 3811
    sd_card->seq_mode = 0;
#line 3813
    retval = rtsx_write_register(chip, 65076, 128, 128);
#line 3814
    if (retval != 0) {
#line 3815
      sd_set_err_code(chip, 2);
#line 3816
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3816);
#line 3817
      goto RW_FAIL;
    } else {

    }
#line 3820
    if ((((unsigned int )sd_card->pre_sec_cnt <= 127U && (((((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 512) == 0) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 1024) == 0)) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 2048) == 0))) && (((int )sd_card->sd_type & 255) != 0 || ((int )sd_card->sd_type & 256) == 0)) && ((((int )sd_card->sd_type & 255) != 1 || ((int )sd_card->sd_type & 512) == 0) || (((int )sd_card->sd_type & 255) != 1 || ((int )sd_card->sd_type & 256) == 0))) {
#line 3824
      sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0);
    } else {

    }
  } else {

  }
#line 3829
  chip->ci = 0;
#line 3831
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 3832
  rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 3833
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, (int )((unsigned char )sector_cnt));
#line 3835
  rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, (int )((unsigned char )((int )sector_cnt >> 8)));
#line 3838
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 3840
  if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 3841
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, 2);
  } else
#line 3843
  if ((((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0) || ((int )sd_card->sd_type & 255) == 0) {
#line 3844
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, 1);
  } else {
#line 3847
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, 0);
  }
#line 3850
  if (sd_card->seq_mode != 0) {
#line 3851
    cfg2 = 132U;
#line 3854
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )cfg2);
#line 3856
    trans_dma_enable(srb->sc_data_direction, chip, (u32 )((int )sector_cnt * 512),
                     32);
#line 3859
    if ((unsigned int )srb->sc_data_direction == 2U) {
#line 3860
      rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 133);
    } else {
#line 3863
      rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 129);
    }
#line 3867
    rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 3870
    rtsx_send_cmd_no_wait(chip);
  } else {
#line 3872
    if ((unsigned int )srb->sc_data_direction == 2U) {
#line 3873
      descriptor___1.modname = "rts5208";
#line 3873
      descriptor___1.function = "sd_rw";
#line 3873
      descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3873
      descriptor___1.format = "SD/MMC CMD %d\n";
#line 3873
      descriptor___1.lineno = 3874U;
#line 3873
      descriptor___1.flags = 0U;
#line 3873
      tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 3873
      if (tmp___4 != 0L) {
#line 3873
        tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3873
        __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "SD/MMC CMD %d\n",
                          18);
      } else {

      }
#line 3875
      rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, 82);
#line 3877
      rtsx_add_cmd(chip, 1, (int )REG_SD_CMD1, 255, (int )((unsigned char )(data_addr >> 24)));
#line 3879
      rtsx_add_cmd(chip, 1, (int )REG_SD_CMD2, 255, (int )((unsigned char )(data_addr >> 16)));
#line 3881
      rtsx_add_cmd(chip, 1, (int )REG_SD_CMD3, 255, (int )((unsigned char )(data_addr >> 8)));
#line 3883
      rtsx_add_cmd(chip, 1, (int )REG_SD_CMD4, 255, (int )((unsigned char )data_addr));
#line 3886
      cfg2 = 1U;
#line 3889
      rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )cfg2);
#line 3892
      trans_dma_enable(srb->sc_data_direction, chip, (u32 )((int )sector_cnt * 512),
                       32);
#line 3895
      rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 142);
#line 3897
      rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 3900
      rtsx_send_cmd_no_wait(chip);
    } else {
#line 3902
      retval = rtsx_send_cmd(chip, 4, 50);
#line 3903
      if (retval < 0) {
#line 3904
        rtsx_clear_sd_error(chip);
#line 3906
        chip->rw_need_retry = 1;
#line 3907
        sd_set_err_code(chip, 64);
#line 3908
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_rw", 3908);
#line 3909
        goto RW_FAIL;
      } else {

      }
#line 3912
      retval = wait_data_buf_ready(chip);
#line 3913
      if (retval != 0) {
#line 3914
        chip->rw_need_retry = 1;
#line 3915
        sd_set_err_code(chip, 64);
#line 3916
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_rw", 3916);
#line 3917
        goto RW_FAIL;
      } else {

      }
#line 3920
      retval = sd_send_cmd_get_rsp(chip, 25, data_addr, 1, (u8 *)0U, 0);
#line 3922
      if (retval != 0) {
#line 3923
        chip->rw_need_retry = 1;
#line 3924
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_rw", 3924);
#line 3925
        goto RW_FAIL;
      } else {

      }
#line 3928
      chip->ci = 0;
#line 3930
      cfg2 = 132U;
#line 3933
      rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )cfg2);
#line 3936
      trans_dma_enable(srb->sc_data_direction, chip, (u32 )((int )sector_cnt * 512),
                       32);
#line 3939
      rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 129);
#line 3941
      rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 3944
      rtsx_send_cmd_no_wait(chip);
    }
#line 3947
    sd_card->seq_mode = 1;
  }
#line 3950
  tmp___5 = scsi_sg_count(srb);
#line 3950
  tmp___6 = scsi_bufflen(srb);
#line 3950
  tmp___7 = scsi_sglist(srb);
#line 3950
  retval = rtsx_transfer_data(chip, 4, (void *)tmp___7, (size_t )tmp___6, (int )tmp___5,
                              srb->sc_data_direction, chip->sd_timeout);
#line 3953
  if (retval < 0) {
#line 3954
    stat = 0U;
#line 3957
    sd_card->seq_mode = 0;
#line 3959
    if (retval == -110) {
#line 3960
      err = 2;
    } else {
#line 3962
      err = 1;
    }
#line 3964
    rtsx_read_register(chip, (int )REG_SD_STAT1, & stat);
#line 3965
    rtsx_clear_sd_error(chip);
#line 3966
    tmp___10 = detect_card_cd(chip, 4);
#line 3966
    if (tmp___10 != 0) {
#line 3967
      chip->rw_need_retry = 0;
#line 3968
      descriptor___2.modname = "rts5208";
#line 3968
      descriptor___2.function = "sd_rw";
#line 3968
      descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3968
      descriptor___2.format = "No card exist, exit sd_rw\n";
#line 3968
      descriptor___2.lineno = 3968U;
#line 3968
      descriptor___2.flags = 0U;
#line 3968
      tmp___9 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 3968
      if (tmp___9 != 0L) {
#line 3968
        tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3968
        __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___8, "No card exist, exit sd_rw\n");
      } else {

      }
#line 3969
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3969);
#line 3970
      return (1);
    } else {

    }
#line 3973
    chip->rw_need_retry = 1;
#line 3975
    retval = sd_send_cmd_get_rsp(chip, 12, 0U, 9, (u8 *)0U, 0);
#line 3977
    if (retval != 0) {
#line 3978
      sd_set_err_code(chip, 8);
#line 3979
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3979);
#line 3980
      goto RW_FAIL;
    } else {

    }
#line 3983
    if (((int )stat & 224) != 0) {
#line 3984
      descriptor___3.modname = "rts5208";
#line 3984
      descriptor___3.function = "sd_rw";
#line 3984
      descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 3984
      descriptor___3.format = "SD CRC error, tune clock!\n";
#line 3984
      descriptor___3.lineno = 3984U;
#line 3984
      descriptor___3.flags = 0U;
#line 3984
      tmp___12 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 3984
      if (tmp___12 != 0L) {
#line 3984
        tmp___11 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3984
        __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___11, "SD CRC error, tune clock!\n");
      } else {

      }
#line 3985
      sd_set_err_code(chip, 128);
#line 3986
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3986);
#line 3987
      goto RW_FAIL;
    } else {

    }
#line 3990
    if (err == 2) {
#line 3991
      sd_set_err_code(chip, 64);
#line 3992
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_rw", 3992);
#line 3993
      goto RW_FAIL;
    } else {

    }
#line 3996
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_rw", 3996);
#line 3997
    return (err);
  } else {

  }
#line 4000
  sd_card->pre_sec_addr = start_sector;
#line 4001
  sd_card->pre_sec_cnt = sector_cnt;
#line 4002
  sd_card->pre_dir = srb->sc_data_direction;
#line 4004
  return (0);
  RW_FAIL: 
#line 4007
  sd_card->seq_mode = 0;
#line 4009
  tmp___15 = detect_card_cd(chip, 4);
#line 4009
  if (tmp___15 != 0) {
#line 4010
    chip->rw_need_retry = 0;
#line 4011
    descriptor___4.modname = "rts5208";
#line 4011
    descriptor___4.function = "sd_rw";
#line 4011
    descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 4011
    descriptor___4.format = "No card exist, exit sd_rw\n";
#line 4011
    descriptor___4.lineno = 4011U;
#line 4011
    descriptor___4.flags = 0U;
#line 4011
    tmp___14 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 4011
    if (tmp___14 != 0L) {
#line 4011
      tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4011
      __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___13, "No card exist, exit sd_rw\n");
    } else {

    }
#line 4012
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_rw", 4012);
#line 4013
    return (1);
  } else {

  }
#line 4016
  tmp___17 = sd_check_err_code(chip, 128);
#line 4016
  if (tmp___17 != 0) {
#line 4017
    if ((((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0) || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0)) {
#line 4018
      sd_card->mmc_dont_switch_bus = 1;
#line 4019
      reset_mmc_only(chip);
#line 4020
      sd_card->mmc_dont_switch_bus = 0;
    } else {
#line 4022
      sd_card->need_retune = 1;
#line 4023
      sd_auto_tune_clock(chip);
    }
  } else {
#line 4025
    tmp___16 = sd_check_err_code(chip, 72);
#line 4025
    if (tmp___16 != 0) {
#line 4026
      retval = reset_sd_card(chip);
#line 4027
      if (retval != 0) {
#line 4028
        chip->card_ready = (unsigned int )chip->card_ready & 251U;
#line 4029
        chip->card_fail = (u8 )((unsigned int )chip->card_fail | 4U);
#line 4030
        chip->capacity[(int )chip->card2lun[4]] = 0U;
      } else {

      }
    } else {

    }
  }
#line 4034
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_rw", 4034);
#line 4035
  return (1);
}
}
#line 4039 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int soft_reset_sd_card(struct rtsx_chip *chip ) 
{ 
  int tmp ;

  {
#line 4041
  tmp = reset_sd(chip);
#line 4041
  return (tmp);
}
}
#line 4044 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int ext_sd_send_cmd_get_rsp(struct rtsx_chip *chip , u8 cmd_idx , u32 arg , u8 rsp_type ,
                            u8 *rsp , int rsp_len , bool special_check ) 
{ 
  int retval ;
  int timeout ;
  u16 reg_addr ;
  u8 *ptr ;
  int stat_idx ;
  int rty_cnt ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  u8 *tmp___1 ;
  struct task_struct *tmp___2 ;
  long volatile   __ret ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;

  {
#line 4048
  timeout = 100;
#line 4051
  stat_idx = 0;
#line 4052
  rty_cnt = 0;
#line 4054
  descriptor.modname = "rts5208";
#line 4054
  descriptor.function = "ext_sd_send_cmd_get_rsp";
#line 4054
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 4054
  descriptor.format = "EXT SD/MMC CMD %d\n";
#line 4054
  descriptor.lineno = 4054U;
#line 4054
  descriptor.flags = 0U;
#line 4054
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 4054
  if (tmp___0 != 0L) {
#line 4054
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4054
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "EXT SD/MMC CMD %d\n",
                      (int )cmd_idx);
  } else {

  }
#line 4056
  if ((unsigned int )rsp_type == 9U) {
#line 4057
    timeout = 3000;
  } else {

  }
  RTY_SEND_CMD: 
#line 4061
  chip->ci = 0;
#line 4063
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, (int )((unsigned int )cmd_idx | 64U));
#line 4064
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD1, 255, (int )((unsigned char )(arg >> 24)));
#line 4065
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD2, 255, (int )((unsigned char )(arg >> 16)));
#line 4066
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD3, 255, (int )((unsigned char )(arg >> 8)));
#line 4067
  rtsx_add_cmd(chip, 1, (int )REG_SD_CMD4, 255, (int )((unsigned char )arg));
#line 4069
  rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )rsp_type);
#line 4070
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 4072
  rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 136);
#line 4074
  rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 4077
  if ((unsigned int )rsp_type == 2U) {
#line 4078
    reg_addr = 64000U;
#line 4078
    goto ldv_38995;
    ldv_38994: 
#line 4080
    rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 4079
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_38995: ;
#line 4078
    if ((unsigned int )reg_addr <= 64015U) {
#line 4080
      goto ldv_38994;
    } else {

    }
#line 4082
    stat_idx = 17;
  } else
#line 4083
  if ((unsigned int )rsp_type != 4U) {
#line 4084
    reg_addr = REG_SD_CMD0;
#line 4084
    goto ldv_38998;
    ldv_38997: 
#line 4086
    rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 4085
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_38998: ;
#line 4084
    if ((int )reg_addr <= (int )REG_SD_CMD4) {
#line 4086
      goto ldv_38997;
    } else {

    }
#line 4088
    stat_idx = 6;
  } else {

  }
#line 4090
  rtsx_add_cmd(chip, 0, (int )REG_SD_CMD5, 0, 0);
#line 4092
  rtsx_add_cmd(chip, 0, (int )REG_SD_STAT1, 0, 0);
#line 4094
  retval = rtsx_send_cmd(chip, 4, timeout);
#line 4095
  if (retval < 0) {
#line 4096
    if (retval == -110) {
#line 4097
      rtsx_clear_sd_error(chip);
#line 4099
      if (((int )rsp_type & 8) != 0) {
#line 4100
        retval = sd_check_data0_status(chip);
#line 4101
        if (retval != 0) {
#line 4102
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "ext_sd_send_cmd_get_rsp", 4102);
#line 4103
          return (retval);
        } else {

        }
      } else {
#line 4106
        sd_set_err_code(chip, 64);
      }
    } else {

    }
#line 4109
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "ext_sd_send_cmd_get_rsp", 4109);
#line 4110
    return (1);
  } else {

  }
#line 4113
  if ((unsigned int )rsp_type == 4U) {
#line 4114
    return (0);
  } else {

  }
#line 4116
  tmp___1 = rtsx_get_cmd_data(chip);
#line 4116
  ptr = tmp___1 + 1UL;
#line 4118
  if (((int )*ptr & 192) != 0) {
#line 4119
    sd_set_err_code(chip, 8);
#line 4120
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "ext_sd_send_cmd_get_rsp", 4120);
#line 4121
    return (1);
  } else {

  }
#line 4124
  if (((int )rsp_type & 4) == 0) {
#line 4125
    if ((int )((signed char )*(ptr + (unsigned long )stat_idx)) < 0) {
#line 4126
      if ((unsigned int )cmd_idx == 25U) {
#line 4127
        sd_set_err_code(chip, 128);
#line 4128
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "ext_sd_send_cmd_get_rsp", 4128);
#line 4129
        return (1);
      } else {

      }
#line 4131
      if (rty_cnt <= 2) {
#line 4132
        tmp___2 = get_current();
#line 4132
        tmp___2->task_state_change = 0UL;
#line 4132
        __ret = 1L;
#line 4132
        switch (8UL) {
        case 1UL: 
#line 4132
        tmp___3 = get_current();
#line 4132
        __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___3->state): : "memory",
                             "cc");
#line 4132
        goto ldv_39002;
        case 2UL: 
#line 4132
        tmp___4 = get_current();
#line 4132
        __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                             "cc");
#line 4132
        goto ldv_39002;
        case 4UL: 
#line 4132
        tmp___5 = get_current();
#line 4132
        __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                             "cc");
#line 4132
        goto ldv_39002;
        case 8UL: 
#line 4132
        tmp___6 = get_current();
#line 4132
        __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                             "cc");
#line 4132
        goto ldv_39002;
        default: 
#line 4132
        __xchg_wrong_size();
        }
        ldv_39002: 
#line 4132
        schedule_timeout(5L);
#line 4133
        rty_cnt = rty_cnt + 1;
#line 4134
        goto RTY_SEND_CMD;
      } else {
#line 4136
        sd_set_err_code(chip, 128);
#line 4137
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "ext_sd_send_cmd_get_rsp", 4137);
#line 4138
        return (1);
      }
    } else {

    }
  } else {

  }
#line 4143
  if ((((unsigned int )cmd_idx == 7U || (unsigned int )cmd_idx == 55U) || (unsigned int )cmd_idx == 13U) || (unsigned int )cmd_idx == 12U) {
#line 4145
    if ((unsigned int )cmd_idx != 12U && ! special_check) {
#line 4146
      if ((int )((signed char )*(ptr + 1UL)) < 0) {
#line 4147
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "ext_sd_send_cmd_get_rsp", 4147);
#line 4148
        return (1);
      } else {

      }
    } else {

    }
#line 4152
    if (((int )*(ptr + 1UL) & 125) != 0) {
#line 4157
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "ext_sd_send_cmd_get_rsp", 4157);
#line 4158
      return (1);
    } else {

    }
#line 4160
    if (((int )*(ptr + 2UL) & 248) != 0) {
#line 4161
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "ext_sd_send_cmd_get_rsp", 4161);
#line 4162
      return (1);
    } else {

    }
#line 4165
    if ((unsigned int )cmd_idx == 7U) {
#line 4166
      if ((unsigned int )rsp_type == 2U) {
#line 4167
        if (((int )*(ptr + 3UL) & 30) != 4) {
#line 4168
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                      "ext_sd_send_cmd_get_rsp", 4168);
#line 4169
          return (1);
        } else {

        }
      } else
#line 4172
      if ((unsigned int )rsp_type == 4U) {
#line 4174
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "ext_sd_send_cmd_get_rsp", 4174);
#line 4175
        return (1);
      } else {

      }
    } else {

    }
  } else {

  }
#line 4181
  if ((unsigned long )rsp != (unsigned long )((u8 *)0U) && rsp_len != 0) {
#line 4182
    memcpy((void *)rsp, (void const   *)ptr, (size_t )rsp_len);
  } else {

  }
#line 4184
  return (0);
}
}
#line 4187 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int ext_sd_get_rsp(struct rtsx_chip *chip , int len , u8 *rsp , u8 rsp_type ) 
{ 
  int retval ;
  int rsp_len ;
  u16 reg_addr ;
  int min_len ;
  u8 *tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;

  {
#line 4192
  if ((unsigned int )rsp_type == 4U) {
#line 4193
    return (0);
  } else {

  }
#line 4195
  chip->ci = 0;
#line 4197
  if ((unsigned int )rsp_type == 2U) {
#line 4198
    reg_addr = 64000U;
#line 4198
    goto ldv_39018;
    ldv_39017: 
#line 4200
    rtsx_add_cmd(chip, 0, (int )reg_addr, 255, 0);
#line 4199
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_39018: ;
#line 4198
    if ((unsigned int )reg_addr <= 64015U) {
#line 4200
      goto ldv_39017;
    } else {

    }
#line 4202
    rsp_len = 17;
  } else
#line 4203
  if ((unsigned int )rsp_type != 4U) {
#line 4204
    reg_addr = REG_SD_CMD0;
#line 4204
    goto ldv_39021;
    ldv_39020: 
#line 4206
    rtsx_add_cmd(chip, 0, (int )reg_addr, 255, 0);
#line 4205
    reg_addr = (u16 )((int )reg_addr + 1);
    ldv_39021: ;
#line 4204
    if ((int )reg_addr <= (int )REG_SD_CMD4) {
#line 4206
      goto ldv_39020;
    } else {

    }
#line 4208
    rsp_len = 6;
  } else {

  }
#line 4210
  rtsx_add_cmd(chip, 0, (int )REG_SD_CMD5, 255, 0);
#line 4212
  retval = rtsx_send_cmd(chip, 4, 100);
#line 4213
  if (retval != 0) {
#line 4214
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "ext_sd_get_rsp", 4214);
#line 4215
    return (1);
  } else {

  }
#line 4218
  if ((unsigned long )rsp != (unsigned long )((u8 *)0U)) {
#line 4219
    min_len = rsp_len < len ? rsp_len : len;
#line 4221
    tmp = rtsx_get_cmd_data(chip);
#line 4221
    memcpy((void *)rsp, (void const   *)tmp, (size_t )min_len);
#line 4223
    descriptor.modname = "rts5208";
#line 4223
    descriptor.function = "ext_sd_get_rsp";
#line 4223
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 4223
    descriptor.format = "min_len = %d\n";
#line 4223
    descriptor.lineno = 4223U;
#line 4223
    descriptor.flags = 0U;
#line 4223
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 4223
    if (tmp___1 != 0L) {
#line 4223
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4223
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "min_len = %d\n",
                        min_len);
    } else {

    }
#line 4224
    descriptor___0.modname = "rts5208";
#line 4224
    descriptor___0.function = "ext_sd_get_rsp";
#line 4224
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 4224
    descriptor___0.format = "Response in cmd buf: 0x%x 0x%x 0x%x 0x%x\n";
#line 4224
    descriptor___0.lineno = 4225U;
#line 4224
    descriptor___0.flags = 0U;
#line 4224
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 4224
    if (tmp___3 != 0L) {
#line 4224
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4224
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "Response in cmd buf: 0x%x 0x%x 0x%x 0x%x\n",
                        (int )*rsp, (int )*(rsp + 1UL), (int )*(rsp + 2UL), (int )*(rsp + 3UL));
    } else {

    }
  } else {

  }
#line 4228
  return (0);
}
}
#line 4231 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_pass_thru_mode(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int len ;
  u8 buf[18U] ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp ;

  {
#line 4233
  sd_card = & chip->sd_card;
#line 4234
  lun = (unsigned int )(srb->device)->lun;
#line 4236
  buf[0] = 0U;
#line 4236
  buf[1] = 0U;
#line 4236
  buf[2] = 0U;
#line 4236
  buf[3] = 14U;
#line 4236
  buf[4] = 0U;
#line 4236
  buf[5] = 0U;
#line 4236
  buf[6] = 0U;
#line 4236
  buf[7] = 0U;
#line 4236
  buf[8] = 83U;
#line 4236
  buf[9] = 68U;
#line 4236
  buf[10] = 32U;
#line 4236
  buf[11] = 67U;
#line 4236
  buf[12] = 97U;
#line 4236
  buf[13] = 114U;
#line 4236
  buf[14] = 100U;
#line 4236
  buf[15] = 0U;
#line 4236
  buf[16] = 0U;
#line 4236
  buf[17] = 0U;
#line 4257
  sd_card->pre_cmd_err = 0;
#line 4259
  if ((((int )chip->lun_mc >> (int )lun) & 1) == 0) {
#line 4260
    chip->lun_mc = (u8 )((int )((signed char )chip->lun_mc) | (int )((signed char )(1 << (int )lun)));
#line 4261
    set_sense_type(chip, lun, 1);
#line 4262
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_pass_thru_mode", 4262);
#line 4263
    return (1);
  } else {

  }
#line 4266
  if (((((((unsigned int )*(srb->cmnd + 2UL) != 83U || (unsigned int )*(srb->cmnd + 3UL) != 68U) || (unsigned int )*(srb->cmnd + 4UL) != 32U) || (unsigned int )*(srb->cmnd + 5UL) != 67U) || (unsigned int )*(srb->cmnd + 6UL) != 97U) || (unsigned int )*(srb->cmnd + 7UL) != 114U) || (unsigned int )*(srb->cmnd + 8UL) != 100U) {
#line 4270
    set_sense_type(chip, lun, 6);
#line 4271
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_pass_thru_mode", 4271);
#line 4272
    return (1);
  } else {

  }
#line 4275
  switch ((int )*(srb->cmnd + 1UL) & 15) {
  case 0: 
#line 4277
  sd_card->sd_pass_thru_en = 0;
#line 4278
  goto ldv_39037;
  case 1: 
#line 4281
  sd_card->sd_pass_thru_en = 1;
#line 4282
  goto ldv_39037;
  default: 
#line 4285
  set_sense_type(chip, lun, 6);
#line 4286
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_pass_thru_mode", 4286);
#line 4287
  return (1);
  }
  ldv_39037: 
#line 4290
  buf[5] = ((int )sd_card->sd_type & 255) == 0 ? 1U : 2U;
#line 4291
  if (((int )chip->card_wp & 4) != 0) {
#line 4292
    buf[5] = (u8 )((unsigned int )buf[5] | 128U);
  } else {

  }
#line 4294
  buf[6] = (unsigned char )(sd_card->sd_addr >> 16);
#line 4295
  buf[7] = (unsigned char )(sd_card->sd_addr >> 24);
#line 4297
  buf[15] = (u8 )chip->max_lun;
#line 4299
  __min1 = 18;
#line 4299
  tmp = scsi_bufflen(srb);
#line 4299
  __min2 = (int )tmp;
#line 4299
  len = __min1 < __min2 ? __min1 : __min2;
#line 4300
  rtsx_stor_set_xfer_buf((unsigned char *)(& buf), (unsigned int )len, srb);
#line 4302
  return (0);
}
}
#line 4305 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
__inline static int get_rsp_type(struct scsi_cmnd *srb , u8 *rsp_type , int *rsp_len ) 
{ 


  {
#line 4308
  if ((unsigned long )rsp_type == (unsigned long )((u8 *)0U) || (unsigned long )rsp_len == (unsigned long )((int *)0)) {
#line 4309
    return (1);
  } else {

  }
#line 4311
  switch ((int )*(srb->cmnd + 10UL)) {
  case 3: 
#line 4313
  *rsp_type = 4U;
#line 4314
  *rsp_len = 0;
#line 4315
  goto ldv_39049;
  case 4: 
#line 4318
  *rsp_type = 1U;
#line 4319
  *rsp_len = 6;
#line 4320
  goto ldv_39049;
  case 5: 
#line 4323
  *rsp_type = 9U;
#line 4324
  *rsp_len = 6;
#line 4325
  goto ldv_39049;
  case 6: 
#line 4328
  *rsp_type = 2U;
#line 4329
  *rsp_len = 17;
#line 4330
  goto ldv_39049;
  case 7: 
#line 4333
  *rsp_type = 5U;
#line 4334
  *rsp_len = 6;
#line 4335
  goto ldv_39049;
  default: ;
#line 4338
  return (1);
  }
  ldv_39049: ;
#line 4341
  return (0);
}
}
#line 4344 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_execute_no_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int retval ;
  int rsp_len ;
  u8 cmd_idx ;
  u8 rsp_type ;
  bool standby ;
  bool acmd ;
  u32 arg ;

  {
#line 4346
  sd_card = & chip->sd_card;
#line 4347
  lun = (unsigned int )(srb->device)->lun;
#line 4350
  standby = 0;
#line 4350
  acmd = 0;
#line 4353
  if (sd_card->sd_pass_thru_en == 0) {
#line 4354
    set_sense_type(chip, lun, 6);
#line 4355
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4355);
#line 4356
    return (1);
  } else {

  }
#line 4359
  retval = sd_switch_clock(chip);
#line 4360
  if (retval != 0) {
#line 4361
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4361);
#line 4362
    return (1);
  } else {

  }
#line 4365
  if (sd_card->pre_cmd_err != 0) {
#line 4366
    sd_card->pre_cmd_err = 0;
#line 4367
    set_sense_type(chip, lun, 1);
#line 4368
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4368);
#line 4369
    return (1);
  } else {

  }
#line 4372
  cmd_idx = (unsigned int )*(srb->cmnd + 2UL) & 63U;
#line 4373
  if (((int )*(srb->cmnd + 1UL) & 2) != 0) {
#line 4374
    standby = 1;
  } else {

  }
#line 4376
  if ((int )*(srb->cmnd + 1UL) & 1) {
#line 4377
    acmd = 1;
  } else {

  }
#line 4379
  arg = ((((unsigned int )*(srb->cmnd + 3UL) << 24) | ((unsigned int )*(srb->cmnd + 4UL) << 16)) | ((unsigned int )*(srb->cmnd + 5UL) << 8)) | (unsigned int )*(srb->cmnd + 6UL);
#line 4382
  retval = get_rsp_type(srb, & rsp_type, & rsp_len);
#line 4383
  if (retval != 0) {
#line 4384
    set_sense_type(chip, lun, 6);
#line 4385
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4385);
#line 4386
    return (1);
  } else {

  }
#line 4388
  sd_card->last_rsp_type = rsp_type;
#line 4390
  retval = sd_switch_clock(chip);
#line 4391
  if (retval != 0) {
#line 4392
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4392);
#line 4393
    return (1);
  } else {

  }
#line 4397
  if (((int )sd_card->sd_lock_status & 64) == 0) {
#line 4398
    if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 4399
      retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 3, 2);
#line 4401
      if (retval != 0) {
#line 4402
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_no_data", 4402);
#line 4403
        return (1);
      } else {

      }
    } else
#line 4406
    if (((int )sd_card->sd_type & 255) == 0 || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0)) {
#line 4407
      retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 3, 1);
#line 4409
      if (retval != 0) {
#line 4410
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_no_data", 4410);
#line 4411
        return (1);
      } else {

      }
    } else {

    }
  } else {

  }
#line 4423
  if ((int )standby) {
#line 4424
    retval = sd_select_card(chip, 0);
#line 4425
    if (retval != 0) {
#line 4426
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_no_data", 4426);
#line 4427
      goto SD_Execute_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4431
  if ((int )acmd) {
#line 4432
    retval = ext_sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0, 0);
#line 4435
    if (retval != 0) {
#line 4436
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_no_data", 4436);
#line 4437
      goto SD_Execute_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4441
  retval = ext_sd_send_cmd_get_rsp(chip, (int )cmd_idx, arg, (int )rsp_type, (u8 *)(& sd_card->rsp),
                                   rsp_len, 0);
#line 4443
  if (retval != 0) {
#line 4444
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4444);
#line 4445
    goto SD_Execute_Cmd_Failed;
  } else {

  }
#line 4448
  if ((int )standby) {
#line 4449
    retval = sd_select_card(chip, 1);
#line 4450
    if (retval != 0) {
#line 4451
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_no_data", 4451);
#line 4452
      goto SD_Execute_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4457
  retval = sd_update_lock_status(chip);
#line 4458
  if (retval != 0) {
#line 4459
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_no_data", 4459);
#line 4460
    goto SD_Execute_Cmd_Failed;
  } else {

  }
#line 4464
  scsi_set_resid(srb, 0);
#line 4465
  return (0);
  SD_Execute_Cmd_Failed: 
#line 4468
  sd_card->pre_cmd_err = 1;
#line 4469
  set_sense_type(chip, lun, 0);
#line 4470
  release_sd_card(chip);
#line 4471
  do_reset_sd_card(chip);
#line 4472
  if (((int )chip->card_ready & 4) == 0) {
#line 4473
    set_sense_type(chip, lun, 2);
  } else {

  }
#line 4475
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_execute_no_data", 4475);
#line 4476
  return (1);
}
}
#line 4479 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_execute_read_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int retval ;
  int rsp_len ;
  int i ;
  bool read_err ;
  bool cmd13_checkbit ;
  u8 cmd_idx ;
  u8 rsp_type ;
  u8 bus_width ;
  bool standby ;
  bool send_cmd12 ;
  bool acmd ;
  u32 data_len ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int min_len ;
  u8 *buf ;
  u16 byte_cnt ;
  u16 blk_cnt ;
  u8 cmd[5U] ;
  void *tmp___1 ;
  u32 _min1 ;
  unsigned int _min2 ;
  unsigned int tmp___2 ;
  unsigned int tmp___3 ;
  unsigned int tmp___4 ;
  struct scatterlist *tmp___5 ;

  {
#line 4481
  sd_card = & chip->sd_card;
#line 4482
  lun = (unsigned int )(srb->device)->lun;
#line 4484
  read_err = 0;
#line 4484
  cmd13_checkbit = 0;
#line 4486
  standby = 0;
#line 4486
  send_cmd12 = 0;
#line 4486
  acmd = 0;
#line 4489
  if (sd_card->sd_pass_thru_en == 0) {
#line 4490
    set_sense_type(chip, lun, 6);
#line 4491
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4491);
#line 4492
    return (1);
  } else {

  }
#line 4495
  if (sd_card->pre_cmd_err != 0) {
#line 4496
    sd_card->pre_cmd_err = 0;
#line 4497
    set_sense_type(chip, lun, 1);
#line 4498
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4498);
#line 4499
    return (1);
  } else {

  }
#line 4502
  retval = sd_switch_clock(chip);
#line 4503
  if (retval != 0) {
#line 4504
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4504);
#line 4505
    return (1);
  } else {

  }
#line 4508
  cmd_idx = (unsigned int )*(srb->cmnd + 2UL) & 63U;
#line 4509
  if (((int )*(srb->cmnd + 1UL) & 4) != 0) {
#line 4510
    send_cmd12 = 1;
  } else {

  }
#line 4512
  if (((int )*(srb->cmnd + 1UL) & 2) != 0) {
#line 4513
    standby = 1;
  } else {

  }
#line 4515
  if ((int )*(srb->cmnd + 1UL) & 1) {
#line 4516
    acmd = 1;
  } else {

  }
#line 4518
  data_len = (((unsigned int )*(srb->cmnd + 7UL) << 16) | ((unsigned int )*(srb->cmnd + 8UL) << 8)) | (unsigned int )*(srb->cmnd + 9UL);
#line 4521
  retval = get_rsp_type(srb, & rsp_type, & rsp_len);
#line 4522
  if (retval != 0) {
#line 4523
    set_sense_type(chip, lun, 6);
#line 4524
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4524);
#line 4525
    return (1);
  } else {

  }
#line 4527
  sd_card->last_rsp_type = rsp_type;
#line 4529
  retval = sd_switch_clock(chip);
#line 4530
  if (retval != 0) {
#line 4531
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4531);
#line 4532
    return (1);
  } else {

  }
#line 4536
  if (((int )sd_card->sd_lock_status & 64) == 0) {
#line 4537
    if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 4538
      bus_width = 2U;
    } else
#line 4539
    if (((int )sd_card->sd_type & 255) == 0 || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0)) {
#line 4540
      bus_width = 1U;
    } else {
#line 4542
      bus_width = 0U;
    }
  } else {
#line 4544
    bus_width = 1U;
  }
#line 4546
  descriptor.modname = "rts5208";
#line 4546
  descriptor.function = "sd_execute_read_data";
#line 4546
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 4546
  descriptor.format = "bus_width = %d\n";
#line 4546
  descriptor.lineno = 4546U;
#line 4546
  descriptor.flags = 0U;
#line 4546
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 4546
  if (tmp___0 != 0L) {
#line 4546
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4546
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "bus_width = %d\n",
                      (int )bus_width);
  } else {

  }
#line 4551
  if (data_len <= 511U) {
#line 4552
    retval = ext_sd_send_cmd_get_rsp(chip, 16, data_len, 1, (u8 *)0U, 0, 0);
#line 4554
    if (retval != 0) {
#line 4555
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4555);
#line 4556
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4560
  if ((int )standby) {
#line 4561
    retval = sd_select_card(chip, 0);
#line 4562
    if (retval != 0) {
#line 4563
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4563);
#line 4564
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4568
  if ((int )acmd) {
#line 4569
    retval = ext_sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0, 0);
#line 4572
    if (retval != 0) {
#line 4573
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4573);
#line 4574
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4578
  if (data_len <= 512U) {
#line 4584
    byte_cnt = (u16 )((int )((short )(((int )*(srb->cmnd + 8UL) & 3) << 8)) | (int )((short )*(srb->cmnd + 9UL)));
#line 4585
    blk_cnt = 1U;
#line 4587
    cmd[0] = (u8 )((unsigned int )cmd_idx | 64U);
#line 4588
    cmd[1] = *(srb->cmnd + 3UL);
#line 4589
    cmd[2] = *(srb->cmnd + 4UL);
#line 4590
    cmd[3] = *(srb->cmnd + 5UL);
#line 4591
    cmd[4] = *(srb->cmnd + 6UL);
#line 4593
    tmp___1 = kmalloc((size_t )data_len, 208U);
#line 4593
    buf = (u8 *)tmp___1;
#line 4594
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 4595
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4595);
#line 4596
      return (3);
    } else {

    }
#line 4599
    retval = sd_read_data(chip, 12, (u8 *)(& cmd), 5, (int )byte_cnt, (int )blk_cnt,
                          (int )bus_width, buf, (int )data_len, 2000);
#line 4601
    if (retval != 0) {
#line 4602
      read_err = 1;
#line 4603
      kfree((void const   *)buf);
#line 4604
      rtsx_clear_sd_error(chip);
#line 4605
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4605);
#line 4606
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
#line 4609
    _min1 = data_len;
#line 4609
    tmp___2 = scsi_bufflen(srb);
#line 4609
    _min2 = tmp___2;
#line 4609
    min_len = (int )(_min1 < _min2 ? _min1 : _min2);
#line 4610
    rtsx_stor_set_xfer_buf(buf, (unsigned int )min_len, srb);
#line 4612
    kfree((void const   *)buf);
  } else
#line 4613
  if ((data_len & 511U) == 0U) {
#line 4614
    chip->ci = 0;
#line 4616
    trans_dma_enable(2, chip, data_len, 32);
#line 4618
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 4620
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 4622
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, (int )*(srb->cmnd + 7UL) >> 1);
#line 4624
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, (int )((unsigned char )((data_len & 130560U) >> 9)));
#line 4627
    rtsx_add_cmd(chip, 1, (int )REG_SD_CMD0, 255, (int )((unsigned int )cmd_idx | 64U));
#line 4629
    rtsx_add_cmd(chip, 1, (int )REG_SD_CMD1, 255, (int )*(srb->cmnd + 3UL));
#line 4631
    rtsx_add_cmd(chip, 1, (int )REG_SD_CMD2, 255, (int )*(srb->cmnd + 4UL));
#line 4633
    rtsx_add_cmd(chip, 1, (int )REG_SD_CMD3, 255, (int )*(srb->cmnd + 5UL));
#line 4635
    rtsx_add_cmd(chip, 1, (int )REG_SD_CMD4, 255, (int )*(srb->cmnd + 6UL));
#line 4638
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG1, 3, (int )bus_width);
#line 4639
    rtsx_add_cmd(chip, 1, (int )REG_SD_CFG2, 255, (int )rsp_type);
#line 4641
    rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 142);
#line 4643
    rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 4646
    rtsx_send_cmd_no_wait(chip);
#line 4648
    tmp___3 = scsi_sg_count(srb);
#line 4648
    tmp___4 = scsi_bufflen(srb);
#line 4648
    tmp___5 = scsi_sglist(srb);
#line 4648
    retval = rtsx_transfer_data(chip, 4, (void *)tmp___5, (size_t )tmp___4, (int )tmp___3,
                                2, 10000);
#line 4651
    if (retval < 0) {
#line 4652
      read_err = 1;
#line 4653
      rtsx_clear_sd_error(chip);
#line 4654
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4654);
#line 4655
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {
#line 4659
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4659);
#line 4660
    goto SD_Execute_Read_Cmd_Failed;
  }
#line 4663
  retval = ext_sd_get_rsp(chip, rsp_len, (u8 *)(& sd_card->rsp), (int )rsp_type);
#line 4664
  if (retval != 0) {
#line 4665
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4665);
#line 4666
    goto SD_Execute_Read_Cmd_Failed;
  } else {

  }
#line 4669
  if ((int )standby) {
#line 4670
    retval = sd_select_card(chip, 1);
#line 4671
    if (retval != 0) {
#line 4672
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4672);
#line 4673
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4677
  if ((int )send_cmd12) {
#line 4678
    retval = ext_sd_send_cmd_get_rsp(chip, 12, 0U, 9, (u8 *)0U, 0, 0);
#line 4680
    if (retval != 0) {
#line 4681
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4681);
#line 4682
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4686
  if (data_len <= 511U) {
#line 4687
    retval = ext_sd_send_cmd_get_rsp(chip, 16, 512U, 1, (u8 *)0U, 0, 0);
#line 4689
    if (retval != 0) {
#line 4690
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4690);
#line 4691
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
#line 4694
    retval = rtsx_write_register(chip, 64944, 255, 2);
#line 4695
    if (retval != 0) {
#line 4696
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4696);
#line 4697
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
#line 4700
    retval = rtsx_write_register(chip, 64943, 255, 0);
#line 4701
    if (retval != 0) {
#line 4702
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_read_data", 4702);
#line 4703
      goto SD_Execute_Read_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4707
  if (((int )*(srb->cmnd + 1UL) & 2) != 0 || ((int )*(srb->cmnd + 1UL) & 4) != 0) {
#line 4708
    cmd13_checkbit = 1;
  } else {

  }
#line 4710
  i = 0;
#line 4710
  goto ldv_39101;
  ldv_39100: 
#line 4711
  retval = ext_sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0, (int )cmd13_checkbit);
#line 4715
  if (retval == 0) {
#line 4716
    goto ldv_39099;
  } else {

  }
#line 4710
  i = i + 1;
  ldv_39101: ;
#line 4710
  if (i <= 2) {
#line 4712
    goto ldv_39100;
  } else {

  }
  ldv_39099: ;
#line 4718
  if (retval != 0) {
#line 4719
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_read_data", 4719);
#line 4720
    goto SD_Execute_Read_Cmd_Failed;
  } else {

  }
#line 4723
  scsi_set_resid(srb, 0);
#line 4724
  return (0);
  SD_Execute_Read_Cmd_Failed: 
#line 4727
  sd_card->pre_cmd_err = 1;
#line 4728
  set_sense_type(chip, lun, 0);
#line 4729
  if ((int )read_err) {
#line 4730
    set_sense_type(chip, lun, 7);
  } else {

  }
#line 4732
  release_sd_card(chip);
#line 4733
  do_reset_sd_card(chip);
#line 4734
  if (((int )chip->card_ready & 4) == 0) {
#line 4735
    set_sense_type(chip, lun, 2);
  } else {

  }
#line 4737
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_execute_read_data", 4737);
#line 4738
  return (1);
}
}
#line 4741 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_execute_write_data(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int retval ;
  int rsp_len ;
  int i ;
  bool write_err ;
  bool cmd13_checkbit ;
  u8 cmd_idx ;
  u8 rsp_type ;
  bool standby ;
  bool send_cmd12 ;
  bool acmd ;
  u32 data_len ;
  u32 arg ;
  int lock_cmd_fail ;
  u8 sd_lock_state ;
  u8 lock_cmd_type ;
  u16 i___0 ;
  u8 *buf ;
  void *tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  struct scatterlist *tmp___2 ;
  struct _ddebug descriptor ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___7 ;
  long tmp___8 ;

  {
#line 4743
  sd_card = & chip->sd_card;
#line 4744
  lun = (unsigned int )(srb->device)->lun;
#line 4746
  write_err = 0;
#line 4746
  cmd13_checkbit = 0;
#line 4748
  standby = 0;
#line 4748
  send_cmd12 = 0;
#line 4748
  acmd = 0;
#line 4751
  lock_cmd_fail = 0;
#line 4752
  sd_lock_state = 0U;
#line 4753
  lock_cmd_type = 0U;
#line 4756
  if (sd_card->sd_pass_thru_en == 0) {
#line 4757
    set_sense_type(chip, lun, 6);
#line 4758
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4758);
#line 4759
    return (1);
  } else {

  }
#line 4762
  if (sd_card->pre_cmd_err != 0) {
#line 4763
    sd_card->pre_cmd_err = 0;
#line 4764
    set_sense_type(chip, lun, 1);
#line 4765
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4765);
#line 4766
    return (1);
  } else {

  }
#line 4769
  retval = sd_switch_clock(chip);
#line 4770
  if (retval != 0) {
#line 4771
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4771);
#line 4772
    return (1);
  } else {

  }
#line 4775
  cmd_idx = (unsigned int )*(srb->cmnd + 2UL) & 63U;
#line 4776
  if (((int )*(srb->cmnd + 1UL) & 4) != 0) {
#line 4777
    send_cmd12 = 1;
  } else {

  }
#line 4779
  if (((int )*(srb->cmnd + 1UL) & 2) != 0) {
#line 4780
    standby = 1;
  } else {

  }
#line 4782
  if ((int )*(srb->cmnd + 1UL) & 1) {
#line 4783
    acmd = 1;
  } else {

  }
#line 4785
  data_len = (((unsigned int )*(srb->cmnd + 7UL) << 16) | ((unsigned int )*(srb->cmnd + 8UL) << 8)) | (unsigned int )*(srb->cmnd + 9UL);
#line 4787
  arg = ((((unsigned int )*(srb->cmnd + 3UL) << 24) | ((unsigned int )*(srb->cmnd + 4UL) << 16)) | ((unsigned int )*(srb->cmnd + 5UL) << 8)) | (unsigned int )*(srb->cmnd + 6UL);
#line 4791
  if ((unsigned int )cmd_idx == 42U) {
#line 4792
    sd_lock_state = sd_card->sd_lock_status;
#line 4793
    sd_lock_state = (unsigned int )sd_lock_state & 128U;
  } else {

  }
#line 4797
  retval = get_rsp_type(srb, & rsp_type, & rsp_len);
#line 4798
  if (retval != 0) {
#line 4799
    set_sense_type(chip, lun, 6);
#line 4800
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4800);
#line 4801
    return (1);
  } else {

  }
#line 4803
  sd_card->last_rsp_type = rsp_type;
#line 4805
  retval = sd_switch_clock(chip);
#line 4806
  if (retval != 0) {
#line 4807
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4807);
#line 4808
    return (1);
  } else {

  }
#line 4812
  if (((int )sd_card->sd_lock_status & 64) == 0) {
#line 4813
    if (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 2048) != 0) {
#line 4814
      retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 3, 2);
#line 4816
      if (retval != 0) {
#line 4817
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_write_data", 4817);
#line 4818
        return (1);
      } else {

      }
    } else
#line 4821
    if (((int )sd_card->sd_type & 255) == 0 || (((int )sd_card->sd_type & 255) == 1 && ((int )sd_card->sd_type & 1024) != 0)) {
#line 4822
      retval = rtsx_write_register(chip, (int )REG_SD_CFG1, 3, 1);
#line 4824
      if (retval != 0) {
#line 4825
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_write_data", 4825);
#line 4826
        return (1);
      } else {

      }
    } else {

    }
  } else {

  }
#line 4838
  if (data_len <= 511U) {
#line 4839
    retval = ext_sd_send_cmd_get_rsp(chip, 16, data_len, 1, (u8 *)0U, 0, 0);
#line 4841
    if (retval != 0) {
#line 4842
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 4842);
#line 4843
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4847
  if ((int )standby) {
#line 4848
    retval = sd_select_card(chip, 0);
#line 4849
    if (retval != 0) {
#line 4850
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 4850);
#line 4851
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4855
  if ((int )acmd) {
#line 4856
    retval = ext_sd_send_cmd_get_rsp(chip, 55, sd_card->sd_addr, 1, (u8 *)0U, 0, 0);
#line 4859
    if (retval != 0) {
#line 4860
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 4860);
#line 4861
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 4865
  retval = ext_sd_send_cmd_get_rsp(chip, (int )cmd_idx, arg, (int )rsp_type, (u8 *)(& sd_card->rsp),
                                   rsp_len, 0);
#line 4867
  if (retval != 0) {
#line 4868
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4868);
#line 4869
    goto SD_Execute_Write_Cmd_Failed;
  } else {

  }
#line 4872
  if (data_len <= 512U) {
#line 4876
    tmp = kmalloc((size_t )data_len, 208U);
#line 4876
    buf = (u8 *)tmp;
#line 4877
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 4878
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 4878);
#line 4879
      return (3);
    } else {

    }
#line 4882
    rtsx_stor_get_xfer_buf(buf, data_len, srb);
#line 4885
    if ((unsigned int )cmd_idx == 42U) {
#line 4886
      lock_cmd_type = (unsigned int )*buf & 15U;
    } else {

    }
#line 4889
    if (data_len > 256U) {
#line 4890
      chip->ci = 0;
#line 4891
      i___0 = 0U;
#line 4891
      goto ldv_39128;
      ldv_39127: 
#line 4892
      rtsx_add_cmd(chip, 1, (int )((unsigned int )i___0 + 64000U), 255, (int )*(buf + (unsigned long )i___0));
#line 4891
      i___0 = (u16 )((int )i___0 + 1);
      ldv_39128: ;
#line 4891
      if ((unsigned int )i___0 <= 255U) {
#line 4893
        goto ldv_39127;
      } else {

      }
#line 4895
      retval = rtsx_send_cmd(chip, 0, 250);
#line 4896
      if (retval != 0) {
#line 4897
        kfree((void const   *)buf);
#line 4898
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_write_data", 4898);
#line 4899
        goto SD_Execute_Write_Cmd_Failed;
      } else {

      }
#line 4902
      chip->ci = 0;
#line 4903
      i___0 = 256U;
#line 4903
      goto ldv_39131;
      ldv_39130: 
#line 4904
      rtsx_add_cmd(chip, 1, (int )((unsigned int )i___0 + 64000U), 255, (int )*(buf + (unsigned long )i___0));
#line 4903
      i___0 = (u16 )((int )i___0 + 1);
      ldv_39131: ;
#line 4903
      if ((u32 )i___0 < data_len) {
#line 4905
        goto ldv_39130;
      } else {

      }
#line 4907
      retval = rtsx_send_cmd(chip, 0, 250);
#line 4908
      if (retval != 0) {
#line 4909
        kfree((void const   *)buf);
#line 4910
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_write_data", 4910);
#line 4911
        goto SD_Execute_Write_Cmd_Failed;
      } else {

      }
    } else {
#line 4914
      chip->ci = 0;
#line 4915
      i___0 = 0U;
#line 4915
      goto ldv_39134;
      ldv_39133: 
#line 4916
      rtsx_add_cmd(chip, 1, (int )((unsigned int )i___0 + 64000U), 255, (int )*(buf + (unsigned long )i___0));
#line 4915
      i___0 = (u16 )((int )i___0 + 1);
      ldv_39134: ;
#line 4915
      if ((u32 )i___0 < data_len) {
#line 4917
        goto ldv_39133;
      } else {

      }
#line 4919
      retval = rtsx_send_cmd(chip, 0, 250);
#line 4920
      if (retval != 0) {
#line 4921
        kfree((void const   *)buf);
#line 4922
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                    "sd_execute_write_data", 4922);
#line 4923
        goto SD_Execute_Write_Cmd_Failed;
      } else {

      }
    }
#line 4927
    kfree((void const   *)buf);
#line 4929
    chip->ci = 0;
#line 4931
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, (int )*(srb->cmnd + 8UL) & 3);
#line 4933
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, (int )*(srb->cmnd + 9UL));
#line 4935
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, 0);
#line 4937
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, 1);
#line 4939
    rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 4942
    rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 129);
#line 4944
    rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 4947
    retval = rtsx_send_cmd(chip, 4, 250);
  } else
#line 4948
  if ((data_len & 511U) == 0U) {
#line 4949
    chip->ci = 0;
#line 4951
    trans_dma_enable(1, chip, data_len, 32);
#line 4953
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_H, 255, 2);
#line 4955
    rtsx_add_cmd(chip, 1, (int )REG_SD_BYTE_CNT_L, 255, 0);
#line 4957
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_H, 255, (int )*(srb->cmnd + 7UL) >> 1);
#line 4959
    rtsx_add_cmd(chip, 1, (int )REG_SD_BLOCK_CNT_L, 255, (int )((unsigned char )((data_len & 130560U) >> 9)));
#line 4962
    rtsx_add_cmd(chip, 1, (int )REG_SD_TRANSFER, 255, 129);
#line 4964
    rtsx_add_cmd(chip, 2, (int )REG_SD_TRANSFER, 64, 64);
#line 4967
    rtsx_send_cmd_no_wait(chip);
#line 4969
    tmp___0 = scsi_sg_count(srb);
#line 4969
    tmp___1 = scsi_bufflen(srb);
#line 4969
    tmp___2 = scsi_sglist(srb);
#line 4969
    retval = rtsx_transfer_data(chip, 4, (void *)tmp___2, (size_t )tmp___1, (int )tmp___0,
                                1, 10000);
  } else {
#line 4974
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4974);
#line 4975
    goto SD_Execute_Write_Cmd_Failed;
  }
#line 4978
  if (retval < 0) {
#line 4979
    write_err = 1;
#line 4980
    rtsx_clear_sd_error(chip);
#line 4981
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 4981);
#line 4982
    goto SD_Execute_Write_Cmd_Failed;
  } else {

  }
#line 4986
  if ((unsigned int )cmd_idx == 42U) {
#line 4987
    if ((unsigned int )lock_cmd_type == 8U) {
#line 4988
      sd_card->sd_erase_status = 1U;
#line 4989
      scsi_set_resid(srb, 0);
#line 4990
      return (0);
    } else {

    }
#line 4993
    chip->ci = 0;
#line 4994
    rtsx_add_cmd(chip, 2, 64816, 2, 2);
#line 4996
    rtsx_send_cmd(chip, 4, 250);
#line 4998
    retval = sd_update_lock_status(chip);
#line 4999
    if (retval != 0) {
#line 5000
      descriptor.modname = "rts5208";
#line 5000
      descriptor.function = "sd_execute_write_data";
#line 5000
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5000
      descriptor.format = "Lock command fail!\n";
#line 5000
      descriptor.lineno = 5000U;
#line 5000
      descriptor.flags = 0U;
#line 5000
      tmp___4 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 5000
      if (tmp___4 != 0L) {
#line 5000
        tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5000
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___3, "Lock command fail!\n");
      } else {

      }
#line 5001
      lock_cmd_fail = 1;
    } else {

    }
  } else {

  }
#line 5006
  if ((int )standby) {
#line 5007
    retval = sd_select_card(chip, 1);
#line 5008
    if (retval != 0) {
#line 5009
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 5009);
#line 5010
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 5014
  if ((int )send_cmd12) {
#line 5015
    retval = ext_sd_send_cmd_get_rsp(chip, 12, 0U, 9, (u8 *)0U, 0, 0);
#line 5017
    if (retval != 0) {
#line 5018
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 5018);
#line 5019
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 5023
  if (data_len <= 511U) {
#line 5024
    retval = ext_sd_send_cmd_get_rsp(chip, 16, 512U, 1, (u8 *)0U, 0, 0);
#line 5026
    if (retval != 0) {
#line 5027
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 5027);
#line 5028
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
#line 5031
    retval = rtsx_write_register(chip, 64944, 255, 2);
#line 5032
    if (retval != 0) {
#line 5033
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 5033);
#line 5034
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
#line 5037
    rtsx_write_register(chip, 64943, 255, 0);
#line 5038
    if (retval != 0) {
#line 5039
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_execute_write_data", 5039);
#line 5040
      goto SD_Execute_Write_Cmd_Failed;
    } else {

    }
  } else {

  }
#line 5044
  if (((int )*(srb->cmnd + 1UL) & 2) != 0 || ((int )*(srb->cmnd + 1UL) & 4) != 0) {
#line 5045
    cmd13_checkbit = 1;
  } else {

  }
#line 5047
  i = 0;
#line 5047
  goto ldv_39139;
  ldv_39138: 
#line 5048
  retval = ext_sd_send_cmd_get_rsp(chip, 13, sd_card->sd_addr, 1, (u8 *)0U, 0, (int )cmd13_checkbit);
#line 5052
  if (retval == 0) {
#line 5053
    goto ldv_39137;
  } else {

  }
#line 5047
  i = i + 1;
  ldv_39139: ;
#line 5047
  if (i <= 2) {
#line 5049
    goto ldv_39138;
  } else {

  }
  ldv_39137: ;
#line 5055
  if (retval != 0) {
#line 5056
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 5056);
#line 5057
    goto SD_Execute_Write_Cmd_Failed;
  } else {

  }
#line 5061
  if ((unsigned int )cmd_idx == 42U) {
#line 5062
    if (lock_cmd_fail == 0) {
#line 5063
      descriptor___0.modname = "rts5208";
#line 5063
      descriptor___0.function = "sd_execute_write_data";
#line 5063
      descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5063
      descriptor___0.format = "lock_cmd_type = 0x%x\n";
#line 5063
      descriptor___0.lineno = 5064U;
#line 5063
      descriptor___0.flags = 0U;
#line 5063
      tmp___6 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 5063
      if (tmp___6 != 0L) {
#line 5063
        tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5063
        __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___5, "lock_cmd_type = 0x%x\n",
                          (int )lock_cmd_type);
      } else {

      }
#line 5065
      if (((int )lock_cmd_type & 2) != 0) {
#line 5066
        sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 223U;
      } else {

      }
#line 5068
      if ((int )lock_cmd_type & 1) {
#line 5069
        sd_card->sd_lock_status = (u8 )((unsigned int )sd_card->sd_lock_status | 32U);
      } else {

      }
    } else {

    }
#line 5072
    descriptor___1.modname = "rts5208";
#line 5072
    descriptor___1.function = "sd_execute_write_data";
#line 5072
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5072
    descriptor___1.format = "sd_lock_state = 0x%x, sd_card->sd_lock_status = 0x%x\n";
#line 5072
    descriptor___1.lineno = 5073U;
#line 5072
    descriptor___1.flags = 0U;
#line 5072
    tmp___8 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 5072
    if (tmp___8 != 0L) {
#line 5072
      tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5072
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___7, "sd_lock_state = 0x%x, sd_card->sd_lock_status = 0x%x\n",
                        (int )sd_lock_state, (int )sd_card->sd_lock_status);
    } else {

    }
#line 5074
    if ((int )sd_lock_state != ((int )sd_card->sd_lock_status & 128)) {
#line 5075
      sd_card->sd_lock_notify = 1U;
#line 5076
      if ((unsigned int )sd_lock_state != 0U) {
#line 5077
        if (((int )sd_card->sd_lock_status & 64) != 0) {
#line 5078
          sd_card->sd_lock_status = (u8 )((unsigned int )sd_card->sd_lock_status | 3U);
#line 5080
          if (((int )sd_card->sd_type & 255) == 0) {
#line 5081
            retval = reset_sd(chip);
#line 5082
            if (retval != 0) {
#line 5083
              sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 252U;
#line 5084
              _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                          "sd_execute_write_data", 5084);
#line 5085
              goto SD_Execute_Write_Cmd_Failed;
            } else {

            }
          } else {

          }
#line 5089
          sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 252U;
        } else {

        }
      } else {

      }
    } else {

    }
  } else {

  }
#line 5095
  if (lock_cmd_fail != 0) {
#line 5096
    scsi_set_resid(srb, 0);
#line 5097
    set_sense_type(chip, lun, 0);
#line 5098
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_execute_write_data", 5098);
#line 5099
    return (1);
  } else {

  }
#line 5103
  scsi_set_resid(srb, 0);
#line 5104
  return (0);
  SD_Execute_Write_Cmd_Failed: 
#line 5107
  sd_card->pre_cmd_err = 1;
#line 5108
  set_sense_type(chip, lun, 0);
#line 5109
  if ((int )write_err) {
#line 5110
    set_sense_type(chip, lun, 8);
  } else {

  }
#line 5112
  release_sd_card(chip);
#line 5113
  do_reset_sd_card(chip);
#line 5114
  if (((int )chip->card_ready & 4) == 0) {
#line 5115
    set_sense_type(chip, lun, 2);
  } else {

  }
#line 5117
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_execute_write_data", 5117);
#line 5118
  return (1);
}
}
#line 5121 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_get_cmd_rsp(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int count ;
  u16 data_len ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 5123
  sd_card = & chip->sd_card;
#line 5124
  lun = (unsigned int )(srb->device)->lun;
#line 5128
  if (sd_card->sd_pass_thru_en == 0) {
#line 5129
    set_sense_type(chip, lun, 6);
#line 5130
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_get_cmd_rsp", 5130);
#line 5131
    return (1);
  } else {

  }
#line 5134
  if (sd_card->pre_cmd_err != 0) {
#line 5135
    sd_card->pre_cmd_err = 0;
#line 5136
    set_sense_type(chip, lun, 1);
#line 5137
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_get_cmd_rsp", 5137);
#line 5138
    return (1);
  } else {

  }
#line 5141
  data_len = (u16 )((int )((short )((int )*(srb->cmnd + 7UL) << 8)) | (int )((short )*(srb->cmnd + 8UL)));
#line 5143
  if ((unsigned int )sd_card->last_rsp_type == 4U) {
#line 5144
    set_sense_type(chip, lun, 6);
#line 5145
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_get_cmd_rsp", 5145);
#line 5146
    return (1);
  } else
#line 5147
  if ((unsigned int )sd_card->last_rsp_type == 2U) {
#line 5148
    count = (unsigned int )data_len <= 16U ? (int )data_len : 17;
  } else {
#line 5150
    count = (unsigned int )data_len <= 5U ? (int )data_len : 6;
  }
#line 5152
  rtsx_stor_set_xfer_buf((unsigned char *)(& sd_card->rsp), (unsigned int )count,
                         srb);
#line 5154
  descriptor.modname = "rts5208";
#line 5154
  descriptor.function = "sd_get_cmd_rsp";
#line 5154
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5154
  descriptor.format = "Response length: %d\n";
#line 5154
  descriptor.lineno = 5154U;
#line 5154
  descriptor.flags = 0U;
#line 5154
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 5154
  if (tmp___0 != 0L) {
#line 5154
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5154
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Response length: %d\n",
                      (int )data_len);
  } else {

  }
#line 5155
  descriptor___0.modname = "rts5208";
#line 5155
  descriptor___0.function = "sd_get_cmd_rsp";
#line 5155
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5155
  descriptor___0.format = "Response: 0x%x 0x%x 0x%x 0x%x\n";
#line 5155
  descriptor___0.lineno = 5157U;
#line 5155
  descriptor___0.flags = 0U;
#line 5155
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 5155
  if (tmp___2 != 0L) {
#line 5155
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5155
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Response: 0x%x 0x%x 0x%x 0x%x\n",
                      (int )sd_card->rsp[0], (int )sd_card->rsp[1], (int )sd_card->rsp[2],
                      (int )sd_card->rsp[3]);
  } else {

  }
#line 5159
  scsi_set_resid(srb, 0);
#line 5160
  return (0);
}
}
#line 5163 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_hw_rst(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  unsigned int lun ;
  int retval ;

  {
#line 5165
  sd_card = & chip->sd_card;
#line 5166
  lun = (unsigned int )(srb->device)->lun;
#line 5169
  if (sd_card->sd_pass_thru_en == 0) {
#line 5170
    set_sense_type(chip, lun, 6);
#line 5171
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_hw_rst", 5171);
#line 5172
    return (1);
  } else {

  }
#line 5175
  if (sd_card->pre_cmd_err != 0) {
#line 5176
    sd_card->pre_cmd_err = 0;
#line 5177
    set_sense_type(chip, lun, 1);
#line 5178
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_hw_rst", 5178);
#line 5179
    return (1);
  } else {

  }
#line 5182
  if (((((((unsigned int )*(srb->cmnd + 2UL) != 83U || (unsigned int )*(srb->cmnd + 3UL) != 68U) || (unsigned int )*(srb->cmnd + 4UL) != 32U) || (unsigned int )*(srb->cmnd + 5UL) != 67U) || (unsigned int )*(srb->cmnd + 6UL) != 97U) || (unsigned int )*(srb->cmnd + 7UL) != 114U) || (unsigned int )*(srb->cmnd + 8UL) != 100U) {
#line 5186
    set_sense_type(chip, lun, 6);
#line 5187
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_hw_rst", 5187);
#line 5188
    return (1);
  } else {

  }
#line 5191
  switch ((int )*(srb->cmnd + 1UL) & 15) {
  case 0: ;
#line 5194
  if ((unsigned int )*(srb->cmnd + 9UL) == 100U) {
#line 5195
    sd_card->sd_lock_status = (u8 )((unsigned int )sd_card->sd_lock_status | 2U);
  } else {

  }
#line 5197
  retval = reset_sd_card(chip);
#line 5198
  if (retval != 0) {
#line 5200
    sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 253U;
#line 5202
    set_sense_type(chip, lun, 2);
#line 5203
    sd_card->pre_cmd_err = 1;
#line 5204
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_hw_rst", 5204);
#line 5205
    return (1);
  } else {

  }
#line 5208
  sd_card->sd_lock_status = (unsigned int )sd_card->sd_lock_status & 253U;
#line 5210
  goto ldv_39162;
  case 1: 
#line 5213
  retval = soft_reset_sd_card(chip);
#line 5214
  if (retval != 0) {
#line 5215
    set_sense_type(chip, lun, 2);
#line 5216
    sd_card->pre_cmd_err = 1;
#line 5217
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_hw_rst", 5217);
#line 5218
    return (1);
  } else {

  }
#line 5220
  goto ldv_39162;
  default: 
#line 5223
  set_sense_type(chip, lun, 6);
#line 5224
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
              "sd_hw_rst", 5224);
#line 5225
  return (1);
  }
  ldv_39162: 
#line 5228
  scsi_set_resid(srb, 0);
#line 5229
  return (0);
}
}
#line 5233 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
void sd_cleanup_work(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 5235
  sd_card = & chip->sd_card;
#line 5237
  if (sd_card->seq_mode != 0) {
#line 5238
    descriptor.modname = "rts5208";
#line 5238
    descriptor.function = "sd_cleanup_work";
#line 5238
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c";
#line 5238
    descriptor.format = "SD: stop transmission\n";
#line 5238
    descriptor.lineno = 5238U;
#line 5238
    descriptor.flags = 0U;
#line 5238
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 5238
    if (tmp___0 != 0L) {
#line 5238
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 5238
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "SD: stop transmission\n");
    } else {

    }
#line 5239
    sd_stop_seq_mode(chip);
#line 5240
    sd_card->cleanup_counter = 0;
  } else {

  }
#line 5242
  return;
}
}
#line 5244 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int sd_power_off_card3v3(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 5248
  retval = disable_card_clock(chip, 4);
#line 5249
  if (retval != 0) {
#line 5250
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_power_off_card3v3", 5250);
#line 5251
    return (1);
  } else {

  }
#line 5254
  retval = rtsx_write_register(chip, 64853, 4, 0);
#line 5255
  if (retval != 0) {
#line 5256
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "sd_power_off_card3v3", 5256);
#line 5257
    return (retval);
  } else {

  }
#line 5260
  if (chip->ft2_fast_mode == 0) {
#line 5261
    retval = card_power_off(chip, 4);
#line 5262
    if (retval != 0) {
#line 5263
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_power_off_card3v3", 5263);
#line 5264
      return (1);
    } else {

    }
#line 5267
    tmp = get_current();
#line 5267
    tmp->task_state_change = 0UL;
#line 5267
    __ret = 1L;
#line 5267
    switch (8UL) {
    case 1UL: 
#line 5267
    tmp___0 = get_current();
#line 5267
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 5267
    goto ldv_39178;
    case 2UL: 
#line 5267
    tmp___1 = get_current();
#line 5267
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 5267
    goto ldv_39178;
    case 4UL: 
#line 5267
    tmp___2 = get_current();
#line 5267
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 5267
    goto ldv_39178;
    case 8UL: 
#line 5267
    tmp___3 = get_current();
#line 5267
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 5267
    goto ldv_39178;
    default: 
#line 5267
    __xchg_wrong_size();
    }
    ldv_39178: 
#line 5267
    schedule_timeout(12L);
  } else {

  }
#line 5270
  if (chip->asic_code != 0) {
#line 5271
    retval = sd_pull_ctl_disable(chip);
#line 5272
    if (retval != 0) {
#line 5273
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_power_off_card3v3", 5273);
#line 5274
      return (1);
    } else {

    }
  } else {
#line 5277
    retval = rtsx_write_register(chip, 64541, 40, 8);
#line 5280
    if (retval != 0) {
#line 5281
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                  "sd_power_off_card3v3", 5281);
#line 5282
      return (retval);
    } else {

    }
  }
#line 5286
  return (0);
}
}
#line 5289 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c"
int release_sd_card(struct rtsx_chip *chip ) 
{ 
  struct sd_info *sd_card ;
  int retval ;

  {
#line 5291
  sd_card = & chip->sd_card;
#line 5294
  chip->card_ready = (unsigned int )chip->card_ready & 251U;
#line 5295
  chip->card_fail = (unsigned int )chip->card_fail & 251U;
#line 5296
  chip->card_wp = (unsigned int )chip->card_wp & 251U;
#line 5298
  chip->sd_io = 0U;
#line 5299
  chip->sd_int = 0U;
#line 5302
  sd_card->sd_lock_status = 0U;
#line 5303
  sd_card->sd_erase_status = 0U;
#line 5306
  memset((void *)(& sd_card->raw_csd), 0, 16UL);
#line 5307
  memset((void *)(& sd_card->raw_scr), 0, 8UL);
#line 5309
  retval = sd_power_off_card3v3(chip);
#line 5310
  if (retval != 0) {
#line 5311
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.c",
                "release_sd_card", 5311);
#line 5312
    return (1);
  } else {

  }
#line 5315
  return (0);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/sd.o.c.prepared"
int ldv_scsi_add_host_with_dma_57(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_63(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 1075 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static void rtsx_clear_xd_error(struct rtsx_chip *chip ) 
{ 


  {
#line 1077
  rtsx_write_register(chip, 64852, 34, 34);
#line 1078
  return;
}
}
#line 179 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/xd.h"
int xd_delay_write(struct rtsx_chip *chip ) ;
#line 34 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_build_l2p_tbl(struct rtsx_chip *chip , int zone_no ) ;
#line 35
static int xd_init_page(struct rtsx_chip *chip , u32 phy_blk , u16 logoff , u8 start_page ,
                        u8 end_page ) ;
#line 38 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
__inline static void xd_set_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct xd_info *xd_card ;

  {
#line 40
  xd_card = & chip->xd_card;
#line 42
  xd_card->err_code = err_code;
#line 43
  return;
}
}
#line 52 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_set_init_para(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int retval ;

  {
#line 54
  xd_card = & chip->xd_card;
#line 57
  if (chip->asic_code != 0) {
#line 58
    xd_card->xd_clock = 47;
  } else {
#line 60
    xd_card->xd_clock = 4;
  }
#line 62
  retval = switch_clock(chip, xd_card->xd_clock);
#line 63
  if (retval != 0) {
#line 64
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_set_init_para", 64);
#line 65
    return (1);
  } else {

  }
#line 68
  return (0);
}
}
#line 71 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_switch_clock(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int retval ;

  {
#line 73
  xd_card = & chip->xd_card;
#line 76
  retval = select_card(chip, 16);
#line 77
  if (retval != 0) {
#line 78
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_switch_clock", 78);
#line 79
    return (1);
  } else {

  }
#line 82
  retval = switch_clock(chip, xd_card->xd_clock);
#line 83
  if (retval != 0) {
#line 84
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_switch_clock", 84);
#line 85
    return (1);
  } else {

  }
#line 88
  return (0);
}
}
#line 91 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_read_id(struct rtsx_chip *chip , u8 id_cmd , u8 *id_buf , u8 buf_len ) 
{ 
  int retval ;
  int i ;
  u8 *ptr ;
  u8 *tmp ;

  {
#line 96
  chip->ci = 0;
#line 98
  rtsx_add_cmd(chip, 1, 64794, 255, (int )id_cmd);
#line 99
  rtsx_add_cmd(chip, 1, 64787, 255, 131);
#line 101
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 104
  i = 0;
#line 104
  goto ldv_38272;
  ldv_38271: 
#line 105
  rtsx_add_cmd(chip, 0, (int )((unsigned int )((unsigned short )i) + 64790U), 0, 0);
#line 104
  i = i + 1;
  ldv_38272: ;
#line 104
  if (i <= 3) {
#line 106
    goto ldv_38271;
  } else {

  }
#line 107
  retval = rtsx_send_cmd(chip, 16, 20);
#line 108
  if (retval < 0) {
#line 109
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_id", 109);
#line 110
    return (1);
  } else {

  }
#line 113
  tmp = rtsx_get_cmd_data(chip);
#line 113
  ptr = tmp + 1UL;
#line 114
  if ((unsigned long )id_buf != (unsigned long )((u8 *)0U) && (unsigned int )buf_len != 0U) {
#line 115
    if ((unsigned int )buf_len > 4U) {
#line 116
      buf_len = 4U;
    } else {

    }
#line 117
    memcpy((void *)id_buf, (void const   *)ptr, (size_t )buf_len);
  } else {

  }
#line 120
  return (0);
}
}
#line 123 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_assign_phy_addr(struct rtsx_chip *chip , u32 addr , u8 mode ) 
{ 
  struct xd_info *xd_card ;

  {
#line 125
  xd_card = & chip->xd_card;
#line 127
  switch ((int )mode) {
  case 1: 
#line 129
  rtsx_add_cmd(chip, 1, 64789, 255, 0);
#line 130
  rtsx_add_cmd(chip, 1, 64790, 255, (int )((unsigned char )addr));
#line 131
  rtsx_add_cmd(chip, 1, 64791, 255, (int )((unsigned char )(addr >> 8)));
#line 133
  rtsx_add_cmd(chip, 1, 64792, 255, (int )((unsigned char )(addr >> 16)));
#line 135
  rtsx_add_cmd(chip, 1, 64788, 255, (int )xd_card->addr_cycle);
#line 137
  goto ldv_38282;
  case 2: 
#line 140
  rtsx_add_cmd(chip, 1, 64789, 255, (int )((unsigned char )addr));
#line 141
  rtsx_add_cmd(chip, 1, 64790, 255, (int )((unsigned char )(addr >> 8)));
#line 143
  rtsx_add_cmd(chip, 1, 64791, 255, (int )((unsigned char )(addr >> 16)));
#line 145
  rtsx_add_cmd(chip, 1, 64788, 255, (int )((unsigned int )xd_card->addr_cycle + 255U));
#line 148
  goto ldv_38282;
  default: ;
#line 151
  goto ldv_38282;
  }
  ldv_38282: ;
#line 154
  return;
}
}
#line 155 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_read_redundant(struct rtsx_chip *chip , u32 page_addr , u8 *buf , int buf_len ) 
{ 
  int retval ;
  int i ;
  u8 *ptr ;
  u8 *tmp ;

  {
#line 160
  chip->ci = 0;
#line 162
  xd_assign_phy_addr(chip, page_addr, 1);
#line 164
  rtsx_add_cmd(chip, 1, 64787, 255, 132);
#line 166
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 169
  i = 0;
#line 169
  goto ldv_38294;
  ldv_38293: 
#line 170
  rtsx_add_cmd(chip, 0, (int )((unsigned int )((unsigned short )i) + 64796U), 0, 0);
#line 169
  i = i + 1;
  ldv_38294: ;
#line 169
  if (i <= 5) {
#line 171
    goto ldv_38293;
  } else {

  }
#line 172
  i = 0;
#line 172
  goto ldv_38297;
  ldv_38296: 
#line 173
  rtsx_add_cmd(chip, 0, (int )((unsigned int )((unsigned short )i) + 64809U), 0, 0);
#line 172
  i = i + 1;
  ldv_38297: ;
#line 172
  if (i <= 3) {
#line 174
    goto ldv_38296;
  } else {

  }
#line 175
  rtsx_add_cmd(chip, 0, 64804, 0, 0);
#line 177
  retval = rtsx_send_cmd(chip, 16, 500);
#line 178
  if (retval < 0) {
#line 179
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_redundant", 179);
#line 180
    return (1);
  } else {

  }
#line 183
  if ((unsigned long )buf != (unsigned long )((u8 *)0U) && buf_len != 0) {
#line 184
    tmp = rtsx_get_cmd_data(chip);
#line 184
    ptr = tmp + 1UL;
#line 186
    if (buf_len > 11) {
#line 187
      buf_len = 11;
    } else {

    }
#line 188
    memcpy((void *)buf, (void const   *)ptr, (size_t )buf_len);
  } else {

  }
#line 191
  return (0);
}
}
#line 194 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_read_data_from_ppb(struct rtsx_chip *chip , int offset , u8 *buf , int buf_len ) 
{ 
  int retval ;
  int i ;
  u8 *tmp ;

  {
#line 199
  if ((unsigned long )buf == (unsigned long )((u8 *)0U) || buf_len < 0) {
#line 200
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_data_from_ppb", 200);
#line 201
    return (1);
  } else {

  }
#line 204
  chip->ci = 0;
#line 206
  i = 0;
#line 206
  goto ldv_38311;
  ldv_38310: 
#line 207
  rtsx_add_cmd(chip, 0, (int )((unsigned int )((int )((u16 )offset) + (int )((u16 )i)) + 64000U),
               0, 0);
#line 206
  i = i + 1;
  ldv_38311: ;
#line 206
  if (i < buf_len) {
#line 208
    goto ldv_38310;
  } else {

  }
#line 210
  retval = rtsx_send_cmd(chip, 0, 250);
#line 211
  if (retval < 0) {
#line 212
    rtsx_clear_xd_error(chip);
#line 213
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_data_from_ppb", 213);
#line 214
    return (1);
  } else {

  }
#line 217
  tmp = rtsx_get_cmd_data(chip);
#line 217
  memcpy((void *)buf, (void const   *)tmp, (size_t )buf_len);
#line 219
  return (0);
}
}
#line 222 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_read_cis(struct rtsx_chip *chip , u32 page_addr , u8 *buf , int buf_len ) 
{ 
  int retval ;
  u8 reg ;
  u8 ecc_bit ;
  u8 ecc_byte ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  u8 ecc_bit___0 ;
  u8 ecc_byte___0 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___7 ;
  long tmp___8 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___9 ;
  long tmp___10 ;

  {
#line 228
  if ((unsigned long )buf == (unsigned long )((u8 *)0U) || buf_len <= 9) {
#line 229
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 229);
#line 230
    return (1);
  } else {

  }
#line 233
  chip->ci = 0;
#line 235
  xd_assign_phy_addr(chip, page_addr, 1);
#line 237
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 239
  rtsx_add_cmd(chip, 1, 64795, 255, 1);
#line 240
  rtsx_add_cmd(chip, 1, 64813, 1, 1);
#line 243
  rtsx_add_cmd(chip, 1, 64787, 255, 133);
#line 245
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 248
  retval = rtsx_send_cmd(chip, 16, 250);
#line 249
  if (retval == -110) {
#line 250
    rtsx_clear_xd_error(chip);
#line 251
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 251);
#line 252
    return (1);
  } else {

  }
#line 255
  retval = rtsx_read_register(chip, 64796, & reg);
#line 256
  if (retval != 0) {
#line 257
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 257);
#line 258
    return (retval);
  } else {

  }
#line 260
  if ((unsigned int )reg != 255U) {
#line 261
    rtsx_clear_xd_error(chip);
#line 262
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 262);
#line 263
    return (1);
  } else {

  }
#line 266
  retval = rtsx_read_register(chip, 64786, & reg);
#line 267
  if (retval != 0) {
#line 268
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 268);
#line 269
    return (retval);
  } else {

  }
#line 271
  if (((int )reg & 16) == 0 || ((int )reg & 32) == 0) {
#line 272
    retval = xd_read_data_from_ppb(chip, 0, buf, buf_len);
#line 273
    if (retval != 0) {
#line 274
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_cis", 274);
#line 275
      return (1);
    } else {

    }
#line 277
    if (((int )reg & 16) != 0) {
#line 280
      retval = rtsx_read_register(chip, 64805, & ecc_bit);
#line 282
      if (retval != 0) {
#line 283
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_read_cis", 283);
#line 284
        return (retval);
      } else {

      }
#line 286
      retval = rtsx_read_register(chip, 64806, & ecc_byte);
#line 288
      if (retval != 0) {
#line 289
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_read_cis", 289);
#line 290
        return (retval);
      } else {

      }
#line 293
      descriptor.modname = "rts5208";
#line 293
      descriptor.function = "xd_read_cis";
#line 293
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 293
      descriptor.format = "ECC_BIT1 = 0x%x, ECC_BYTE1 = 0x%x\n";
#line 293
      descriptor.lineno = 294U;
#line 293
      descriptor.flags = 0U;
#line 293
      tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 293
      if (tmp___0 != 0L) {
#line 293
        tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 293
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "ECC_BIT1 = 0x%x, ECC_BYTE1 = 0x%x\n",
                          (int )ecc_bit, (int )ecc_byte);
      } else {

      }
#line 295
      if ((int )ecc_byte < buf_len) {
#line 296
        descriptor___0.modname = "rts5208";
#line 296
        descriptor___0.function = "xd_read_cis";
#line 296
        descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 296
        descriptor___0.format = "Before correct: 0x%x\n";
#line 296
        descriptor___0.lineno = 297U;
#line 296
        descriptor___0.flags = 0U;
#line 296
        tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 296
        if (tmp___2 != 0L) {
#line 296
          tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 296
          __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Before correct: 0x%x\n",
                            (int )*(buf + (unsigned long )ecc_byte));
        } else {

        }
#line 298
        *(buf + (unsigned long )ecc_byte) = (u8 )((int )((signed char )*(buf + (unsigned long )ecc_byte)) ^ (int )((signed char )(1 << (int )ecc_bit)));
#line 299
        descriptor___1.modname = "rts5208";
#line 299
        descriptor___1.function = "xd_read_cis";
#line 299
        descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 299
        descriptor___1.format = "After correct: 0x%x\n";
#line 299
        descriptor___1.lineno = 300U;
#line 299
        descriptor___1.flags = 0U;
#line 299
        tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 299
        if (tmp___4 != 0L) {
#line 299
          tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 299
          __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "After correct: 0x%x\n",
                            (int )*(buf + (unsigned long )ecc_byte));
        } else {

        }
      } else {

      }
    } else {

    }
  } else
#line 303
  if (((int )reg & 64) == 0 || (int )((signed char )reg) >= 0) {
#line 304
    rtsx_clear_xd_error(chip);
#line 306
    retval = xd_read_data_from_ppb(chip, 256, buf, buf_len);
#line 307
    if (retval != 0) {
#line 308
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_cis", 308);
#line 309
      return (1);
    } else {

    }
#line 311
    if (((int )reg & 64) != 0) {
#line 314
      retval = rtsx_read_register(chip, 64807, & ecc_bit___0);
#line 316
      if (retval != 0) {
#line 317
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_read_cis", 317);
#line 318
        return (retval);
      } else {

      }
#line 320
      retval = rtsx_read_register(chip, 64808, & ecc_byte___0);
#line 322
      if (retval != 0) {
#line 323
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_read_cis", 323);
#line 324
        return (retval);
      } else {

      }
#line 327
      descriptor___2.modname = "rts5208";
#line 327
      descriptor___2.function = "xd_read_cis";
#line 327
      descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 327
      descriptor___2.format = "ECC_BIT2 = 0x%x, ECC_BYTE2 = 0x%x\n";
#line 327
      descriptor___2.lineno = 328U;
#line 327
      descriptor___2.flags = 0U;
#line 327
      tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 327
      if (tmp___6 != 0L) {
#line 327
        tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 327
        __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "ECC_BIT2 = 0x%x, ECC_BYTE2 = 0x%x\n",
                          (int )ecc_bit___0, (int )ecc_byte___0);
      } else {

      }
#line 329
      if ((int )ecc_byte___0 < buf_len) {
#line 330
        descriptor___3.modname = "rts5208";
#line 330
        descriptor___3.function = "xd_read_cis";
#line 330
        descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 330
        descriptor___3.format = "Before correct: 0x%x\n";
#line 330
        descriptor___3.lineno = 331U;
#line 330
        descriptor___3.flags = 0U;
#line 330
        tmp___8 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 330
        if (tmp___8 != 0L) {
#line 330
          tmp___7 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 330
          __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___7, "Before correct: 0x%x\n",
                            (int )*(buf + (unsigned long )ecc_byte___0));
        } else {

        }
#line 332
        *(buf + (unsigned long )ecc_byte___0) = (u8 )((int )((signed char )*(buf + (unsigned long )ecc_byte___0)) ^ (int )((signed char )(1 << (int )ecc_bit___0)));
#line 333
        descriptor___4.modname = "rts5208";
#line 333
        descriptor___4.function = "xd_read_cis";
#line 333
        descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 333
        descriptor___4.format = "After correct: 0x%x\n";
#line 333
        descriptor___4.lineno = 334U;
#line 333
        descriptor___4.flags = 0U;
#line 333
        tmp___10 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 333
        if (tmp___10 != 0L) {
#line 333
          tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 333
          __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___9, "After correct: 0x%x\n",
                            (int )*(buf + (unsigned long )ecc_byte___0));
        } else {

        }
      } else {

      }
    } else {

    }
  } else {
#line 338
    rtsx_clear_xd_error(chip);
#line 339
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_cis", 339);
#line 340
    return (1);
  }
#line 343
  return (0);
}
}
#line 346 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_fill_pull_ctl_disable(struct rtsx_chip *chip ) 
{ 


  {
#line 348
  if ((unsigned int )chip->product_id == 21000U) {
#line 349
    rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 351
    rtsx_add_cmd(chip, 1, 64865, 255, 85);
#line 353
    rtsx_add_cmd(chip, 1, 64866, 255, 75);
#line 355
    rtsx_add_cmd(chip, 1, 64867, 255, 85);
#line 357
    rtsx_add_cmd(chip, 1, 64868, 255, 180);
#line 359
    rtsx_add_cmd(chip, 1, 64869, 255, 5);
  } else
#line 361
  if ((unsigned int )chip->product_id == 21128U) {
#line 362
    if (chip->baro_pkg == 0) {
#line 363
      rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 365
      rtsx_add_cmd(chip, 1, 64865, 255, 85);
#line 367
      rtsx_add_cmd(chip, 1, 64866, 255, 75);
#line 369
      rtsx_add_cmd(chip, 1, 64867, 255, 105);
    } else {

    }
  } else {

  }
#line 371
  return;
}
}
#line 375 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_fill_pull_ctl_stage1_barossa(struct rtsx_chip *chip ) 
{ 


  {
#line 377
  if (chip->baro_pkg == 0) {
#line 378
    rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 379
    rtsx_add_cmd(chip, 1, 64865, 255, 85);
#line 380
    rtsx_add_cmd(chip, 1, 64866, 255, 75);
#line 381
    rtsx_add_cmd(chip, 1, 64867, 255, 85);
  } else {

  }
#line 383
  return;
}
}
#line 385 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_fill_pull_ctl_enable(struct rtsx_chip *chip ) 
{ 


  {
#line 387
  if ((unsigned int )chip->product_id == 21000U) {
#line 388
    rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 390
    rtsx_add_cmd(chip, 1, 64865, 255, 85);
#line 392
    rtsx_add_cmd(chip, 1, 64866, 255, 83);
#line 394
    rtsx_add_cmd(chip, 1, 64867, 255, 169);
#line 396
    rtsx_add_cmd(chip, 1, 64868, 255, 180);
#line 398
    rtsx_add_cmd(chip, 1, 64869, 255, 5);
  } else
#line 400
  if ((unsigned int )chip->product_id == 21128U) {
#line 401
    if (chip->baro_pkg == 0) {
#line 402
      rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 404
      rtsx_add_cmd(chip, 1, 64865, 255, 85);
#line 406
      rtsx_add_cmd(chip, 1, 64866, 255, 83);
#line 408
      rtsx_add_cmd(chip, 1, 64867, 255, 169);
    } else {

    }
  } else {

  }
#line 410
  return;
}
}
#line 414 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_pull_ctl_disable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 418
  if ((unsigned int )chip->product_id == 21000U) {
#line 419
    retval = rtsx_write_register(chip, 64864, 255, 85);
#line 421
    if (retval != 0) {
#line 422
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 422);
#line 423
      return (retval);
    } else {

    }
#line 425
    retval = rtsx_write_register(chip, 64865, 255, 85);
#line 427
    if (retval != 0) {
#line 428
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 428);
#line 429
      return (retval);
    } else {

    }
#line 431
    retval = rtsx_write_register(chip, 64866, 255, 75);
#line 433
    if (retval != 0) {
#line 434
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 434);
#line 435
      return (retval);
    } else {

    }
#line 437
    retval = rtsx_write_register(chip, 64867, 255, 85);
#line 439
    if (retval != 0) {
#line 440
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 440);
#line 441
      return (retval);
    } else {

    }
#line 443
    retval = rtsx_write_register(chip, 64868, 255, 180);
#line 445
    if (retval != 0) {
#line 446
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 446);
#line 447
      return (retval);
    } else {

    }
#line 449
    retval = rtsx_write_register(chip, 64869, 255, 5);
#line 451
    if (retval != 0) {
#line 452
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_pull_ctl_disable", 452);
#line 453
      return (retval);
    } else {

    }
  } else
#line 455
  if ((unsigned int )chip->product_id == 21128U) {
#line 456
    if (chip->baro_pkg == 0) {
#line 457
      retval = rtsx_write_register(chip, 64864, 255, 85);
#line 459
      if (retval != 0) {
#line 460
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_pull_ctl_disable", 460);
#line 461
        return (retval);
      } else {

      }
#line 463
      retval = rtsx_write_register(chip, 64865, 255, 85);
#line 465
      if (retval != 0) {
#line 466
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_pull_ctl_disable", 466);
#line 467
        return (retval);
      } else {

      }
#line 469
      retval = rtsx_write_register(chip, 64866, 255, 75);
#line 471
      if (retval != 0) {
#line 472
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_pull_ctl_disable", 472);
#line 473
        return (retval);
      } else {

      }
#line 475
      retval = rtsx_write_register(chip, 64867, 255, 105);
#line 477
      if (retval != 0) {
#line 478
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_pull_ctl_disable", 478);
#line 479
        return (retval);
      } else {

      }
    } else {

    }
  } else {

  }
#line 484
  return (0);
}
}
#line 487 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int reset_xd(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int retval ;
  int i ;
  int j ;
  u8 *ptr ;
  u8 id_buf[4U] ;
  u8 redunt[11U] ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct _ddebug descriptor ;
  struct device *tmp___9 ;
  long tmp___10 ;
  struct task_struct *tmp___11 ;
  long volatile   __ret___1 ;
  struct task_struct *tmp___12 ;
  struct task_struct *tmp___13 ;
  struct task_struct *tmp___14 ;
  struct task_struct *tmp___15 ;
  u8 *tmp___16 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___17 ;
  long tmp___18 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___19 ;
  long tmp___20 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___21 ;
  long tmp___22 ;
  u32 page_addr ;
  int tmp___23 ;
  u8 buf[10U] ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___24 ;
  long tmp___25 ;

  {
#line 489
  xd_card = & chip->xd_card;
#line 493
  retval = select_card(chip, 16);
#line 494
  if (retval != 0) {
#line 495
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 495);
#line 496
    return (1);
  } else {

  }
#line 499
  chip->ci = 0;
#line 501
  rtsx_add_cmd(chip, 1, 64813, 255, 2);
#line 503
  if (chip->asic_code != 0) {
#line 504
    if ((unsigned int )chip->product_id != 21128U) {
#line 505
      xd_fill_pull_ctl_disable(chip);
    } else {
#line 507
      xd_fill_pull_ctl_stage1_barossa(chip);
    }
  } else {
#line 509
    rtsx_add_cmd(chip, 1, 64541, 255, 250);
  }
#line 513
  if (chip->ft2_fast_mode == 0) {
#line 514
    rtsx_add_cmd(chip, 1, 64784, 8, 0);
  } else {

  }
#line 517
  rtsx_add_cmd(chip, 1, 64853, 2, 0);
#line 519
  retval = rtsx_send_cmd(chip, 16, 100);
#line 520
  if (retval < 0) {
#line 521
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 521);
#line 522
    return (1);
  } else {

  }
#line 525
  if (chip->ft2_fast_mode == 0) {
#line 526
    retval = card_power_off(chip, 16);
#line 527
    if (retval != 0) {
#line 528
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "reset_xd", 528);
#line 529
      return (1);
    } else {

    }
#line 532
    tmp = get_current();
#line 532
    tmp->task_state_change = 0UL;
#line 532
    __ret = 1L;
#line 532
    switch (8UL) {
    case 1UL: 
#line 532
    tmp___0 = get_current();
#line 532
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 532
    goto ldv_38359;
    case 2UL: 
#line 532
    tmp___1 = get_current();
#line 532
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 532
    goto ldv_38359;
    case 4UL: 
#line 532
    tmp___2 = get_current();
#line 532
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 532
    goto ldv_38359;
    case 8UL: 
#line 532
    tmp___3 = get_current();
#line 532
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 532
    goto ldv_38359;
    default: 
#line 532
    __xchg_wrong_size();
    }
    ldv_38359: 
#line 532
    schedule_timeout(62L);
#line 534
    chip->ci = 0;
#line 536
    if (chip->asic_code != 0) {
#line 537
      xd_fill_pull_ctl_enable(chip);
    } else {
#line 539
      rtsx_add_cmd(chip, 1, 64541, 255, 252);
    }
#line 544
    retval = rtsx_send_cmd(chip, 16, 100);
#line 545
    if (retval < 0) {
#line 546
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "reset_xd", 546);
#line 547
      return (1);
    } else {

    }
#line 550
    retval = card_power_on(chip, 16);
#line 551
    if (retval != 0) {
#line 552
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "reset_xd", 552);
#line 553
      return (1);
    } else {

    }
#line 557
    tmp___4 = get_current();
#line 557
    tmp___4->task_state_change = 0UL;
#line 557
    __ret___0 = 1L;
#line 557
    switch (8UL) {
    case 1UL: 
#line 557
    tmp___5 = get_current();
#line 557
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 557
    goto ldv_38367;
    case 2UL: 
#line 557
    tmp___6 = get_current();
#line 557
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                         "cc");
#line 557
    goto ldv_38367;
    case 4UL: 
#line 557
    tmp___7 = get_current();
#line 557
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                         "cc");
#line 557
    goto ldv_38367;
    case 8UL: 
#line 557
    tmp___8 = get_current();
#line 557
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 557
    goto ldv_38367;
    default: 
#line 557
    __xchg_wrong_size();
    }
    ldv_38367: 
#line 557
    schedule_timeout(12L);
#line 558
    if (((int )chip->ocp_stat & 6) != 0) {
#line 559
      descriptor.modname = "rts5208";
#line 559
      descriptor.function = "reset_xd";
#line 559
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 559
      descriptor.format = "Over current, OCPSTAT is 0x%x\n";
#line 559
      descriptor.lineno = 560U;
#line 559
      descriptor.flags = 0U;
#line 559
      tmp___10 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 559
      if (tmp___10 != 0L) {
#line 559
        tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 559
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___9, "Over current, OCPSTAT is 0x%x\n",
                          (int )chip->ocp_stat);
      } else {

      }
#line 561
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "reset_xd", 561);
#line 562
      return (1);
    } else {

    }
  } else {

  }
#line 567
  chip->ci = 0;
#line 569
  if (chip->ft2_fast_mode != 0) {
#line 570
    if (chip->asic_code != 0) {
#line 571
      xd_fill_pull_ctl_enable(chip);
    } else {
#line 573
      rtsx_add_cmd(chip, 1, 64541, 255, 252);
    }
  } else {

  }
#line 579
  rtsx_add_cmd(chip, 1, 64853, 2, 2);
#line 580
  rtsx_add_cmd(chip, 1, 64786, 2, 2);
#line 582
  retval = rtsx_send_cmd(chip, 16, 100);
#line 583
  if (retval < 0) {
#line 584
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 584);
#line 585
    return (1);
  } else {

  }
#line 588
  if (chip->ft2_fast_mode == 0) {
#line 589
    tmp___11 = get_current();
#line 589
    tmp___11->task_state_change = 0UL;
#line 589
    __ret___1 = 1L;
#line 589
    switch (8UL) {
    case 1UL: 
#line 589
    tmp___12 = get_current();
#line 589
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___1), "+m" (tmp___12->state): : "memory",
                         "cc");
#line 589
    goto ldv_38376;
    case 2UL: 
#line 589
    tmp___13 = get_current();
#line 589
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___1), "+m" (tmp___13->state): : "memory",
                         "cc");
#line 589
    goto ldv_38376;
    case 4UL: 
#line 589
    tmp___14 = get_current();
#line 589
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___1), "+m" (tmp___14->state): : "memory",
                         "cc");
#line 589
    goto ldv_38376;
    case 8UL: 
#line 589
    tmp___15 = get_current();
#line 589
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___1), "+m" (tmp___15->state): : "memory",
                         "cc");
#line 589
    goto ldv_38376;
    default: 
#line 589
    __xchg_wrong_size();
    }
    ldv_38376: 
#line 589
    schedule_timeout(50L);
  } else {

  }
#line 591
  retval = xd_set_init_para(chip);
#line 592
  if (retval != 0) {
#line 593
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 593);
#line 594
    return (1);
  } else {

  }
#line 598
  i = 0;
#line 598
  goto ldv_38403;
  ldv_38402: 
#line 599
  chip->ci = 0;
#line 601
  rtsx_add_cmd(chip, 1, 64785, 255, (int )((unsigned int )((u8 )((i + 2) + i * 8)) * 4U + 3U));
#line 604
  rtsx_add_cmd(chip, 1, 64814, 255, (int )((unsigned int )((u8 )((i + 4) + (i + 3) * 8)) * 4U + 3U));
#line 608
  rtsx_add_cmd(chip, 1, 64787, 255, 128);
#line 610
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 613
  rtsx_add_cmd(chip, 0, 64794, 0, 0);
#line 614
  rtsx_add_cmd(chip, 0, 64786, 0, 0);
#line 616
  retval = rtsx_send_cmd(chip, 16, 100);
#line 617
  if (retval < 0) {
#line 618
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 618);
#line 619
    return (1);
  } else {

  }
#line 622
  tmp___16 = rtsx_get_cmd_data(chip);
#line 622
  ptr = tmp___16 + 1UL;
#line 624
  descriptor___0.modname = "rts5208";
#line 624
  descriptor___0.function = "reset_xd";
#line 624
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 624
  descriptor___0.format = "XD_DAT: 0x%x, XD_CTL: 0x%x\n";
#line 624
  descriptor___0.lineno = 625U;
#line 624
  descriptor___0.flags = 0U;
#line 624
  tmp___18 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 624
  if (tmp___18 != 0L) {
#line 624
    tmp___17 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 624
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___17, "XD_DAT: 0x%x, XD_CTL: 0x%x\n",
                      (int )*ptr, (int )*(ptr + 1UL));
  } else {

  }
#line 627
  if (((int )*ptr & 95) != 64 || ((int )*(ptr + 1UL) & 4) == 0) {
#line 629
    goto ldv_38383;
  } else {

  }
#line 631
  retval = xd_read_id(chip, 144, (u8 *)(& id_buf), 4);
#line 632
  if (retval != 0) {
#line 633
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 633);
#line 634
    return (1);
  } else {

  }
#line 637
  descriptor___1.modname = "rts5208";
#line 637
  descriptor___1.function = "reset_xd";
#line 637
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 637
  descriptor___1.format = "READ_ID: 0x%x 0x%x 0x%x 0x%x\n";
#line 637
  descriptor___1.lineno = 638U;
#line 637
  descriptor___1.flags = 0U;
#line 637
  tmp___20 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 637
  if (tmp___20 != 0L) {
#line 637
    tmp___19 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 637
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___19, "READ_ID: 0x%x 0x%x 0x%x 0x%x\n",
                      (int )id_buf[0], (int )id_buf[1], (int )id_buf[2], (int )id_buf[3]);
  } else {

  }
#line 640
  xd_card->device_code = id_buf[1];
#line 643
  switch ((int )xd_card->device_code) {
  case 227: ;
  case 229: 
#line 646
  xd_card->block_shift = 4U;
#line 647
  xd_card->page_off = 15U;
#line 648
  xd_card->addr_cycle = 3U;
#line 649
  xd_card->zone_cnt = 1;
#line 650
  xd_card->capacity = 8000U;
#line 651
  xd_card->multi_flag = (u8 )((unsigned int )xd_card->multi_flag | 16U);
#line 652
  goto ldv_38387;
  case 230: 
#line 654
  xd_card->block_shift = 4U;
#line 655
  xd_card->page_off = 15U;
#line 656
  xd_card->addr_cycle = 3U;
#line 657
  xd_card->zone_cnt = 1;
#line 658
  xd_card->capacity = 16000U;
#line 659
  goto ldv_38387;
  case 115: 
#line 661
  xd_card->block_shift = 5U;
#line 661
  xd_card->page_off = 31U;
#line 662
  xd_card->addr_cycle = 3U;
#line 663
  xd_card->zone_cnt = 1;
#line 664
  xd_card->capacity = 32000U;
#line 665
  goto ldv_38387;
  case 117: 
#line 667
  xd_card->block_shift = 5U;
#line 667
  xd_card->page_off = 31U;
#line 668
  xd_card->addr_cycle = 3U;
#line 669
  xd_card->zone_cnt = 2;
#line 670
  xd_card->capacity = 64000U;
#line 671
  goto ldv_38387;
  case 118: 
#line 673
  xd_card->block_shift = 5U;
#line 673
  xd_card->page_off = 31U;
#line 674
  xd_card->addr_cycle = 4U;
#line 675
  xd_card->zone_cnt = 4;
#line 676
  xd_card->capacity = 128000U;
#line 677
  goto ldv_38387;
  case 121: 
#line 679
  xd_card->block_shift = 5U;
#line 679
  xd_card->page_off = 31U;
#line 680
  xd_card->addr_cycle = 4U;
#line 681
  xd_card->zone_cnt = 8;
#line 682
  xd_card->capacity = 256000U;
#line 683
  goto ldv_38387;
  case 113: 
#line 685
  xd_card->block_shift = 5U;
#line 685
  xd_card->page_off = 31U;
#line 686
  xd_card->addr_cycle = 4U;
#line 687
  xd_card->zone_cnt = 16;
#line 688
  xd_card->capacity = 512000U;
#line 689
  goto ldv_38387;
  case 220: 
#line 691
  xd_card->block_shift = 5U;
#line 691
  xd_card->page_off = 31U;
#line 692
  xd_card->addr_cycle = 4U;
#line 693
  xd_card->zone_cnt = 32;
#line 694
  xd_card->capacity = 1024000U;
#line 695
  goto ldv_38387;
  case 211: 
#line 697
  xd_card->block_shift = 5U;
#line 697
  xd_card->page_off = 31U;
#line 698
  xd_card->addr_cycle = 4U;
#line 699
  xd_card->zone_cnt = 64;
#line 700
  xd_card->capacity = 2048000U;
#line 701
  goto ldv_38387;
  case 213: 
#line 703
  xd_card->block_shift = 5U;
#line 703
  xd_card->page_off = 31U;
#line 704
  xd_card->addr_cycle = 4U;
#line 705
  xd_card->zone_cnt = 128;
#line 706
  xd_card->capacity = 4096000U;
#line 707
  goto ldv_38387;
  default: ;
#line 709
  goto ldv_38383;
  }
  ldv_38387: 
#line 713
  j = 0;
#line 713
  goto ldv_38400;
  ldv_38399: 
#line 714
  retval = xd_read_id(chip, 144, (u8 *)(& id_buf), 4);
#line 715
  if (retval != 0) {
#line 716
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 716);
#line 717
    return (1);
  } else {

  }
#line 720
  if ((int )id_buf[1] != (int )xd_card->device_code) {
#line 721
    goto ldv_38398;
  } else {

  }
#line 713
  j = j + 1;
  ldv_38400: ;
#line 713
  if (j <= 9) {
#line 715
    goto ldv_38399;
  } else {

  }
  ldv_38398: ;
#line 724
  if (j == 10) {
#line 725
    goto ldv_38401;
  } else {

  }
  ldv_38383: 
#line 598
  i = i + 1;
  ldv_38403: ;
#line 598
  if (i <= 3) {
#line 600
    goto ldv_38402;
  } else {

  }
  ldv_38401: ;
#line 728
  if (i == 4) {
#line 729
    xd_card->block_shift = 0U;
#line 730
    xd_card->page_off = 0U;
#line 731
    xd_card->addr_cycle = 0U;
#line 732
    xd_card->capacity = 0U;
#line 734
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 734);
#line 735
    return (1);
  } else {

  }
#line 738
  retval = xd_read_id(chip, 154, (u8 *)(& id_buf), 4);
#line 739
  if (retval != 0) {
#line 740
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 740);
#line 741
    return (1);
  } else {

  }
#line 743
  descriptor___2.modname = "rts5208";
#line 743
  descriptor___2.function = "reset_xd";
#line 743
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 743
  descriptor___2.format = "READ_xD_ID: 0x%x 0x%x 0x%x 0x%x\n";
#line 743
  descriptor___2.lineno = 744U;
#line 743
  descriptor___2.flags = 0U;
#line 743
  tmp___22 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 743
  if (tmp___22 != 0L) {
#line 743
    tmp___21 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 743
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___21, "READ_xD_ID: 0x%x 0x%x 0x%x 0x%x\n",
                      (int )id_buf[0], (int )id_buf[1], (int )id_buf[2], (int )id_buf[3]);
  } else {

  }
#line 745
  if ((unsigned int )id_buf[2] != 181U) {
#line 746
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 746);
#line 747
    return (1);
  } else {

  }
#line 751
  i = 0;
#line 751
  goto ldv_38416;
  ldv_38415: 
#line 754
  tmp___23 = detect_card_cd(chip, 16);
#line 754
  if (tmp___23 != 0) {
#line 755
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 755);
#line 756
    return (1);
  } else {

  }
#line 759
  page_addr = (unsigned int )i << (int )xd_card->block_shift;
#line 761
  j = 0;
#line 761
  goto ldv_38408;
  ldv_38407: 
#line 762
  retval = xd_read_redundant(chip, page_addr, (u8 *)(& redunt), 11);
#line 763
  if (retval == 0) {
#line 764
    goto ldv_38406;
  } else {

  }
#line 761
  j = j + 1;
  ldv_38408: ;
#line 761
  if (j <= 2) {
#line 763
    goto ldv_38407;
  } else {

  }
  ldv_38406: ;
#line 766
  if (j == 3) {
#line 767
    goto ldv_38409;
  } else {

  }
#line 769
  if ((unsigned int )redunt[1] != 255U) {
#line 770
    goto ldv_38409;
  } else {

  }
#line 772
  j = 0;
#line 773
  if ((unsigned int )redunt[0] != 255U) {
#line 774
    j = 1;
#line 774
    goto ldv_38412;
    ldv_38411: 
#line 775
    retval = xd_read_redundant(chip, page_addr + (u32 )j, (u8 *)(& redunt), 11);
#line 777
    if (retval == 0) {
#line 778
      if ((unsigned int )redunt[0] == 255U) {
#line 779
        goto ldv_38410;
      } else {

      }
    } else {

    }
#line 774
    j = j + 1;
    ldv_38412: ;
#line 774
    if (j <= 8) {
#line 776
      goto ldv_38411;
    } else {

    }
    ldv_38410: ;
#line 783
    if (j == 9) {
#line 784
      goto ldv_38413;
    } else {

    }
  } else {

  }
#line 788
  if ((unsigned int )redunt[1] == 255U && ((int )redunt[10] & 16) != 0) {
#line 792
    page_addr = page_addr + (u32 )j;
#line 794
    retval = xd_read_cis(chip, page_addr, (u8 *)(& buf), 10);
#line 795
    if (retval != 0) {
#line 796
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "reset_xd", 796);
#line 797
      return (1);
    } else {

    }
#line 800
    if ((((((((((unsigned int )buf[0] == 1U && (unsigned int )buf[1] == 3U) && (unsigned int )buf[2] == 217U) && (unsigned int )buf[3] == 1U) && (unsigned int )buf[4] == 255U) && (unsigned int )buf[5] == 24U) && (unsigned int )buf[6] == 2U) && (unsigned int )buf[7] == 223U) && (unsigned int )buf[8] == 1U) && (unsigned int )buf[9] == 32U) {
#line 806
      xd_card->cis_block = (unsigned short )i;
    } else {

    }
  } else {

  }
#line 810
  goto ldv_38413;
  ldv_38409: 
#line 751
  i = i + 1;
  ldv_38416: ;
#line 751
  if (i <= 23) {
#line 753
    goto ldv_38415;
  } else {

  }
  ldv_38413: 
#line 813
  descriptor___3.modname = "rts5208";
#line 813
  descriptor___3.function = "reset_xd";
#line 813
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 813
  descriptor___3.format = "CIS block: 0x%x\n";
#line 813
  descriptor___3.lineno = 813U;
#line 813
  descriptor___3.flags = 0U;
#line 813
  tmp___25 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 813
  if (tmp___25 != 0L) {
#line 813
    tmp___24 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 813
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___24, "CIS block: 0x%x\n",
                      (int )xd_card->cis_block);
  } else {

  }
#line 814
  if ((unsigned int )xd_card->cis_block == 65535U) {
#line 815
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd", 815);
#line 816
    return (1);
  } else {

  }
#line 819
  chip->capacity[(int )chip->card2lun[16]] = xd_card->capacity;
#line 821
  return (0);
}
}
#line 824 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_check_data_blank(u8 *redunt ) 
{ 
  int i ;

  {
#line 828
  i = 0;
#line 828
  goto ldv_38423;
  ldv_38422: ;
#line 829
  if ((unsigned int )*(redunt + (unsigned long )i) != 255U) {
#line 830
    return (0);
  } else {

  }
#line 828
  i = i + 1;
  ldv_38423: ;
#line 828
  if (i <= 5) {
#line 830
    goto ldv_38422;
  } else {

  }

#line 833
  if (((int )*(redunt + 10UL) & 192) != 192) {
#line 835
    return (0);
  } else {

  }
#line 838
  i = 0;
#line 838
  goto ldv_38426;
  ldv_38425: ;
#line 839
  if ((unsigned int )*(redunt + (unsigned long )(i + 6)) != 255U) {
#line 840
    return (0);
  } else {

  }
#line 838
  i = i + 1;
  ldv_38426: ;
#line 838
  if (i <= 3) {
#line 840
    goto ldv_38425;
  } else {

  }

#line 843
  return (1);
}
}
#line 846 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static u16 xd_load_log_block_addr(u8 *redunt ) 
{ 
  u16 addr ;

  {
#line 848
  addr = 65535U;
#line 850
  if (((int )*(redunt + 10UL) & 4) != 0) {
#line 851
    addr = (u16 )((int )((short )((int )*(redunt + 3UL) << 8)) | (int )((short )*(redunt + 2UL)));
  } else
#line 853
  if ((int )*(redunt + 10UL) & 1) {
#line 854
    addr = (u16 )((int )((short )((int )*(redunt + 3UL) << 8)) | (int )((short )*(redunt + 2UL)));
  } else
#line 856
  if (((int )*(redunt + 10UL) & 2) != 0) {
#line 857
    addr = (u16 )((int )((short )((int )*(redunt + 5UL) << 8)) | (int )((short )*(redunt + 4UL)));
  } else {

  }
#line 860
  return (addr);
}
}
#line 863 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_init_l2p_tbl(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int size ;
  int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  void *tmp___3 ;

  {
#line 865
  xd_card = & chip->xd_card;
#line 868
  descriptor.modname = "rts5208";
#line 868
  descriptor.function = "xd_init_l2p_tbl";
#line 868
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 868
  descriptor.format = "xd_init_l2p_tbl: zone_cnt = %d\n";
#line 868
  descriptor.lineno = 869U;
#line 868
  descriptor.flags = 0U;
#line 868
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 868
  if (tmp___0 != 0L) {
#line 868
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 868
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "xd_init_l2p_tbl: zone_cnt = %d\n",
                      xd_card->zone_cnt);
  } else {

  }
#line 871
  if (xd_card->zone_cnt <= 0) {
#line 872
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_init_l2p_tbl", 872);
#line 873
    return (1);
  } else {

  }
#line 876
  size = (int )((unsigned int )xd_card->zone_cnt * 56U);
#line 877
  descriptor___0.modname = "rts5208";
#line 877
  descriptor___0.function = "xd_init_l2p_tbl";
#line 877
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 877
  descriptor___0.format = "Buffer size for l2p table is %d\n";
#line 877
  descriptor___0.lineno = 877U;
#line 877
  descriptor___0.flags = 0U;
#line 877
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 877
  if (tmp___2 != 0L) {
#line 877
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 877
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Buffer size for l2p table is %d\n",
                      size);
  } else {

  }
#line 879
  tmp___3 = vmalloc((unsigned long )size);
#line 879
  xd_card->zone = (struct zone_entry *)tmp___3;
#line 880
  if ((unsigned long )xd_card->zone == (unsigned long )((struct zone_entry *)0)) {
#line 881
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_init_l2p_tbl", 881);
#line 882
    return (10);
  } else {

  }
#line 885
  i = 0;
#line 885
  goto ldv_38442;
  ldv_38441: 
#line 886
  (xd_card->zone + (unsigned long )i)->build_flag = 0;
#line 887
  (xd_card->zone + (unsigned long )i)->l2p_table = (u16 *)0U;
#line 888
  (xd_card->zone + (unsigned long )i)->free_table = (u16 *)0U;
#line 889
  (xd_card->zone + (unsigned long )i)->get_index = 0;
#line 890
  (xd_card->zone + (unsigned long )i)->set_index = 0;
#line 891
  (xd_card->zone + (unsigned long )i)->unused_blk_cnt = 0;
#line 885
  i = i + 1;
  ldv_38442: ;
#line 885
  if (xd_card->zone_cnt > i) {
#line 887
    goto ldv_38441;
  } else {

  }

#line 894
  return (0);
}
}
#line 897 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
__inline static void free_zone(struct zone_entry *zone ) 
{ 


  {
#line 899
  if ((unsigned long )zone == (unsigned long )((struct zone_entry *)0)) {
#line 900
    return;
  } else {

  }
#line 902
  zone->build_flag = 0;
#line 903
  zone->set_index = 0;
#line 904
  zone->get_index = 0;
#line 905
  zone->unused_blk_cnt = 0;
#line 906
  if ((unsigned long )zone->l2p_table != (unsigned long )((u16 *)0U)) {
#line 907
    vfree((void const   *)zone->l2p_table);
#line 908
    zone->l2p_table = (u16 *)0U;
  } else {

  }
#line 910
  if ((unsigned long )zone->free_table != (unsigned long )((u16 *)0U)) {
#line 911
    vfree((void const   *)zone->free_table);
#line 912
    zone->free_table = (u16 *)0U;
  } else {

  }
#line 914
  return;
}
}
#line 916 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_set_unused_block(struct rtsx_chip *chip , u32 phy_blk ) 
{ 
  struct xd_info *xd_card ;
  struct zone_entry *zone ;
  int zone_no ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  int tmp___6 ;

  {
#line 918
  xd_card = & chip->xd_card;
#line 922
  zone_no = (int )phy_blk >> 10;
#line 923
  if (xd_card->zone_cnt <= zone_no) {
#line 924
    descriptor.modname = "rts5208";
#line 924
    descriptor.function = "xd_set_unused_block";
#line 924
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 924
    descriptor.format = "Set unused block to invalid zone (zone_no = %d, zone_cnt = %d)\n";
#line 924
    descriptor.lineno = 925U;
#line 924
    descriptor.flags = 0U;
#line 924
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 924
    if (tmp___0 != 0L) {
#line 924
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 924
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Set unused block to invalid zone (zone_no = %d, zone_cnt = %d)\n",
                        zone_no, xd_card->zone_cnt);
    } else {

    }
#line 926
    return;
  } else {

  }
#line 928
  zone = xd_card->zone + (unsigned long )zone_no;
#line 930
  if ((unsigned long )zone->free_table == (unsigned long )((u16 *)0U)) {
#line 931
    tmp___1 = xd_build_l2p_tbl(chip, zone_no);
#line 931
    if (tmp___1 != 0) {
#line 932
      return;
    } else {

    }
  } else {

  }
#line 935
  if (zone->set_index > 1199 || zone->set_index < 0) {
#line 937
    free_zone(zone);
#line 938
    descriptor___0.modname = "rts5208";
#line 938
    descriptor___0.function = "xd_set_unused_block";
#line 938
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 938
    descriptor___0.format = "Set unused block fail, invalid set_index\n";
#line 938
    descriptor___0.lineno = 938U;
#line 938
    descriptor___0.flags = 0U;
#line 938
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 938
    if (tmp___3 != 0L) {
#line 938
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 938
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "Set unused block fail, invalid set_index\n");
    } else {

    }
#line 939
    return;
  } else {

  }
#line 942
  descriptor___1.modname = "rts5208";
#line 942
  descriptor___1.function = "xd_set_unused_block";
#line 942
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 942
  descriptor___1.format = "Set unused block to index %d\n";
#line 942
  descriptor___1.lineno = 943U;
#line 942
  descriptor___1.flags = 0U;
#line 942
  tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 942
  if (tmp___5 != 0L) {
#line 942
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 942
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "Set unused block to index %d\n",
                      zone->set_index);
  } else {

  }
#line 945
  tmp___6 = zone->set_index;
#line 945
  zone->set_index = zone->set_index + 1;
#line 945
  *(zone->free_table + (unsigned long )tmp___6) = (unsigned int )((unsigned short )phy_blk) & 1023U;
#line 946
  if (zone->set_index > 1199) {
#line 947
    zone->set_index = 0;
  } else {

  }
#line 948
  zone->unused_blk_cnt = zone->unused_blk_cnt + 1;
#line 949
  return;
}
}
#line 951 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static u32 xd_get_unused_block(struct rtsx_chip *chip , int zone_no ) 
{ 
  struct xd_info *xd_card ;
  struct zone_entry *zone ;
  u32 phy_blk ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  int tmp___7 ;

  {
#line 953
  xd_card = & chip->xd_card;
#line 957
  if (xd_card->zone_cnt <= zone_no) {
#line 958
    descriptor.modname = "rts5208";
#line 958
    descriptor.function = "xd_get_unused_block";
#line 958
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 958
    descriptor.format = "Get unused block from invalid zone (zone_no = %d, zone_cnt = %d)\n";
#line 958
    descriptor.lineno = 959U;
#line 958
    descriptor.flags = 0U;
#line 958
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 958
    if (tmp___0 != 0L) {
#line 958
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 958
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Get unused block from invalid zone (zone_no = %d, zone_cnt = %d)\n",
                        zone_no, xd_card->zone_cnt);
    } else {

    }
#line 960
    return (4294967295U);
  } else {

  }
#line 962
  zone = xd_card->zone + (unsigned long )zone_no;
#line 964
  if (zone->unused_blk_cnt == 0 || zone->set_index == zone->get_index) {
#line 966
    free_zone(zone);
#line 967
    descriptor___0.modname = "rts5208";
#line 967
    descriptor___0.function = "xd_get_unused_block";
#line 967
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 967
    descriptor___0.format = "Get unused block fail, no unused block available\n";
#line 967
    descriptor___0.lineno = 967U;
#line 967
    descriptor___0.flags = 0U;
#line 967
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 967
    if (tmp___2 != 0L) {
#line 967
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 967
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Get unused block fail, no unused block available\n");
    } else {

    }
#line 968
    return (4294967295U);
  } else {

  }
#line 970
  if (zone->get_index > 1199 || zone->get_index < 0) {
#line 971
    free_zone(zone);
#line 972
    descriptor___1.modname = "rts5208";
#line 972
    descriptor___1.function = "xd_get_unused_block";
#line 972
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 972
    descriptor___1.format = "Get unused block fail, invalid get_index\n";
#line 972
    descriptor___1.lineno = 972U;
#line 972
    descriptor___1.flags = 0U;
#line 972
    tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 972
    if (tmp___4 != 0L) {
#line 972
      tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 972
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "Get unused block fail, invalid get_index\n");
    } else {

    }
#line 973
    return (4294967295U);
  } else {

  }
#line 976
  descriptor___2.modname = "rts5208";
#line 976
  descriptor___2.function = "xd_get_unused_block";
#line 976
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 976
  descriptor___2.format = "Get unused block from index %d\n";
#line 976
  descriptor___2.lineno = 977U;
#line 976
  descriptor___2.flags = 0U;
#line 976
  tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 976
  if (tmp___6 != 0L) {
#line 976
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 976
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "Get unused block from index %d\n",
                      zone->get_index);
  } else {

  }
#line 979
  phy_blk = (u32 )*(zone->free_table + (unsigned long )zone->get_index);
#line 980
  tmp___7 = zone->get_index;
#line 980
  zone->get_index = zone->get_index + 1;
#line 980
  *(zone->free_table + (unsigned long )tmp___7) = 65535U;
#line 981
  if (zone->get_index > 1199) {
#line 982
    zone->get_index = 0;
  } else {

  }
#line 983
  zone->unused_blk_cnt = zone->unused_blk_cnt - 1;
#line 985
  phy_blk = ((unsigned int )zone_no << 10) + phy_blk;
#line 986
  return (phy_blk);
}
}
#line 989 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static void xd_set_l2p_tbl(struct rtsx_chip *chip , int zone_no , u16 log_off , u16 phy_off ) 
{ 
  struct xd_info *xd_card ;
  struct zone_entry *zone ;

  {
#line 992
  xd_card = & chip->xd_card;
#line 995
  zone = xd_card->zone + (unsigned long )zone_no;
#line 996
  *(zone->l2p_table + (unsigned long )log_off) = phy_off;
#line 997
  return;
}
}
#line 999 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static u32 xd_get_l2p_tbl(struct rtsx_chip *chip , int zone_no , u16 log_off ) 
{ 
  struct xd_info *xd_card ;
  struct zone_entry *zone ;
  int retval ;
  u32 phy_blk ;
  int i ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;

  {
#line 1001
  xd_card = & chip->xd_card;
#line 1005
  zone = xd_card->zone + (unsigned long )zone_no;
#line 1006
  if ((unsigned int )*(zone->l2p_table + (unsigned long )log_off) == 65535U) {
#line 1007
    phy_blk = 0U;
#line 1011
    retval = xd_delay_write(chip);
#line 1012
    if (retval != 0) {
#line 1013
      descriptor.modname = "rts5208";
#line 1013
      descriptor.function = "xd_get_l2p_tbl";
#line 1013
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1013
      descriptor.format = "In xd_get_l2p_tbl, delay write fail!\n";
#line 1013
      descriptor.lineno = 1013U;
#line 1013
      descriptor.flags = 0U;
#line 1013
      tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1013
      if (tmp___0 != 0L) {
#line 1013
        tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1013
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "In xd_get_l2p_tbl, delay write fail!\n");
      } else {

      }
#line 1014
      return (4294967295U);
    } else {

    }
#line 1018
    if (zone->unused_blk_cnt <= 0) {
#line 1019
      descriptor___0.modname = "rts5208";
#line 1019
      descriptor___0.function = "xd_get_l2p_tbl";
#line 1019
      descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1019
      descriptor___0.format = "No unused block!\n";
#line 1019
      descriptor___0.lineno = 1019U;
#line 1019
      descriptor___0.flags = 0U;
#line 1019
      tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1019
      if (tmp___2 != 0L) {
#line 1019
        tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1019
        __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "No unused block!\n");
      } else {

      }
#line 1020
      return (4294967295U);
    } else {

    }
#line 1023
    i = 0;
#line 1023
    goto ldv_38494;
    ldv_38493: 
#line 1024
    phy_blk = xd_get_unused_block(chip, zone_no);
#line 1025
    if (phy_blk == 4294967295U) {
#line 1026
      descriptor___1.modname = "rts5208";
#line 1026
      descriptor___1.function = "xd_get_l2p_tbl";
#line 1026
      descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1026
      descriptor___1.format = "No unused block available!\n";
#line 1026
      descriptor___1.lineno = 1026U;
#line 1026
      descriptor___1.flags = 0U;
#line 1026
      tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1026
      if (tmp___4 != 0L) {
#line 1026
        tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1026
        __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "No unused block available!\n");
      } else {

      }
#line 1027
      return (4294967295U);
    } else {

    }
#line 1030
    retval = xd_init_page(chip, phy_blk, (int )log_off, 0, (int )((unsigned int )xd_card->page_off + 1U));
#line 1032
    if (retval == 0) {
#line 1033
      goto ldv_38492;
    } else {

    }
#line 1023
    i = i + 1;
    ldv_38494: ;
#line 1023
    if (zone->unused_blk_cnt > i) {
#line 1025
      goto ldv_38493;
    } else {

    }
    ldv_38492: ;
#line 1035
    if (zone->unused_blk_cnt <= i) {
#line 1036
      descriptor___2.modname = "rts5208";
#line 1036
      descriptor___2.function = "xd_get_l2p_tbl";
#line 1036
      descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1036
      descriptor___2.format = "No good unused block available!\n";
#line 1036
      descriptor___2.lineno = 1036U;
#line 1036
      descriptor___2.flags = 0U;
#line 1036
      tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1036
      if (tmp___6 != 0L) {
#line 1036
        tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1036
        __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "No good unused block available!\n");
      } else {

      }
#line 1037
      return (4294967295U);
    } else {

    }
#line 1040
    xd_set_l2p_tbl(chip, zone_no, (int )log_off, (int )((unsigned short )phy_blk) & 1023);
#line 1041
    return (phy_blk);
  } else {

  }
#line 1044
  return ((unsigned int )*(zone->l2p_table + (unsigned long )log_off) + ((unsigned int )zone_no << 10));
}
}
#line 1047 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
int reset_xd_card(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int retval ;

  {
#line 1049
  xd_card = & chip->xd_card;
#line 1052
  memset((void *)xd_card, 0, 56UL);
#line 1054
  xd_card->block_shift = 0U;
#line 1055
  xd_card->page_off = 0U;
#line 1056
  xd_card->addr_cycle = 0U;
#line 1057
  xd_card->capacity = 0U;
#line 1058
  xd_card->zone_cnt = 0;
#line 1059
  xd_card->cis_block = 65535U;
#line 1060
  xd_card->delay_write.delay_write_flag = 0U;
#line 1062
  retval = enable_card_clock(chip, 16);
#line 1063
  if (retval != 0) {
#line 1064
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd_card", 1064);
#line 1065
    return (1);
  } else {

  }
#line 1068
  retval = reset_xd(chip);
#line 1069
  if (retval != 0) {
#line 1070
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd_card", 1070);
#line 1071
    return (1);
  } else {

  }
#line 1074
  retval = xd_init_l2p_tbl(chip);
#line 1075
  if (retval != 0) {
#line 1076
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "reset_xd_card", 1076);
#line 1077
    return (1);
  } else {

  }
#line 1080
  return (0);
}
}
#line 1083 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_mark_bad_block(struct rtsx_chip *chip , u32 phy_blk ) 
{ 
  struct xd_info *xd_card ;
  int retval ;
  u32 page_addr ;
  u8 reg ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1085
  xd_card = & chip->xd_card;
#line 1088
  reg = 0U;
#line 1090
  descriptor.modname = "rts5208";
#line 1090
  descriptor.function = "xd_mark_bad_block";
#line 1090
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1090
  descriptor.format = "mark block 0x%x as bad block\n";
#line 1090
  descriptor.lineno = 1090U;
#line 1090
  descriptor.flags = 0U;
#line 1090
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1090
  if (tmp___0 != 0L) {
#line 1090
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1090
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "mark block 0x%x as bad block\n",
                      phy_blk);
  } else {

  }
#line 1092
  if (phy_blk == 4294967295U) {
#line 1093
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_mark_bad_block", 1093);
#line 1094
    return (1);
  } else {

  }
#line 1097
  chip->ci = 0;
#line 1099
  rtsx_add_cmd(chip, 1, 64796, 255, 255);
#line 1100
  rtsx_add_cmd(chip, 1, 64797, 255, 240);
#line 1101
  rtsx_add_cmd(chip, 1, 64799, 255, 255);
#line 1102
  rtsx_add_cmd(chip, 1, 64798, 255, 255);
#line 1103
  rtsx_add_cmd(chip, 1, 64801, 255, 255);
#line 1104
  rtsx_add_cmd(chip, 1, 64800, 255, 255);
#line 1105
  rtsx_add_cmd(chip, 1, 64809, 255, 255);
#line 1106
  rtsx_add_cmd(chip, 1, 64810, 255, 255);
#line 1107
  rtsx_add_cmd(chip, 1, 64811, 255, 255);
#line 1108
  rtsx_add_cmd(chip, 1, 64812, 255, 255);
#line 1110
  page_addr = phy_blk << (int )xd_card->block_shift;
#line 1112
  xd_assign_phy_addr(chip, page_addr, 1);
#line 1114
  rtsx_add_cmd(chip, 1, 64795, 255, (int )((unsigned int )xd_card->page_off + 1U));
#line 1117
  rtsx_add_cmd(chip, 1, 64787, 255, 138);
#line 1119
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1122
  retval = rtsx_send_cmd(chip, 16, 500);
#line 1123
  if (retval < 0) {
#line 1124
    rtsx_clear_xd_error(chip);
#line 1125
    rtsx_read_register(chip, 64794, & reg);
#line 1126
    if ((int )reg & 1) {
#line 1127
      xd_set_err_code(chip, 64);
    } else {
#line 1129
      xd_set_err_code(chip, 1);
    }
#line 1130
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_mark_bad_block", 1130);
#line 1131
    return (1);
  } else {

  }
#line 1134
  return (0);
}
}
#line 1137 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_init_page(struct rtsx_chip *chip , u32 phy_blk , u16 logoff , u8 start_page ,
                        u8 end_page ) 
{ 
  struct xd_info *xd_card ;
  int retval ;
  u32 page_addr ;
  u8 reg ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1140
  xd_card = & chip->xd_card;
#line 1143
  reg = 0U;
#line 1145
  descriptor.modname = "rts5208";
#line 1145
  descriptor.function = "xd_init_page";
#line 1145
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1145
  descriptor.format = "Init block 0x%x\n";
#line 1145
  descriptor.lineno = 1145U;
#line 1145
  descriptor.flags = 0U;
#line 1145
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1145
  if (tmp___0 != 0L) {
#line 1145
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1145
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Init block 0x%x\n",
                      phy_blk);
  } else {

  }
#line 1147
  if ((int )start_page > (int )end_page) {
#line 1148
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_init_page", 1148);
#line 1149
    return (1);
  } else {

  }
#line 1151
  if (phy_blk == 4294967295U) {
#line 1152
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_init_page", 1152);
#line 1153
    return (1);
  } else {

  }
#line 1156
  chip->ci = 0;
#line 1158
  rtsx_add_cmd(chip, 1, 64796, 255, 255);
#line 1159
  rtsx_add_cmd(chip, 1, 64797, 255, 255);
#line 1160
  rtsx_add_cmd(chip, 1, 64799, 255, (int )((unsigned char )((int )logoff >> 8)));
#line 1162
  rtsx_add_cmd(chip, 1, 64798, 255, (int )((unsigned char )logoff));
#line 1164
  page_addr = (phy_blk << (int )xd_card->block_shift) + (u32 )start_page;
#line 1166
  xd_assign_phy_addr(chip, page_addr, 1);
#line 1168
  rtsx_add_cmd(chip, 1, 64788, 64, 64);
#line 1171
  rtsx_add_cmd(chip, 1, 64795, 255, (int )end_page - (int )start_page);
#line 1174
  rtsx_add_cmd(chip, 1, 64787, 255, 138);
#line 1176
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1179
  retval = rtsx_send_cmd(chip, 16, 500);
#line 1180
  if (retval < 0) {
#line 1181
    rtsx_clear_xd_error(chip);
#line 1182
    rtsx_read_register(chip, 64794, & reg);
#line 1183
    if ((int )reg & 1) {
#line 1184
      xd_mark_bad_block(chip, phy_blk);
#line 1185
      xd_set_err_code(chip, 64);
    } else {
#line 1187
      xd_set_err_code(chip, 1);
    }
#line 1189
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_init_page", 1189);
#line 1190
    return (1);
  } else {

  }
#line 1193
  return (0);
}
}
#line 1196 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_copy_page(struct rtsx_chip *chip , u32 old_blk , u32 new_blk , u8 start_page ,
                        u8 end_page ) 
{ 
  struct xd_info *xd_card ;
  u32 old_page ;
  u32 new_page ;
  u8 i ;
  u8 reg ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int tmp___1 ;
  struct task_struct *tmp___2 ;
  long volatile   __ret ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  int tmp___7 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___8 ;
  long tmp___9 ;

  {
#line 1199
  xd_card = & chip->xd_card;
#line 1201
  reg = 0U;
#line 1204
  descriptor.modname = "rts5208";
#line 1204
  descriptor.function = "xd_copy_page";
#line 1204
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1204
  descriptor.format = "Copy page from block 0x%x to block 0x%x\n";
#line 1204
  descriptor.lineno = 1205U;
#line 1204
  descriptor.flags = 0U;
#line 1204
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1204
  if (tmp___0 != 0L) {
#line 1204
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1204
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Copy page from block 0x%x to block 0x%x\n",
                      old_blk, new_blk);
  } else {

  }
#line 1207
  if ((int )start_page > (int )end_page) {
#line 1208
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_copy_page", 1208);
#line 1209
    return (1);
  } else {

  }
#line 1212
  if (old_blk == 4294967295U || new_blk == 4294967295U) {
#line 1213
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_copy_page", 1213);
#line 1214
    return (1);
  } else {

  }
#line 1217
  old_page = (old_blk << (int )xd_card->block_shift) + (u32 )start_page;
#line 1218
  new_page = (new_blk << (int )xd_card->block_shift) + (u32 )start_page;
#line 1220
  xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 254U;
#line 1222
  retval = rtsx_write_register(chip, 64859, 1, 1);
#line 1224
  if (retval != 0) {
#line 1225
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_copy_page", 1225);
#line 1226
    return (retval);
  } else {

  }
#line 1229
  i = start_page;
#line 1229
  goto ldv_38550;
  ldv_38549: 
#line 1230
  tmp___1 = detect_card_cd(chip, 16);
#line 1230
  if (tmp___1 != 0) {
#line 1231
    rtsx_clear_xd_error(chip);
#line 1232
    xd_set_err_code(chip, 32);
#line 1233
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_copy_page", 1233);
#line 1234
    return (1);
  } else {

  }
#line 1237
  chip->ci = 0;
#line 1239
  xd_assign_phy_addr(chip, old_page, 1);
#line 1241
  rtsx_add_cmd(chip, 1, 64795, 255, 1);
#line 1242
  rtsx_add_cmd(chip, 1, 64813, 1, 0);
#line 1244
  rtsx_add_cmd(chip, 1, 64787, 255, 133);
#line 1246
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1249
  retval = rtsx_send_cmd(chip, 16, 500);
#line 1250
  if (retval < 0) {
#line 1251
    rtsx_clear_xd_error(chip);
#line 1252
    reg = 0U;
#line 1253
    rtsx_read_register(chip, 64786, & reg);
#line 1254
    if (((int )reg & 80) != 0) {
#line 1255
      tmp___2 = get_current();
#line 1255
      tmp___2->task_state_change = 0UL;
#line 1255
      __ret = 1L;
#line 1255
      switch (8UL) {
      case 1UL: 
#line 1255
      tmp___3 = get_current();
#line 1255
      __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___3->state): : "memory",
                           "cc");
#line 1255
      goto ldv_38542;
      case 2UL: 
#line 1255
      tmp___4 = get_current();
#line 1255
      __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                           "cc");
#line 1255
      goto ldv_38542;
      case 4UL: 
#line 1255
      tmp___5 = get_current();
#line 1255
      __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                           "cc");
#line 1255
      goto ldv_38542;
      case 8UL: 
#line 1255
      tmp___6 = get_current();
#line 1255
      __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___6->state): : "memory",
                           "cc");
#line 1255
      goto ldv_38542;
      default: 
#line 1255
      __xchg_wrong_size();
      }
      ldv_38542: 
#line 1255
      schedule_timeout(25L);
#line 1257
      tmp___7 = detect_card_cd(chip, 16);
#line 1257
      if (tmp___7 != 0) {
#line 1259
        xd_set_err_code(chip, 32);
#line 1260
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_copy_page", 1260);
#line 1261
        return (1);
      } else {

      }
#line 1264
      if (((int )reg & 48) == 48 || ((int )reg & 192) == 192) {
#line 1268
        rtsx_write_register(chip, 64796, 255, 0);
#line 1271
        rtsx_write_register(chip, 64797, 255, 255);
#line 1274
        xd_card->multi_flag = (u8 )((unsigned int )xd_card->multi_flag | 2U);
#line 1275
        descriptor___0.modname = "rts5208";
#line 1275
        descriptor___0.function = "xd_copy_page";
#line 1275
        descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1275
        descriptor___0.format = "old block 0x%x ecc error\n";
#line 1275
        descriptor___0.lineno = 1276U;
#line 1275
        descriptor___0.flags = 0U;
#line 1275
        tmp___9 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1275
        if (tmp___9 != 0L) {
#line 1275
          tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1275
          __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___8, "old block 0x%x ecc error\n",
                            old_blk);
        } else {

        }
      } else {

      }
    } else {
#line 1279
      xd_set_err_code(chip, 1);
#line 1280
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_copy_page", 1280);
#line 1281
      return (1);
    }
  } else {

  }
#line 1285
  if (((int )xd_card->multi_flag & 2) != 0) {
#line 1286
    rtsx_clear_xd_error(chip);
  } else {

  }
#line 1288
  chip->ci = 0;
#line 1290
  xd_assign_phy_addr(chip, new_page, 1);
#line 1291
  rtsx_add_cmd(chip, 1, 64795, 255, 1);
#line 1292
  rtsx_add_cmd(chip, 1, 64787, 255, 136);
#line 1294
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1297
  retval = rtsx_send_cmd(chip, 16, 300);
#line 1298
  if (retval < 0) {
#line 1299
    rtsx_clear_xd_error(chip);
#line 1300
    reg = 0U;
#line 1301
    rtsx_read_register(chip, 64794, & reg);
#line 1302
    if ((int )reg & 1) {
#line 1303
      xd_mark_bad_block(chip, new_blk);
#line 1304
      xd_set_err_code(chip, 64);
#line 1305
      xd_card->multi_flag = (u8 )((unsigned int )xd_card->multi_flag | 1U);
    } else {
#line 1307
      xd_set_err_code(chip, 1);
    }
#line 1309
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_copy_page", 1309);
#line 1310
    return (1);
  } else {

  }
#line 1313
  old_page = old_page + 1U;
#line 1314
  new_page = new_page + 1U;
#line 1229
  i = (u8 )((int )i + 1);
  ldv_38550: ;
#line 1229
  if ((int )i < (int )end_page) {
#line 1231
    goto ldv_38549;
  } else {

  }

#line 1317
  return (0);
}
}
#line 1320 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_reset_cmd(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 *ptr ;
  u8 *tmp ;

  {
#line 1325
  chip->ci = 0;
#line 1327
  rtsx_add_cmd(chip, 1, 64787, 255, 128);
#line 1329
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1331
  rtsx_add_cmd(chip, 0, 64794, 0, 0);
#line 1332
  rtsx_add_cmd(chip, 0, 64786, 0, 0);
#line 1334
  retval = rtsx_send_cmd(chip, 16, 100);
#line 1335
  if (retval < 0) {
#line 1336
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_reset_cmd", 1336);
#line 1337
    return (1);
  } else {

  }
#line 1340
  tmp = rtsx_get_cmd_data(chip);
#line 1340
  ptr = tmp + 1UL;
#line 1341
  if (((int )*ptr & 95) == 64 && ((int )*(ptr + 1UL) & 4) != 0) {
#line 1342
    return (0);
  } else {

  }
#line 1344
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
              "xd_reset_cmd", 1344);
#line 1345
  return (1);
}
}
#line 1348 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_erase_block(struct rtsx_chip *chip , u32 phy_blk ) 
{ 
  struct xd_info *xd_card ;
  u32 page_addr ;
  u8 reg ;
  u8 *ptr ;
  int i ;
  int retval ;
  u8 *tmp ;

  {
#line 1350
  xd_card = & chip->xd_card;
#line 1352
  reg = 0U;
#line 1355
  if (phy_blk == 4294967295U) {
#line 1356
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_erase_block", 1356);
#line 1357
    return (1);
  } else {

  }
#line 1360
  page_addr = phy_blk << (int )xd_card->block_shift;
#line 1362
  i = 0;
#line 1362
  goto ldv_38571;
  ldv_38570: 
#line 1363
  chip->ci = 0;
#line 1365
  xd_assign_phy_addr(chip, page_addr, 2);
#line 1367
  rtsx_add_cmd(chip, 1, 64787, 255, 129);
#line 1369
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1371
  rtsx_add_cmd(chip, 0, 64794, 0, 0);
#line 1373
  retval = rtsx_send_cmd(chip, 16, 250);
#line 1374
  if (retval < 0) {
#line 1375
    rtsx_clear_xd_error(chip);
#line 1376
    rtsx_read_register(chip, 64794, & reg);
#line 1377
    if ((int )reg & 1) {
#line 1378
      xd_mark_bad_block(chip, phy_blk);
#line 1379
      xd_set_err_code(chip, 64);
#line 1380
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_erase_block", 1380);
#line 1381
      return (1);
    } else {

    }
#line 1383
    xd_set_err_code(chip, 8);
#line 1384
    retval = xd_reset_cmd(chip);
#line 1385
    if (retval != 0) {
#line 1386
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_erase_block", 1386);
#line 1387
      return (1);
    } else {

    }
#line 1389
    goto ldv_38569;
  } else {

  }
#line 1392
  tmp = rtsx_get_cmd_data(chip);
#line 1392
  ptr = tmp + 1UL;
#line 1393
  if ((int )*ptr & 1) {
#line 1394
    xd_mark_bad_block(chip, phy_blk);
#line 1395
    xd_set_err_code(chip, 64);
#line 1396
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_erase_block", 1396);
#line 1397
    return (1);
  } else {

  }
#line 1400
  return (0);
  ldv_38569: 
#line 1362
  i = i + 1;
  ldv_38571: ;
#line 1362
  if (i <= 2) {
#line 1364
    goto ldv_38570;
  } else {

  }
#line 1403
  xd_mark_bad_block(chip, phy_blk);
#line 1404
  xd_set_err_code(chip, 8);
#line 1405
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
              "xd_erase_block", 1405);
#line 1406
  return (1);
}
}
#line 1410 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_build_l2p_tbl(struct rtsx_chip *chip , int zone_no ) 
{ 
  struct xd_info *xd_card ;
  struct zone_entry *zone ;
  int retval ;
  u32 start ;
  u32 end ;
  u32 i ;
  u16 max_logoff ;
  u16 cur_fst_page_logoff ;
  u16 cur_lst_page_logoff ;
  u16 ent_lst_page_logoff ;
  u8 redunt[11U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___5 ;
  long tmp___6 ;
  int tmp___7 ;
  u32 page_addr ;
  u32 phy_block ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___10 ;
  long tmp___11 ;
  int tmp___12 ;
  int m ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___13 ;
  long tmp___14 ;
  struct _ddebug descriptor___5 ;
  struct device *tmp___15 ;
  long tmp___16 ;

  {
#line 1412
  xd_card = & chip->xd_card;
#line 1420
  descriptor.modname = "rts5208";
#line 1420
  descriptor.function = "xd_build_l2p_tbl";
#line 1420
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1420
  descriptor.format = "xd_build_l2p_tbl: %d\n";
#line 1420
  descriptor.lineno = 1420U;
#line 1420
  descriptor.flags = 0U;
#line 1420
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1420
  if (tmp___0 != 0L) {
#line 1420
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1420
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "xd_build_l2p_tbl: %d\n",
                      zone_no);
  } else {

  }
#line 1422
  if ((unsigned long )xd_card->zone == (unsigned long )((struct zone_entry *)0)) {
#line 1423
    retval = xd_init_l2p_tbl(chip);
#line 1424
    if (retval != 0) {
#line 1425
      return (retval);
    } else {

    }
  } else {

  }
#line 1428
  if ((xd_card->zone + (unsigned long )zone_no)->build_flag != 0) {
#line 1429
    descriptor___0.modname = "rts5208";
#line 1429
    descriptor___0.function = "xd_build_l2p_tbl";
#line 1429
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1429
    descriptor___0.format = "l2p table of zone %d has been built\n";
#line 1429
    descriptor___0.lineno = 1430U;
#line 1429
    descriptor___0.flags = 0U;
#line 1429
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1429
    if (tmp___2 != 0L) {
#line 1429
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1429
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "l2p table of zone %d has been built\n",
                        zone_no);
    } else {

    }
#line 1431
    return (0);
  } else {

  }
#line 1434
  zone = xd_card->zone + (unsigned long )zone_no;
#line 1436
  if ((unsigned long )zone->l2p_table == (unsigned long )((u16 *)0U)) {
#line 1437
    tmp___3 = vmalloc(2000UL);
#line 1437
    zone->l2p_table = (u16 *)tmp___3;
#line 1438
    if ((unsigned long )zone->l2p_table == (unsigned long )((u16 *)0U)) {
#line 1439
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_build_l2p_tbl", 1439);
#line 1440
      goto Build_Fail;
    } else {

    }
  } else {

  }
#line 1443
  memset((void *)zone->l2p_table, 255, 2000UL);
#line 1445
  if ((unsigned long )zone->free_table == (unsigned long )((u16 *)0U)) {
#line 1446
    tmp___4 = vmalloc(2400UL);
#line 1446
    zone->free_table = (u16 *)tmp___4;
#line 1447
    if ((unsigned long )zone->free_table == (unsigned long )((u16 *)0U)) {
#line 1448
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_build_l2p_tbl", 1448);
#line 1449
      goto Build_Fail;
    } else {

    }
  } else {

  }
#line 1452
  memset((void *)zone->free_table, 255, 2400UL);
#line 1454
  if (zone_no == 0) {
#line 1455
    if ((unsigned int )xd_card->cis_block == 65535U) {
#line 1456
      start = 0U;
    } else {
#line 1458
      start = (u32 )((int )xd_card->cis_block + 1);
    }
#line 1459
    if (((int )xd_card->multi_flag & 16) != 0) {
#line 1460
      end = 512U;
#line 1461
      max_logoff = 499U;
    } else {
#line 1463
      end = 1024U;
#line 1464
      max_logoff = 999U;
    }
  } else {
#line 1467
    start = (unsigned int )zone_no << 10;
#line 1468
    end = (unsigned int )(zone_no + 1) << 10;
#line 1469
    max_logoff = 999U;
  }
#line 1472
  descriptor___1.modname = "rts5208";
#line 1472
  descriptor___1.function = "xd_build_l2p_tbl";
#line 1472
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1472
  descriptor___1.format = "start block 0x%x, end block 0x%x\n";
#line 1472
  descriptor___1.lineno = 1473U;
#line 1472
  descriptor___1.flags = 0U;
#line 1472
  tmp___6 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1472
  if (tmp___6 != 0L) {
#line 1472
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1472
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___5, "start block 0x%x, end block 0x%x\n",
                      start, end);
  } else {

  }
#line 1475
  tmp___7 = 0;
#line 1475
  zone->get_index = tmp___7;
#line 1475
  zone->set_index = tmp___7;
#line 1476
  zone->unused_blk_cnt = 0;
#line 1478
  i = start;
#line 1478
  goto ldv_38603;
  ldv_38602: 
#line 1479
  page_addr = i << (int )xd_card->block_shift;
#line 1482
  retval = xd_read_redundant(chip, page_addr, (u8 *)(& redunt), 11);
#line 1483
  if (retval != 0) {
#line 1484
    goto ldv_38595;
  } else {

  }
#line 1486
  if ((unsigned int )redunt[1] != 255U) {
#line 1487
    descriptor___2.modname = "rts5208";
#line 1487
    descriptor___2.function = "xd_build_l2p_tbl";
#line 1487
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1487
    descriptor___2.format = "bad block\n";
#line 1487
    descriptor___2.lineno = 1487U;
#line 1487
    descriptor___2.flags = 0U;
#line 1487
    tmp___9 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1487
    if (tmp___9 != 0L) {
#line 1487
      tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1487
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___8, "bad block\n");
    } else {

    }
#line 1488
    goto ldv_38595;
  } else {

  }
#line 1491
  tmp___12 = xd_check_data_blank((u8 *)(& redunt));
#line 1491
  if (tmp___12 != 0) {
#line 1492
    descriptor___3.modname = "rts5208";
#line 1492
    descriptor___3.function = "xd_build_l2p_tbl";
#line 1492
    descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1492
    descriptor___3.format = "blank block\n";
#line 1492
    descriptor___3.lineno = 1492U;
#line 1492
    descriptor___3.flags = 0U;
#line 1492
    tmp___11 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1492
    if (tmp___11 != 0L) {
#line 1492
      tmp___10 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1492
      __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___10, "blank block\n");
    } else {

    }
#line 1493
    xd_set_unused_block(chip, i);
#line 1494
    goto ldv_38595;
  } else {

  }
#line 1497
  cur_fst_page_logoff = xd_load_log_block_addr((u8 *)(& redunt));
#line 1498
  if ((unsigned int )cur_fst_page_logoff == 65535U || (int )cur_fst_page_logoff > (int )max_logoff) {
#line 1500
    retval = xd_erase_block(chip, i);
#line 1501
    if (retval == 0) {
#line 1502
      xd_set_unused_block(chip, i);
    } else {

    }
#line 1503
    goto ldv_38595;
  } else {

  }
#line 1506
  if ((zone_no == 0 && (unsigned int )cur_fst_page_logoff == 0U) && (unsigned int )redunt[0] != 255U) {
#line 1508
    xd_card->multi_flag = (u8 )((unsigned int )xd_card->multi_flag | 4U);
  } else {

  }
#line 1510
  if ((unsigned int )*(zone->l2p_table + (unsigned long )cur_fst_page_logoff) == 65535U) {
#line 1511
    *(zone->l2p_table + (unsigned long )cur_fst_page_logoff) = (unsigned int )((unsigned short )i) & 1023U;
#line 1512
    goto ldv_38595;
  } else {

  }
#line 1515
  phy_block = (unsigned int )*(zone->l2p_table + (unsigned long )cur_fst_page_logoff) + (unsigned int )(zone_no << 10);
#line 1518
  page_addr = ((i + 1U) << (int )xd_card->block_shift) - 1U;
#line 1520
  retval = xd_read_redundant(chip, page_addr, (u8 *)(& redunt), 11);
#line 1521
  if (retval != 0) {
#line 1522
    goto ldv_38595;
  } else {

  }
#line 1524
  cur_lst_page_logoff = xd_load_log_block_addr((u8 *)(& redunt));
#line 1525
  if ((int )cur_lst_page_logoff == (int )cur_fst_page_logoff) {
#line 1528
    page_addr = ((phy_block + 1U) << (int )xd_card->block_shift) - 1U;
#line 1531
    m = 0;
#line 1531
    goto ldv_38601;
    ldv_38600: 
#line 1532
    retval = xd_read_redundant(chip, page_addr, (u8 *)(& redunt), 11);
#line 1534
    if (retval == 0) {
#line 1535
      goto ldv_38599;
    } else {

    }
#line 1531
    m = m + 1;
    ldv_38601: ;
#line 1531
    if (m <= 2) {
#line 1533
      goto ldv_38600;
    } else {

    }
    ldv_38599: ;
#line 1538
    if (m == 3) {
#line 1539
      *(zone->l2p_table + (unsigned long )cur_fst_page_logoff) = (unsigned int )((unsigned short )i) & 1023U;
#line 1541
      retval = xd_erase_block(chip, phy_block);
#line 1542
      if (retval == 0) {
#line 1543
        xd_set_unused_block(chip, phy_block);
      } else {

      }
#line 1544
      goto ldv_38595;
    } else {

    }
#line 1547
    ent_lst_page_logoff = xd_load_log_block_addr((u8 *)(& redunt));
#line 1548
    if ((int )ent_lst_page_logoff != (int )cur_fst_page_logoff) {
#line 1549
      *(zone->l2p_table + (unsigned long )cur_fst_page_logoff) = (unsigned int )((unsigned short )i) & 1023U;
#line 1551
      retval = xd_erase_block(chip, phy_block);
#line 1552
      if (retval == 0) {
#line 1553
        xd_set_unused_block(chip, phy_block);
      } else {

      }
#line 1554
      goto ldv_38595;
    } else {
#line 1556
      retval = xd_erase_block(chip, i);
#line 1557
      if (retval == 0) {
#line 1558
        xd_set_unused_block(chip, i);
      } else {

      }
    }
  } else {
#line 1561
    retval = xd_erase_block(chip, i);
#line 1562
    if (retval == 0) {
#line 1563
      xd_set_unused_block(chip, i);
    } else {

    }
  }
  ldv_38595: 
#line 1478
  i = i + 1U;
  ldv_38603: ;
#line 1478
  if (i < end) {
#line 1480
    goto ldv_38602;
  } else {

  }

#line 1567
  if (((int )xd_card->multi_flag & 16) != 0) {
#line 1568
    end = 500U;
  } else {
#line 1570
    end = 1000U;
  }
#line 1572
  i = 0U;
#line 1573
  start = 0U;
#line 1573
  goto ldv_38606;
  ldv_38605: ;
#line 1574
  if ((unsigned int )*(zone->l2p_table + (unsigned long )start) == 65535U) {
#line 1575
    i = i + 1U;
  } else {

  }
#line 1573
  start = start + 1U;
  ldv_38606: ;
#line 1573
  if (start < end) {
#line 1575
    goto ldv_38605;
  } else {

  }
#line 1578
  descriptor___4.modname = "rts5208";
#line 1578
  descriptor___4.function = "xd_build_l2p_tbl";
#line 1578
  descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1578
  descriptor___4.format = "Block count %d, invalid L2P entry %d\n";
#line 1578
  descriptor___4.lineno = 1579U;
#line 1578
  descriptor___4.flags = 0U;
#line 1578
  tmp___14 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 1578
  if (tmp___14 != 0L) {
#line 1578
    tmp___13 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1578
    __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___13, "Block count %d, invalid L2P entry %d\n",
                      end, i);
  } else {

  }
#line 1580
  descriptor___5.modname = "rts5208";
#line 1580
  descriptor___5.function = "xd_build_l2p_tbl";
#line 1580
  descriptor___5.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1580
  descriptor___5.format = "Total unused block: %d\n";
#line 1580
  descriptor___5.lineno = 1581U;
#line 1580
  descriptor___5.flags = 0U;
#line 1580
  tmp___16 = ldv__builtin_expect((long )descriptor___5.flags & 1L, 0L);
#line 1580
  if (tmp___16 != 0L) {
#line 1580
    tmp___15 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1580
    __dynamic_dev_dbg(& descriptor___5, (struct device  const  *)tmp___15, "Total unused block: %d\n",
                      zone->unused_blk_cnt);
  } else {

  }
#line 1583
  if ((u32 )zone->unused_blk_cnt == i) {
#line 1584
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 16U);
  } else {

  }
#line 1586
  zone->build_flag = 1;
#line 1588
  return (0);
  Build_Fail: ;
#line 1591
  if ((unsigned long )zone->l2p_table != (unsigned long )((u16 *)0U)) {
#line 1592
    vfree((void const   *)zone->l2p_table);
#line 1593
    zone->l2p_table = (u16 *)0U;
  } else {

  }
#line 1595
  if ((unsigned long )zone->free_table != (unsigned long )((u16 *)0U)) {
#line 1596
    vfree((void const   *)zone->free_table);
#line 1597
    zone->free_table = (u16 *)0U;
  } else {

  }
#line 1600
  return (1);
}
}
#line 1603 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_send_cmd(struct rtsx_chip *chip , u8 cmd ) 
{ 
  int retval ;

  {
#line 1607
  chip->ci = 0;
#line 1609
  rtsx_add_cmd(chip, 1, 64794, 255, (int )cmd);
#line 1610
  rtsx_add_cmd(chip, 1, 64787, 255, 134);
#line 1612
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1615
  retval = rtsx_send_cmd(chip, 16, 200);
#line 1616
  if (retval < 0) {
#line 1617
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_send_cmd", 1617);
#line 1618
    return (1);
  } else {

  }
#line 1621
  return (0);
}
}
#line 1624 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_read_multiple_pages(struct rtsx_chip *chip , u32 phy_blk , u32 log_blk ,
                                  u8 start_page , u8 end_page , u8 *buf , unsigned int *index ,
                                  unsigned int *offset ) 
{ 
  struct xd_info *xd_card ;
  u32 page_addr ;
  u32 new_blk ;
  u16 log_off ;
  u8 reg_val ;
  u8 page_cnt ;
  int zone_no ;
  int retval ;
  int i ;
  int tmp ;
  unsigned int tmp___0 ;
  struct task_struct *tmp___1 ;
  long volatile   __ret ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  struct task_struct *tmp___5 ;
  int tmp___6 ;

  {
#line 1629
  xd_card = & chip->xd_card;
#line 1635
  if ((int )start_page > (int )end_page) {
#line 1636
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_multiple_pages", 1636);
#line 1637
    return (1);
  } else {

  }
#line 1640
  page_cnt = (int )end_page - (int )start_page;
#line 1641
  zone_no = (int )(log_blk / 1000U);
#line 1642
  log_off = (unsigned short )(log_blk % 1000U);
#line 1644
  if ((phy_blk & 1023U) == 1023U) {
#line 1645
    i = 0;
#line 1645
    goto ldv_38638;
    ldv_38637: 
#line 1646
    page_addr = (unsigned int )i << (int )xd_card->block_shift;
#line 1648
    retval = xd_read_redundant(chip, page_addr, (u8 *)0U, 0);
#line 1649
    if (retval == 0) {
#line 1650
      goto ldv_38636;
    } else {

    }
#line 1652
    tmp = detect_card_cd(chip, 16);
#line 1652
    if (tmp != 0) {
#line 1653
      xd_set_err_code(chip, 32);
#line 1654
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1654);
#line 1655
      return (1);
    } else {

    }
#line 1645
    i = i + 1;
    ldv_38638: ;
#line 1645
    if (i <= 255) {
#line 1647
      goto ldv_38637;
    } else {

    }
    ldv_38636: ;
  } else {

  }
#line 1660
  page_addr = (phy_blk << (int )xd_card->block_shift) + (u32 )start_page;
#line 1662
  chip->ci = 0;
#line 1664
  xd_assign_phy_addr(chip, page_addr, 1);
#line 1665
  rtsx_add_cmd(chip, 1, 64788, 128, 128);
#line 1666
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 1667
  rtsx_add_cmd(chip, 1, 64795, 255, (int )page_cnt);
#line 1668
  rtsx_add_cmd(chip, 1, 64813, 1, 1);
#line 1671
  trans_dma_enable((chip->srb)->sc_data_direction, chip, (u32 )((int )page_cnt * 512),
                   32);
#line 1674
  rtsx_add_cmd(chip, 1, 64787, 255, 133);
#line 1676
  rtsx_add_cmd(chip, 2, 64787, 96, 96);
#line 1679
  rtsx_send_cmd_no_wait(chip);
#line 1681
  tmp___0 = scsi_sg_count(chip->srb);
#line 1681
  retval = rtsx_transfer_data_partial(chip, 16, (void *)buf, (size_t )((int )page_cnt * 512),
                                      (int )tmp___0, index, offset, 2, chip->xd_timeout);
#line 1685
  if (retval < 0) {
#line 1686
    rtsx_clear_xd_error(chip);
#line 1688
    if (retval == -110) {
#line 1689
      xd_set_err_code(chip, 1);
#line 1690
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1690);
#line 1691
      return (1);
    } else {
#line 1693
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1693);
#line 1694
      goto Fail;
    }
  } else {

  }
#line 1698
  return (0);
  Fail: 
#line 1701
  retval = rtsx_read_register(chip, 64796, & reg_val);
#line 1702
  if (retval != 0) {
#line 1703
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_multiple_pages", 1703);
#line 1704
    return (retval);
  } else {

  }
#line 1707
  if ((unsigned int )reg_val != 255U) {
#line 1708
    xd_set_err_code(chip, 64);
  } else {

  }
#line 1710
  retval = rtsx_read_register(chip, 64786, & reg_val);
#line 1711
  if (retval != 0) {
#line 1712
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_read_multiple_pages", 1712);
#line 1713
    return (retval);
  } else {

  }
#line 1716
  if (((int )reg_val & 48) == 48 || ((int )reg_val & 192) == 192) {
#line 1720
    tmp___1 = get_current();
#line 1720
    tmp___1->task_state_change = 0UL;
#line 1720
    __ret = 1L;
#line 1720
    switch (8UL) {
    case 1UL: 
#line 1720
    tmp___2 = get_current();
#line 1720
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 1720
    goto ldv_38642;
    case 2UL: 
#line 1720
    tmp___3 = get_current();
#line 1720
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 1720
    goto ldv_38642;
    case 4UL: 
#line 1720
    tmp___4 = get_current();
#line 1720
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                         "cc");
#line 1720
    goto ldv_38642;
    case 8UL: 
#line 1720
    tmp___5 = get_current();
#line 1720
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 1720
    goto ldv_38642;
    default: 
#line 1720
    __xchg_wrong_size();
    }
    ldv_38642: 
#line 1720
    schedule_timeout(25L);
#line 1722
    tmp___6 = detect_card_cd(chip, 16);
#line 1722
    if (tmp___6 != 0) {
#line 1723
      xd_set_err_code(chip, 32);
#line 1724
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1724);
#line 1725
      return (1);
    } else {

    }
#line 1728
    xd_set_err_code(chip, 2);
#line 1730
    new_blk = xd_get_unused_block(chip, zone_no);
#line 1731
    if (new_blk == 4294967295U) {
#line 1732
      xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
#line 1733
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1733);
#line 1734
      return (1);
    } else {

    }
#line 1737
    retval = xd_copy_page(chip, phy_blk, new_blk, 0, (int )((unsigned int )xd_card->page_off + 1U));
#line 1739
    if (retval != 0) {
#line 1740
      if (((int )xd_card->multi_flag & 1) == 0) {
#line 1741
        retval = xd_erase_block(chip, new_blk);
#line 1742
        if (retval == 0) {
#line 1743
          xd_set_unused_block(chip, new_blk);
        } else {

        }
      } else {
#line 1745
        xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 254U;
      }
#line 1747
      xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
#line 1748
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_read_multiple_pages", 1748);
#line 1749
      return (1);
    } else {

    }
#line 1751
    xd_set_l2p_tbl(chip, zone_no, (int )log_off, (int )((unsigned short )new_blk) & 1023);
#line 1752
    xd_erase_block(chip, phy_blk);
#line 1753
    xd_mark_bad_block(chip, phy_blk);
#line 1754
    xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
  } else {

  }
#line 1757
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
              "xd_read_multiple_pages", 1757);
#line 1758
  return (1);
}
}
#line 1761 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_finish_write(struct rtsx_chip *chip , u32 old_blk , u32 new_blk , u32 log_blk ,
                           u8 page_off ) 
{ 
  struct xd_info *xd_card ;
  int retval ;
  int zone_no ;
  u16 log_off ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1764
  xd_card = & chip->xd_card;
#line 1768
  descriptor.modname = "rts5208";
#line 1768
  descriptor.function = "xd_finish_write";
#line 1768
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1768
  descriptor.format = "xd_finish_write, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x\n";
#line 1768
  descriptor.lineno = 1769U;
#line 1768
  descriptor.flags = 0U;
#line 1768
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1768
  if (tmp___0 != 0L) {
#line 1768
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1768
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "xd_finish_write, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x\n",
                      old_blk, new_blk, log_blk);
  } else {

  }
#line 1771
  if ((int )xd_card->page_off < (int )page_off) {
#line 1772
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_finish_write", 1772);
#line 1773
    return (1);
  } else {

  }
#line 1776
  zone_no = (int )(log_blk / 1000U);
#line 1777
  log_off = (unsigned short )(log_blk % 1000U);
#line 1779
  if (old_blk == 4294967295U) {
#line 1780
    retval = xd_init_page(chip, new_blk, (int )log_off, (int )page_off, (int )((unsigned int )xd_card->page_off + 1U));
#line 1782
    if (retval != 0) {
#line 1783
      retval = xd_erase_block(chip, new_blk);
#line 1784
      if (retval == 0) {
#line 1785
        xd_set_unused_block(chip, new_blk);
      } else {

      }
#line 1786
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_finish_write", 1786);
#line 1787
      return (1);
    } else {

    }
  } else {
#line 1790
    retval = xd_copy_page(chip, old_blk, new_blk, (int )page_off, (int )((unsigned int )xd_card->page_off + 1U));
#line 1792
    if (retval != 0) {
#line 1793
      if (((int )xd_card->multi_flag & 1) == 0) {
#line 1794
        retval = xd_erase_block(chip, new_blk);
#line 1795
        if (retval == 0) {
#line 1796
          xd_set_unused_block(chip, new_blk);
        } else {

        }
      } else {

      }
#line 1798
      xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 254U;
#line 1799
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_finish_write", 1799);
#line 1800
      return (1);
    } else {

    }
#line 1803
    retval = xd_erase_block(chip, old_blk);
#line 1804
    if (retval == 0) {
#line 1805
      if (((int )xd_card->multi_flag & 2) != 0) {
#line 1806
        xd_mark_bad_block(chip, old_blk);
#line 1807
        xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
      } else {
#line 1809
        xd_set_unused_block(chip, old_blk);
      }
    } else {
#line 1812
      xd_set_err_code(chip, 0);
#line 1813
      xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
    }
  }
#line 1817
  xd_set_l2p_tbl(chip, zone_no, (int )log_off, (int )((unsigned short )new_blk) & 1023);
#line 1819
  return (0);
}
}
#line 1822 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_prepare_write(struct rtsx_chip *chip , u32 old_blk , u32 new_blk , u32 log_blk ,
                            u8 page_off ) 
{ 
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1827
  descriptor.modname = "rts5208";
#line 1827
  descriptor.function = "xd_prepare_write";
#line 1827
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1827
  descriptor.format = "%s, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x, page_off = %d\n";
#line 1827
  descriptor.lineno = 1828U;
#line 1827
  descriptor.flags = 0U;
#line 1827
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1827
  if (tmp___0 != 0L) {
#line 1827
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1827
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x, page_off = %d\n",
                      "xd_prepare_write", old_blk, new_blk, log_blk, (int )page_off);
  } else {

  }
#line 1830
  if ((unsigned int )page_off != 0U) {
#line 1831
    retval = xd_copy_page(chip, old_blk, new_blk, 0, (int )page_off);
#line 1832
    if (retval != 0) {
#line 1833
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_prepare_write", 1833);
#line 1834
      return (1);
    } else {

    }
  } else {

  }
#line 1838
  return (0);
}
}
#line 1842 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
static int xd_write_multiple_pages(struct rtsx_chip *chip , u32 old_blk , u32 new_blk ,
                                   u32 log_blk , u8 start_page , u8 end_page , u8 *buf ,
                                   unsigned int *index , unsigned int *offset ) 
{ 
  struct xd_info *xd_card ;
  u32 page_addr ;
  int zone_no ;
  int retval ;
  u16 log_off ;
  u8 page_cnt ;
  u8 reg_val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 1847
  xd_card = & chip->xd_card;
#line 1853
  descriptor.modname = "rts5208";
#line 1853
  descriptor.function = "xd_write_multiple_pages";
#line 1853
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1853
  descriptor.format = "%s, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x\n";
#line 1853
  descriptor.lineno = 1854U;
#line 1853
  descriptor.flags = 0U;
#line 1853
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1853
  if (tmp___0 != 0L) {
#line 1853
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1853
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s, old_blk = 0x%x, new_blk = 0x%x, log_blk = 0x%x\n",
                      "xd_write_multiple_pages", old_blk, new_blk, log_blk);
  } else {

  }
#line 1856
  if ((int )start_page > (int )end_page) {
#line 1857
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_write_multiple_pages", 1857);
#line 1858
    return (1);
  } else {

  }
#line 1861
  page_cnt = (int )end_page - (int )start_page;
#line 1862
  zone_no = (int )(log_blk / 1000U);
#line 1863
  log_off = (unsigned short )(log_blk % 1000U);
#line 1865
  page_addr = (new_blk << (int )xd_card->block_shift) + (u32 )start_page;
#line 1867
  retval = xd_send_cmd(chip, 0);
#line 1868
  if (retval != 0) {
#line 1869
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_write_multiple_pages", 1869);
#line 1870
    return (1);
  } else {

  }
#line 1873
  chip->ci = 0;
#line 1875
  rtsx_add_cmd(chip, 1, 64799, 255, (int )((unsigned char )((int )log_off >> 8)));
#line 1877
  rtsx_add_cmd(chip, 1, 64798, 255, (int )((unsigned char )log_off));
#line 1878
  rtsx_add_cmd(chip, 1, 64797, 255, 255);
#line 1879
  rtsx_add_cmd(chip, 1, 64796, 255, 255);
#line 1881
  xd_assign_phy_addr(chip, page_addr, 1);
#line 1883
  rtsx_add_cmd(chip, 1, 64788, 64, 64);
#line 1885
  rtsx_add_cmd(chip, 1, 64795, 255, (int )page_cnt);
#line 1886
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 1888
  trans_dma_enable((chip->srb)->sc_data_direction, chip, (u32 )((int )page_cnt * 512),
                   32);
#line 1891
  rtsx_add_cmd(chip, 1, 64787, 255, 136);
#line 1893
  rtsx_add_cmd(chip, 2, 64787, 64, 64);
#line 1896
  rtsx_send_cmd_no_wait(chip);
#line 1898
  tmp___1 = scsi_sg_count(chip->srb);
#line 1898
  retval = rtsx_transfer_data_partial(chip, 16, (void *)buf, (size_t )((int )page_cnt * 512),
                                      (int )tmp___1, index, offset, 1, chip->xd_timeout);
#line 1901
  if (retval < 0) {
#line 1902
    rtsx_clear_xd_error(chip);
#line 1904
    if (retval == -110) {
#line 1905
      xd_set_err_code(chip, 1);
#line 1906
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_write_multiple_pages", 1906);
#line 1907
      return (1);
    } else {
#line 1909
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_write_multiple_pages", 1909);
#line 1910
      goto Fail;
    }
  } else {

  }
#line 1914
  if ((int )end_page == (int )xd_card->page_off + 1) {
#line 1915
    xd_card->delay_write.delay_write_flag = 0U;
#line 1917
    if (old_blk != 4294967295U) {
#line 1918
      retval = xd_erase_block(chip, old_blk);
#line 1919
      if (retval == 0) {
#line 1920
        if (((int )xd_card->multi_flag & 2) != 0) {
#line 1921
          xd_mark_bad_block(chip, old_blk);
#line 1922
          xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
        } else {
#line 1924
          xd_set_unused_block(chip, old_blk);
        }
      } else {
#line 1927
        xd_set_err_code(chip, 0);
#line 1928
        xd_card->multi_flag = (unsigned int )xd_card->multi_flag & 253U;
      }
    } else {

    }
#line 1931
    xd_set_l2p_tbl(chip, zone_no, (int )log_off, (int )((unsigned short )new_blk) & 1023);
  } else {

  }
#line 1934
  return (0);
  Fail: 
#line 1937
  retval = rtsx_read_register(chip, 64794, & reg_val);
#line 1938
  if (retval != 0) {
#line 1939
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_write_multiple_pages", 1939);
#line 1940
    return (retval);
  } else {

  }
#line 1942
  if ((int )reg_val & 1) {
#line 1943
    xd_set_err_code(chip, 64);
#line 1944
    xd_mark_bad_block(chip, new_blk);
  } else {

  }
#line 1947
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
              "xd_write_multiple_pages", 1947);
#line 1948
  return (1);
}
}
#line 1952 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
int xd_delay_write(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  struct xd_delay_write_tag *delay_write ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 1954
  xd_card = & chip->xd_card;
#line 1955
  delay_write = & xd_card->delay_write;
#line 1958
  if ((unsigned int )delay_write->delay_write_flag != 0U) {
#line 1959
    descriptor.modname = "rts5208";
#line 1959
    descriptor.function = "xd_delay_write";
#line 1959
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 1959
    descriptor.format = "xd_delay_write\n";
#line 1959
    descriptor.lineno = 1959U;
#line 1959
    descriptor.flags = 0U;
#line 1959
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1959
    if (tmp___0 != 0L) {
#line 1959
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1959
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "xd_delay_write\n");
    } else {

    }
#line 1960
    retval = xd_switch_clock(chip);
#line 1961
    if (retval != 0) {
#line 1962
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_delay_write", 1962);
#line 1963
      return (1);
    } else {

    }
#line 1966
    delay_write->delay_write_flag = 0U;
#line 1967
    retval = xd_finish_write(chip, delay_write->old_phyblock, delay_write->new_phyblock,
                             delay_write->logblock, (int )delay_write->pageoff);
#line 1971
    if (retval != 0) {
#line 1972
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_delay_write", 1972);
#line 1973
      return (1);
    } else {

    }
  } else {

  }
#line 1977
  return (0);
}
}
#line 1981 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
int xd_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) 
{ 
  struct xd_info *xd_card ;
  unsigned int lun ;
  struct xd_delay_write_tag *delay_write ;
  int retval ;
  int zone_no ;
  unsigned int index ;
  unsigned int offset ;
  u32 log_blk ;
  u32 old_blk ;
  u32 new_blk ;
  u16 log_off ;
  u16 total_sec_cnt ;
  u8 start_page ;
  u8 end_page ;
  u8 page_cnt ;
  u8 *ptr ;
  struct _ddebug descriptor ;
  unsigned int tmp ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct scatterlist *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  int tmp___8 ;
  unsigned int tmp___9 ;

  {
#line 1984
  xd_card = & chip->xd_card;
#line 1985
  lun = (unsigned int )(srb->device)->lun;
#line 1987
  delay_write = & xd_card->delay_write;
#line 1990
  index = 0U;
#line 1990
  offset = 0U;
#line 1991
  old_blk = 0U;
#line 1991
  new_blk = 0U;
#line 1992
  total_sec_cnt = sector_cnt;
#line 1993
  end_page = 0U;
#line 1996
  xd_set_err_code(chip, 0);
#line 1998
  xd_card->cleanup_counter = 0;
#line 2000
  descriptor.modname = "rts5208";
#line 2000
  descriptor.function = "xd_rw";
#line 2000
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 2000
  descriptor.format = "xd_rw: scsi_sg_count = %d\n";
#line 2000
  descriptor.lineno = 2001U;
#line 2000
  descriptor.flags = 0U;
#line 2000
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2000
  if (tmp___1 != 0L) {
#line 2000
    tmp = scsi_sg_count(srb);
#line 2000
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2000
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "xd_rw: scsi_sg_count = %d\n",
                      tmp);
  } else {

  }
#line 2003
  tmp___2 = scsi_sglist(srb);
#line 2003
  ptr = (u8 *)tmp___2;
#line 2005
  retval = xd_switch_clock(chip);
#line 2006
  if (retval != 0) {
#line 2007
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_rw", 2007);
#line 2008
    return (1);
  } else {

  }
#line 2012
  tmp___3 = detect_card_cd(chip, 16);
#line 2012
  if (tmp___3 != 0) {
#line 2013
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
#line 2014
    set_sense_type(chip, lun, 2);
#line 2015
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_rw", 2015);
#line 2016
    return (1);
  } else {

  }
#line 2019
  log_blk = start_sector >> (int )xd_card->block_shift;
#line 2020
  start_page = (u8 )((int )((unsigned char )start_sector) & (int )xd_card->page_off);
#line 2021
  zone_no = (int )(log_blk / 1000U);
#line 2022
  log_off = (unsigned short )(log_blk % 1000U);
#line 2024
  if ((xd_card->zone + (unsigned long )zone_no)->build_flag == 0) {
#line 2025
    retval = xd_build_l2p_tbl(chip, zone_no);
#line 2026
    if (retval != 0) {
#line 2027
      chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
#line 2028
      set_sense_type(chip, lun, 2);
#line 2029
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2029);
#line 2030
      return (1);
    } else {

    }
  } else {

  }
#line 2034
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 2036
    if (((unsigned int )delay_write->delay_write_flag != 0U && delay_write->logblock == log_blk) && (int )delay_write->pageoff < (int )start_page) {
#line 2039
      delay_write->delay_write_flag = 0U;
#line 2040
      if (delay_write->old_phyblock != 4294967295U) {
#line 2041
        retval = xd_copy_page(chip, delay_write->old_phyblock, delay_write->new_phyblock,
                              (int )delay_write->pageoff, (int )start_page);
#line 2045
        if (retval != 0) {
#line 2046
          set_sense_type(chip, lun, 8);
#line 2048
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                      "xd_rw", 2048);
#line 2049
          return (1);
        } else {

        }
      } else {

      }
#line 2052
      old_blk = delay_write->old_phyblock;
#line 2053
      new_blk = delay_write->new_phyblock;
    } else
#line 2054
    if (((unsigned int )delay_write->delay_write_flag != 0U && delay_write->logblock == log_blk) && (int )delay_write->pageoff == (int )start_page) {
#line 2057
      delay_write->delay_write_flag = 0U;
#line 2058
      old_blk = delay_write->old_phyblock;
#line 2059
      new_blk = delay_write->new_phyblock;
    } else {
#line 2061
      retval = xd_delay_write(chip);
#line 2062
      if (retval != 0) {
#line 2063
        set_sense_type(chip, lun, 8);
#line 2065
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_rw", 2065);
#line 2066
        return (1);
      } else {

      }
#line 2069
      old_blk = xd_get_l2p_tbl(chip, zone_no, (int )log_off);
#line 2070
      new_blk = xd_get_unused_block(chip, zone_no);
#line 2071
      if (old_blk == 4294967295U || new_blk == 4294967295U) {
#line 2073
        set_sense_type(chip, lun, 8);
#line 2075
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_rw", 2075);
#line 2076
        return (1);
      } else {

      }
#line 2079
      retval = xd_prepare_write(chip, old_blk, new_blk, log_blk, (int )start_page);
#line 2081
      if (retval != 0) {
#line 2082
        tmp___4 = detect_card_cd(chip, 16);
#line 2082
        if (tmp___4 != 0) {
#line 2084
          set_sense_type(chip, lun, 2);
#line 2086
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                      "xd_rw", 2086);
#line 2087
          return (1);
        } else {

        }
#line 2089
        set_sense_type(chip, lun, 8);
#line 2091
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_rw", 2091);
#line 2092
        return (1);
      } else {

      }
    }
  } else {
#line 2099
    retval = xd_delay_write(chip);
#line 2100
    if (retval != 0) {
#line 2101
      tmp___5 = detect_card_cd(chip, 16);
#line 2101
      if (tmp___5 != 0) {
#line 2102
        set_sense_type(chip, lun, 2);
#line 2104
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                    "xd_rw", 2104);
#line 2105
        return (1);
      } else {

      }
#line 2107
      set_sense_type(chip, lun, 7);
#line 2109
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2109);
#line 2110
      return (1);
    } else {

    }
#line 2114
    old_blk = xd_get_l2p_tbl(chip, zone_no, (int )log_off);
#line 2115
    if (old_blk == 4294967295U) {
#line 2116
      set_sense_type(chip, lun, 7);
#line 2118
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2118);
#line 2119
      return (1);
    } else {

    }
  }
#line 2123
  descriptor___0.modname = "rts5208";
#line 2123
  descriptor___0.function = "xd_rw";
#line 2123
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 2123
  descriptor___0.format = "old_blk = 0x%x\n";
#line 2123
  descriptor___0.lineno = 2123U;
#line 2123
  descriptor___0.flags = 0U;
#line 2123
  tmp___7 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2123
  if (tmp___7 != 0L) {
#line 2123
    tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2123
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___6, "old_blk = 0x%x\n",
                      old_blk);
  } else {

  }
#line 2125
  goto ldv_38727;
  ldv_38726: 
#line 2126
  tmp___8 = detect_card_cd(chip, 16);
#line 2126
  if (tmp___8 != 0) {
#line 2127
    chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
#line 2128
    set_sense_type(chip, lun, 2);
#line 2129
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_rw", 2129);
#line 2130
    return (1);
  } else {

  }
#line 2133
  if ((int )start_page + (int )total_sec_cnt > (int )xd_card->page_off + 1) {
#line 2134
    end_page = (unsigned int )xd_card->page_off + 1U;
  } else {
#line 2136
    end_page = (int )((u8 )total_sec_cnt) + (int )start_page;
  }
#line 2138
  page_cnt = (int )end_page - (int )start_page;
#line 2139
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2140
    retval = xd_read_multiple_pages(chip, old_blk, log_blk, (int )start_page, (int )end_page,
                                    ptr, & index, & offset);
#line 2143
    if (retval != 0) {
#line 2144
      set_sense_type(chip, lun, 7);
#line 2146
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2146);
#line 2147
      return (1);
    } else {

    }
  } else {
#line 2150
    retval = xd_write_multiple_pages(chip, old_blk, new_blk, log_blk, (int )start_page,
                                     (int )end_page, ptr, & index, & offset);
#line 2154
    if (retval != 0) {
#line 2155
      set_sense_type(chip, lun, 8);
#line 2157
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2157);
#line 2158
      return (1);
    } else {

    }
  }
#line 2162
  total_sec_cnt = (int )total_sec_cnt - (int )((u16 )page_cnt);
#line 2163
  tmp___9 = scsi_sg_count(srb);
#line 2163
  if (tmp___9 == 0U) {
#line 2164
    ptr = ptr + (unsigned long )((int )page_cnt * 512);
  } else {

  }
#line 2166
  if ((unsigned int )total_sec_cnt == 0U) {
#line 2167
    goto ldv_38725;
  } else {

  }
#line 2169
  log_blk = log_blk + 1U;
#line 2170
  zone_no = (int )(log_blk / 1000U);
#line 2171
  log_off = (unsigned short )(log_blk % 1000U);
#line 2173
  if ((xd_card->zone + (unsigned long )zone_no)->build_flag == 0) {
#line 2174
    retval = xd_build_l2p_tbl(chip, zone_no);
#line 2175
    if (retval != 0) {
#line 2176
      chip->card_fail = (u8 )((unsigned int )chip->card_fail | 16U);
#line 2177
      set_sense_type(chip, lun, 2);
#line 2179
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2179);
#line 2180
      return (1);
    } else {

    }
  } else {

  }
#line 2184
  old_blk = xd_get_l2p_tbl(chip, zone_no, (int )log_off);
#line 2185
  if (old_blk == 4294967295U) {
#line 2186
    if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2187
      set_sense_type(chip, lun, 7);
    } else {
#line 2190
      set_sense_type(chip, lun, 8);
    }
#line 2193
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_rw", 2193);
#line 2194
    return (1);
  } else {

  }
#line 2197
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 2198
    new_blk = xd_get_unused_block(chip, zone_no);
#line 2199
    if (new_blk == 4294967295U) {
#line 2200
      set_sense_type(chip, lun, 8);
#line 2202
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_rw", 2202);
#line 2203
      return (1);
    } else {

    }
  } else {

  }
#line 2207
  start_page = 0U;
  ldv_38727: ;
#line 2125
  if ((unsigned int )total_sec_cnt != 0U) {
#line 2127
    goto ldv_38726;
  } else {

  }
  ldv_38725: ;
#line 2210
  if ((unsigned int )srb->sc_data_direction == 1U && (int )end_page != (int )xd_card->page_off + 1) {
#line 2213
    delay_write->delay_write_flag = 1U;
#line 2214
    delay_write->old_phyblock = old_blk;
#line 2215
    delay_write->new_phyblock = new_blk;
#line 2216
    delay_write->logblock = log_blk;
#line 2217
    delay_write->pageoff = end_page;
  } else {

  }
#line 2242
  scsi_set_resid(srb, 0);
#line 2244
  return (0);
}
}
#line 2247 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
void xd_free_l2p_tbl(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int i ;

  {
#line 2249
  xd_card = & chip->xd_card;
#line 2250
  i = 0;
#line 2252
  if ((unsigned long )xd_card->zone != (unsigned long )((struct zone_entry *)0)) {
#line 2253
    i = 0;
#line 2253
    goto ldv_38734;
    ldv_38733: ;
#line 2254
    if ((unsigned long )(xd_card->zone + (unsigned long )i)->l2p_table != (unsigned long )((u16 *)0U)) {
#line 2255
      vfree((void const   *)(xd_card->zone + (unsigned long )i)->l2p_table);
#line 2256
      (xd_card->zone + (unsigned long )i)->l2p_table = (u16 *)0U;
    } else {

    }
#line 2258
    if ((unsigned long )(xd_card->zone + (unsigned long )i)->free_table != (unsigned long )((u16 *)0U)) {
#line 2259
      vfree((void const   *)(xd_card->zone + (unsigned long )i)->free_table);
#line 2260
      (xd_card->zone + (unsigned long )i)->free_table = (u16 *)0U;
    } else {

    }
#line 2253
    i = i + 1;
    ldv_38734: ;
#line 2253
    if (xd_card->zone_cnt > i) {
#line 2255
      goto ldv_38733;
    } else {

    }
#line 2263
    vfree((void const   *)xd_card->zone);
#line 2264
    xd_card->zone = (struct zone_entry *)0;
  } else {

  }
#line 2266
  return;
}
}
#line 2268 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
void xd_cleanup_work(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 2271
  xd_card = & chip->xd_card;
#line 2273
  if ((unsigned int )xd_card->delay_write.delay_write_flag != 0U) {
#line 2274
    descriptor.modname = "rts5208";
#line 2274
    descriptor.function = "xd_cleanup_work";
#line 2274
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c";
#line 2274
    descriptor.format = "xD: delay write\n";
#line 2274
    descriptor.lineno = 2274U;
#line 2274
    descriptor.flags = 0U;
#line 2274
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2274
    if (tmp___0 != 0L) {
#line 2274
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2274
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "xD: delay write\n");
    } else {

    }
#line 2275
    xd_delay_write(chip);
#line 2276
    xd_card->cleanup_counter = 0;
  } else {

  }
#line 2278
  return;
}
}
#line 2281 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
int xd_power_off_card3v3(struct rtsx_chip *chip ) 
{ 
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 2285
  retval = disable_card_clock(chip, 16);
#line 2286
  if (retval != 0) {
#line 2287
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_power_off_card3v3", 2287);
#line 2288
    return (1);
  } else {

  }
#line 2291
  retval = rtsx_write_register(chip, 64853, 2, 0);
#line 2292
  if (retval != 0) {
#line 2293
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "xd_power_off_card3v3", 2293);
#line 2294
    return (retval);
  } else {

  }
#line 2297
  if (chip->ft2_fast_mode == 0) {
#line 2298
    retval = card_power_off(chip, 16);
#line 2299
    if (retval != 0) {
#line 2300
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_power_off_card3v3", 2300);
#line 2301
      return (1);
    } else {

    }
#line 2304
    tmp = get_current();
#line 2304
    tmp->task_state_change = 0UL;
#line 2304
    __ret = 1L;
#line 2304
    switch (8UL) {
    case 1UL: 
#line 2304
    tmp___0 = get_current();
#line 2304
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 2304
    goto ldv_38749;
    case 2UL: 
#line 2304
    tmp___1 = get_current();
#line 2304
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 2304
    goto ldv_38749;
    case 4UL: 
#line 2304
    tmp___2 = get_current();
#line 2304
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 2304
    goto ldv_38749;
    case 8UL: 
#line 2304
    tmp___3 = get_current();
#line 2304
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 2304
    goto ldv_38749;
    default: 
#line 2304
    __xchg_wrong_size();
    }
    ldv_38749: 
#line 2304
    schedule_timeout(12L);
  } else {

  }
#line 2307
  if (chip->asic_code != 0) {
#line 2308
    retval = xd_pull_ctl_disable(chip);
#line 2309
    if (retval != 0) {
#line 2310
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_power_off_card3v3", 2310);
#line 2311
      return (1);
    } else {

    }
  } else {
#line 2314
    retval = rtsx_write_register(chip, 64541, 255, 223);
#line 2315
    if (retval != 0) {
#line 2316
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                  "xd_power_off_card3v3", 2316);
#line 2317
      return (retval);
    } else {

    }
  }
#line 2321
  return (0);
}
}
#line 2324 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c"
int release_xd_card(struct rtsx_chip *chip ) 
{ 
  struct xd_info *xd_card ;
  int retval ;

  {
#line 2326
  xd_card = & chip->xd_card;
#line 2329
  chip->card_ready = (unsigned int )chip->card_ready & 239U;
#line 2330
  chip->card_fail = (unsigned int )chip->card_fail & 239U;
#line 2331
  chip->card_wp = (unsigned int )chip->card_wp & 239U;
#line 2333
  xd_card->delay_write.delay_write_flag = 0U;
#line 2335
  xd_free_l2p_tbl(chip);
#line 2337
  retval = xd_power_off_card3v3(chip);
#line 2338
  if (retval != 0) {
#line 2339
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.c",
                "release_xd_card", 2339);
#line 2340
    return (1);
  } else {

  }
#line 2343
  return (0);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/xd.o.c.prepared"
int ldv_scsi_add_host_with_dma_63(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_69(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 1087 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static void rtsx_clear_ms_error(struct rtsx_chip *chip ) 
{ 


  {
#line 1089
  rtsx_write_register(chip, 64852, 136, 136);
#line 1090
  return;
}
}
#line 203 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/ms.h"
void mspro_stop_seq_mode(struct rtsx_chip *chip ) ;
#line 214
int ms_delay_write(struct rtsx_chip *chip ) ;
#line 31 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
__inline static void ms_set_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct ms_info *ms_card ;

  {
#line 33
  ms_card = & chip->ms_card;
#line 35
  ms_card->err_code = err_code;
#line 36
  return;
}
}
#line 38 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
__inline static int ms_check_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct ms_info *ms_card ;

  {
#line 40
  ms_card = & chip->ms_card;
#line 42
  return ((int )ms_card->err_code == (int )err_code);
}
}
#line 45 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_parse_err_code(struct rtsx_chip *chip ) 
{ 


  {
#line 47
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
              "ms_parse_err_code", 47);
#line 48
  return (1);
}
}
#line 51 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_transfer_tpc(struct rtsx_chip *chip , u8 trans_mode , u8 tpc , u8 cnt ,
                           u8 cfg ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u8 *ptr ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int tmp___1 ;
  u8 *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 54
  ms_card = & chip->ms_card;
#line 58
  descriptor.modname = "rts5208";
#line 58
  descriptor.function = "ms_transfer_tpc";
#line 58
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 58
  descriptor.format = "%s: tpc = 0x%x\n";
#line 58
  descriptor.lineno = 58U;
#line 58
  descriptor.flags = 0U;
#line 58
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 58
  if (tmp___0 != 0L) {
#line 58
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 58
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "%s: tpc = 0x%x\n",
                      "ms_transfer_tpc", (int )tpc);
  } else {

  }
#line 60
  chip->ci = 0;
#line 62
  rtsx_add_cmd(chip, 1, 64833, 255, (int )tpc);
#line 63
  rtsx_add_cmd(chip, 1, 64837, 255, (int )cnt);
#line 64
  rtsx_add_cmd(chip, 1, 64834, 255, (int )cfg);
#line 65
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 68
  rtsx_add_cmd(chip, 1, 64835, 255, (int )((unsigned int )trans_mode | 128U));
#line 70
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 73
  rtsx_add_cmd(chip, 0, 64834, 0, 0);
#line 75
  retval = rtsx_send_cmd(chip, 8, 5000);
#line 76
  if (retval < 0) {
#line 77
    rtsx_clear_ms_error(chip);
#line 78
    ms_set_err_code(chip, 64);
#line 79
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_tpc", 79);
#line 80
    tmp___1 = ms_parse_err_code(chip);
#line 80
    return (tmp___1);
  } else {

  }
#line 83
  tmp___2 = rtsx_get_cmd_data(chip);
#line 83
  ptr = tmp___2 + 1UL;
#line 85
  if (((int )tpc & 8) == 0) {
#line 86
    if (((int )*ptr & 32) != 0) {
#line 87
      ms_set_err_code(chip, 128);
#line 88
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_transfer_tpc", 88);
#line 89
      tmp___3 = ms_parse_err_code(chip);
#line 89
      return (tmp___3);
    } else {

    }
  } else
#line 92
  if (((int )ms_card->ms_type & 255) == 1 && (int )((signed char )*ptr) >= 0) {
#line 93
    if (((int )*ptr & 10) != 0) {
#line 94
      ms_set_err_code(chip, 8);
#line 95
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_transfer_tpc", 95);
#line 96
      tmp___4 = ms_parse_err_code(chip);
#line 96
      return (tmp___4);
    } else {

    }
  } else {

  }
#line 101
  if (((int )*ptr & 16) != 0) {
#line 102
    rtsx_clear_ms_error(chip);
#line 103
    ms_set_err_code(chip, 64);
#line 104
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_tpc", 104);
#line 105
    tmp___5 = ms_parse_err_code(chip);
#line 105
    return (tmp___5);
  } else {

  }
#line 108
  return (0);
}
}
#line 111 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_transfer_data(struct rtsx_chip *chip , u8 trans_mode , u8 tpc , u16 sec_cnt ,
                            u8 cfg , bool mode_2k , int use_sg , void *buf , int buf_len ) 
{ 
  int retval ;
  u8 val ;
  u8 err_code ;
  enum dma_data_direction dir ;

  {
#line 116
  err_code = 0U;
#line 119
  if ((unsigned long )buf == (unsigned long )((void *)0) || buf_len == 0) {
#line 120
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_data", 120);
#line 121
    return (1);
  } else {

  }
#line 124
  if ((unsigned int )trans_mode == 8U) {
#line 125
    dir = 2;
#line 126
    err_code = 4U;
  } else
#line 127
  if ((unsigned int )trans_mode == 12U) {
#line 128
    dir = 1;
#line 129
    err_code = 2U;
  } else {
#line 131
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_data", 131);
#line 132
    return (1);
  }
#line 135
  chip->ci = 0;
#line 137
  rtsx_add_cmd(chip, 1, 64833, 255, (int )tpc);
#line 138
  rtsx_add_cmd(chip, 1, 64839, 255, (int )((unsigned char )((int )sec_cnt >> 8)));
#line 140
  rtsx_add_cmd(chip, 1, 64838, 255, (int )((unsigned char )sec_cnt));
#line 141
  rtsx_add_cmd(chip, 1, 64834, 255, (int )cfg);
#line 143
  if ((int )mode_2k) {
#line 144
    rtsx_add_cmd(chip, 1, 64832, 4, 4);
  } else {
#line 147
    rtsx_add_cmd(chip, 1, 64832, 4, 0);
  }
#line 150
  trans_dma_enable(dir, chip, (u32 )((int )sec_cnt * 512), 32);
#line 152
  rtsx_add_cmd(chip, 1, 64835, 255, (int )((unsigned int )trans_mode | 128U));
#line 154
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 157
  rtsx_send_cmd_no_wait(chip);
#line 159
  retval = rtsx_transfer_data(chip, 8, buf, (size_t )buf_len, use_sg, dir, chip->mspro_timeout);
#line 161
  if (retval < 0) {
#line 162
    ms_set_err_code(chip, (int )err_code);
#line 163
    if (retval == -110) {
#line 164
      retval = 2;
    } else {
#line 166
      retval = 1;
    }
#line 168
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_data", 168);
#line 169
    return (retval);
  } else {

  }
#line 172
  retval = rtsx_read_register(chip, 64834, & val);
#line 173
  if (retval != 0) {
#line 174
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_data", 174);
#line 175
    return (retval);
  } else {

  }
#line 177
  if (((int )val & 58) != 0) {
#line 178
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_transfer_data", 178);
#line 179
    return (1);
  } else {

  }
#line 182
  return (0);
}
}
#line 185 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_write_bytes(struct rtsx_chip *chip , u8 tpc , u8 cnt , u8 cfg , u8 *data ,
                          int data_len ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 188
  ms_card = & chip->ms_card;
#line 191
  if ((unsigned long )data == (unsigned long )((u8 *)0U) || (int )cnt > data_len) {
#line 192
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_bytes", 192);
#line 193
    return (10);
  } else {

  }
#line 196
  chip->ci = 0;
#line 198
  i = 0;
#line 198
  goto ldv_38316;
  ldv_38315: 
#line 199
  rtsx_add_cmd(chip, 1, (int )((unsigned int )((u16 )i) + 64000U), 255, (int )*(data + (unsigned long )i));
#line 198
  i = i + 1;
  ldv_38316: ;
#line 198
  if ((int )cnt > i) {
#line 200
    goto ldv_38315;
  } else {

  }

#line 202
  if ((int )cnt & 1) {
#line 203
    rtsx_add_cmd(chip, 1, (int )((unsigned int )((u16 )i) + 64000U), 255, 255);
  } else {

  }
#line 205
  rtsx_add_cmd(chip, 1, 64833, 255, (int )tpc);
#line 206
  rtsx_add_cmd(chip, 1, 64837, 255, (int )cnt);
#line 207
  rtsx_add_cmd(chip, 1, 64834, 255, (int )cfg);
#line 208
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 211
  rtsx_add_cmd(chip, 1, 64835, 255, 132);
#line 213
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 216
  retval = rtsx_send_cmd(chip, 8, 5000);
#line 217
  if (retval < 0) {
#line 218
    val = 0U;
#line 220
    rtsx_read_register(chip, 64834, & val);
#line 221
    descriptor.modname = "rts5208";
#line 221
    descriptor.function = "ms_write_bytes";
#line 221
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 221
    descriptor.format = "MS_TRANS_CFG: 0x%02x\n";
#line 221
    descriptor.lineno = 221U;
#line 221
    descriptor.flags = 0U;
#line 221
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 221
    if (tmp___0 != 0L) {
#line 221
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 221
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "MS_TRANS_CFG: 0x%02x\n",
                        (int )val);
    } else {

    }
#line 223
    rtsx_clear_ms_error(chip);
#line 225
    if (((int )tpc & 8) == 0) {
#line 226
      if (((int )val & 32) != 0) {
#line 227
        ms_set_err_code(chip, 128);
#line 228
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_write_bytes", 228);
#line 229
        tmp___1 = ms_parse_err_code(chip);
#line 229
        return (tmp___1);
      } else {

      }
    } else
#line 232
    if (((int )ms_card->ms_type & 255) == 1 && (int )((signed char )val) >= 0) {
#line 233
      if (((int )val & 10) != 0) {
#line 234
        ms_set_err_code(chip, 8);
#line 235
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_write_bytes", 235);
#line 236
        tmp___2 = ms_parse_err_code(chip);
#line 236
        return (tmp___2);
      } else {

      }
    } else {

    }
#line 241
    if (((int )val & 16) != 0) {
#line 242
      ms_set_err_code(chip, 64);
#line 243
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_bytes", 243);
#line 244
      tmp___3 = ms_parse_err_code(chip);
#line 244
      return (tmp___3);
    } else {

    }
#line 247
    ms_set_err_code(chip, 64);
#line 248
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_bytes", 248);
#line 249
    tmp___4 = ms_parse_err_code(chip);
#line 249
    return (tmp___4);
  } else {

  }
#line 252
  return (0);
}
}
#line 255 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_bytes(struct rtsx_chip *chip , u8 tpc , u8 cnt , u8 cfg , u8 *data ,
                         int data_len ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 *ptr ;
  u8 val ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  u8 *tmp___3 ;
  struct _ddebug descriptor ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct _ddebug descriptor___0 ;
  long tmp___6 ;

  {
#line 258
  ms_card = & chip->ms_card;
#line 262
  if ((unsigned long )data == (unsigned long )((u8 *)0U)) {
#line 263
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_bytes", 263);
#line 264
    return (10);
  } else {

  }
#line 267
  chip->ci = 0;
#line 269
  rtsx_add_cmd(chip, 1, 64833, 255, (int )tpc);
#line 270
  rtsx_add_cmd(chip, 1, 64837, 255, (int )cnt);
#line 271
  rtsx_add_cmd(chip, 1, 64834, 255, (int )cfg);
#line 272
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 275
  rtsx_add_cmd(chip, 1, 64835, 255, 128);
#line 277
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 280
  i = 0;
#line 280
  goto ldv_38334;
  ldv_38333: 
#line 281
  rtsx_add_cmd(chip, 0, (int )((unsigned int )((u16 )i) + 64000U), 0, 0);
#line 280
  i = i + 1;
  ldv_38334: ;
#line 280
  if (data_len + -1 > i) {
#line 282
    goto ldv_38333;
  } else {

  }

#line 283
  if (data_len & 1) {
#line 284
    rtsx_add_cmd(chip, 0, (int )((unsigned int )((u16 )data_len) + 64000U), 0, 0);
  } else {
#line 286
    rtsx_add_cmd(chip, 0, (int )((unsigned int )((u16 )data_len) + 63999U), 0, 0);
  }
#line 289
  retval = rtsx_send_cmd(chip, 8, 5000);
#line 290
  if (retval < 0) {
#line 291
    val = 0U;
#line 293
    rtsx_read_register(chip, 64834, & val);
#line 294
    rtsx_clear_ms_error(chip);
#line 296
    if (((int )tpc & 8) == 0) {
#line 297
      if (((int )val & 32) != 0) {
#line 298
        ms_set_err_code(chip, 128);
#line 299
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_bytes", 299);
#line 300
        tmp = ms_parse_err_code(chip);
#line 300
        return (tmp);
      } else {

      }
    } else
#line 303
    if (((int )ms_card->ms_type & 255) == 1 && (int )((signed char )val) >= 0) {
#line 304
      if (((int )val & 10) != 0) {
#line 305
        ms_set_err_code(chip, 8);
#line 306
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_bytes", 306);
#line 307
        tmp___0 = ms_parse_err_code(chip);
#line 307
        return (tmp___0);
      } else {

      }
    } else {

    }
#line 312
    if (((int )val & 16) != 0) {
#line 313
      ms_set_err_code(chip, 64);
#line 314
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_bytes", 314);
#line 315
      tmp___1 = ms_parse_err_code(chip);
#line 315
      return (tmp___1);
    } else {

    }
#line 318
    ms_set_err_code(chip, 64);
#line 319
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_bytes", 319);
#line 320
    tmp___2 = ms_parse_err_code(chip);
#line 320
    return (tmp___2);
  } else {

  }
#line 323
  tmp___3 = rtsx_get_cmd_data(chip);
#line 323
  ptr = tmp___3 + 1UL;
#line 325
  i = 0;
#line 325
  goto ldv_38338;
  ldv_38337: 
#line 326
  *(data + (unsigned long )i) = *(ptr + (unsigned long )i);
#line 325
  i = i + 1;
  ldv_38338: ;
#line 325
  if (i < data_len) {
#line 327
    goto ldv_38337;
  } else {

  }

#line 328
  if ((unsigned int )tpc == 3U && data_len == 8) {
#line 329
    descriptor.modname = "rts5208";
#line 329
    descriptor.function = "ms_read_bytes";
#line 329
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 329
    descriptor.format = "Read format progress:\n";
#line 329
    descriptor.lineno = 329U;
#line 329
    descriptor.flags = 0U;
#line 329
    tmp___5 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 329
    if (tmp___5 != 0L) {
#line 329
      tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 329
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___4, "Read format progress:\n");
    } else {

    }
#line 330
    descriptor___0.modname = "rts5208";
#line 330
    descriptor___0.function = "ms_read_bytes";
#line 330
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 330
    descriptor___0.format = "rts5208: ";
#line 330
    descriptor___0.lineno = 331U;
#line 330
    descriptor___0.flags = 0U;
#line 330
    tmp___6 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 330
    if (tmp___6 != 0L) {
#line 330
      print_hex_dump("\017", "rts5208: ", 0, 16, 1, (void const   *)ptr, (size_t )cnt,
                     1);
    } else {

    }
  } else {

  }
#line 334
  return (0);
}
}
#line 337 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_set_rw_reg_addr(struct rtsx_chip *chip , u8 read_start , u8 read_cnt ,
                              u8 write_start , u8 write_cnt ) 
{ 
  int retval ;
  int i ;
  u8 data[4U] ;

  {
#line 343
  data[0] = read_start;
#line 344
  data[1] = read_cnt;
#line 345
  data[2] = write_start;
#line 346
  data[3] = write_cnt;
#line 348
  i = 0;
#line 348
  goto ldv_38353;
  ldv_38352: 
#line 349
  retval = ms_write_bytes(chip, 8, 4, 0, (u8 *)(& data), 4);
#line 351
  if (retval == 0) {
#line 352
    return (0);
  } else {

  }
#line 353
  rtsx_clear_ms_error(chip);
#line 348
  i = i + 1;
  ldv_38353: ;
#line 348
  if (i <= 2) {
#line 350
    goto ldv_38352;
  } else {

  }
#line 356
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
              "ms_set_rw_reg_addr", 356);
#line 357
  return (1);
}
}
#line 360 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_send_cmd(struct rtsx_chip *chip , u8 cmd , u8 cfg ) 
{ 
  u8 data[2U] ;
  int tmp ;

  {
#line 364
  data[0] = cmd;
#line 365
  data[1] = 0U;
#line 367
  tmp = ms_write_bytes(chip, 14, 1, (int )cfg, (u8 *)(& data), 1);
#line 367
  return (tmp);
}
}
#line 370 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_set_init_para(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 372
  ms_card = & chip->ms_card;
#line 375
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1536) == 1536) {
#line 376
    if (chip->asic_code != 0) {
#line 377
      ms_card->ms_clock = chip->asic_ms_hg_clk;
    } else {
#line 379
      ms_card->ms_clock = chip->fpga_ms_hg_clk;
    }
  } else
#line 381
  if (((int )ms_card->ms_type & 255) == 1 || ((int )ms_card->ms_type & 256) != 0) {
#line 382
    if (chip->asic_code != 0) {
#line 383
      ms_card->ms_clock = chip->asic_ms_4bit_clk;
    } else {
#line 385
      ms_card->ms_clock = chip->fpga_ms_4bit_clk;
    }
  } else
#line 388
  if (chip->asic_code != 0) {
#line 389
    ms_card->ms_clock = chip->asic_ms_1bit_clk;
  } else {
#line 391
    ms_card->ms_clock = chip->fpga_ms_1bit_clk;
  }
#line 394
  retval = switch_clock(chip, ms_card->ms_clock);
#line 395
  if (retval != 0) {
#line 396
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_init_para", 396);
#line 397
    return (1);
  } else {

  }
#line 400
  retval = select_card(chip, 8);
#line 401
  if (retval != 0) {
#line 402
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_init_para", 402);
#line 403
    return (1);
  } else {

  }
#line 406
  return (0);
}
}
#line 409 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_switch_clock(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 411
  ms_card = & chip->ms_card;
#line 414
  retval = select_card(chip, 8);
#line 415
  if (retval != 0) {
#line 416
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_clock", 416);
#line 417
    return (1);
  } else {

  }
#line 420
  retval = switch_clock(chip, ms_card->ms_clock);
#line 421
  if (retval != 0) {
#line 422
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_clock", 422);
#line 423
    return (1);
  } else {

  }
#line 426
  return (0);
}
}
#line 429 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_pull_ctl_disable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 433
  if ((unsigned int )chip->product_id == 21000U) {
#line 434
    retval = rtsx_write_register(chip, 64864, 255, 85);
#line 436
    if (retval != 0) {
#line 437
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 437);
#line 438
      return (retval);
    } else {

    }
#line 440
    retval = rtsx_write_register(chip, 64865, 255, 85);
#line 442
    if (retval != 0) {
#line 443
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 443);
#line 444
      return (retval);
    } else {

    }
#line 446
    retval = rtsx_write_register(chip, 64866, 255, 75);
#line 448
    if (retval != 0) {
#line 449
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 449);
#line 450
      return (retval);
    } else {

    }
#line 452
    retval = rtsx_write_register(chip, 64867, 255, 85);
#line 454
    if (retval != 0) {
#line 455
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 455);
#line 456
      return (retval);
    } else {

    }
#line 458
    retval = rtsx_write_register(chip, 64868, 255, 180);
#line 460
    if (retval != 0) {
#line 461
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 461);
#line 462
      return (retval);
    } else {

    }
#line 464
    retval = rtsx_write_register(chip, 64869, 255, 5);
#line 466
    if (retval != 0) {
#line 467
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pull_ctl_disable", 467);
#line 468
      return (retval);
    } else {

    }
  } else
#line 470
  if ((unsigned int )chip->product_id == 21128U) {
#line 471
    if (chip->baro_pkg == 0) {
#line 472
      retval = rtsx_write_register(chip, 64864, 255, 85);
#line 474
      if (retval != 0) {
#line 475
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_pull_ctl_disable", 475);
#line 476
        return (retval);
      } else {

      }
#line 478
      retval = rtsx_write_register(chip, 64865, 255, 85);
#line 480
      if (retval != 0) {
#line 481
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_pull_ctl_disable", 481);
#line 482
        return (retval);
      } else {

      }
#line 484
      retval = rtsx_write_register(chip, 64866, 255, 75);
#line 486
      if (retval != 0) {
#line 487
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_pull_ctl_disable", 487);
#line 488
        return (retval);
      } else {

      }
#line 490
      retval = rtsx_write_register(chip, 64867, 255, 105);
#line 492
      if (retval != 0) {
#line 493
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_pull_ctl_disable", 493);
#line 494
        return (retval);
      } else {

      }
    } else {

    }
  } else {

  }
#line 499
  return (0);
}
}
#line 502 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_pull_ctl_enable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 506
  chip->ci = 0;
#line 508
  if ((unsigned int )chip->product_id == 21000U) {
#line 509
    rtsx_add_cmd(chip, 1, 64864, 255, 81);
#line 511
    rtsx_add_cmd(chip, 1, 64865, 255, 81);
#line 513
    rtsx_add_cmd(chip, 1, 64866, 255, 75);
#line 515
    rtsx_add_cmd(chip, 1, 64867, 255, 85);
#line 517
    rtsx_add_cmd(chip, 1, 64868, 255, 180);
#line 519
    rtsx_add_cmd(chip, 1, 64869, 255, 5);
  } else
#line 521
  if ((unsigned int )chip->product_id == 21128U) {
#line 522
    if (chip->baro_pkg == 0) {
#line 523
      rtsx_add_cmd(chip, 1, 64864, 255, 85);
#line 525
      rtsx_add_cmd(chip, 1, 64865, 255, 69);
#line 527
      rtsx_add_cmd(chip, 1, 64866, 255, 75);
#line 529
      rtsx_add_cmd(chip, 1, 64867, 255, 41);
    } else {

    }
  } else {

  }
#line 534
  retval = rtsx_send_cmd(chip, 8, 100);
#line 535
  if (retval < 0) {
#line 536
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pull_ctl_enable", 536);
#line 537
    return (1);
  } else {

  }
#line 540
  return (0);
}
}
#line 543 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_prepare_reset(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u8 oc_mask ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;
  long volatile   __ret___0 ;
  struct task_struct *tmp___5 ;
  struct task_struct *tmp___6 ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct _ddebug descriptor ;
  struct device *tmp___9 ;
  long tmp___10 ;

  {
#line 545
  ms_card = & chip->ms_card;
#line 547
  oc_mask = 0U;
#line 549
  ms_card->ms_type = 0U;
#line 550
  ms_card->check_ms_flow = 0U;
#line 551
  ms_card->switch_8bit_fail = 0U;
#line 552
  ms_card->delay_write.delay_write_flag = 0U;
#line 554
  ms_card->pro_under_formatting = 0;
#line 556
  retval = ms_power_off_card3v3(chip);
#line 557
  if (retval != 0) {
#line 558
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 558);
#line 559
    return (1);
  } else {

  }
#line 562
  if (chip->ft2_fast_mode == 0) {
#line 563
    tmp = get_current();
#line 563
    tmp->task_state_change = 0UL;
#line 563
    __ret = 1L;
#line 563
    switch (8UL) {
    case 1UL: 
#line 563
    tmp___0 = get_current();
#line 563
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                         "cc");
#line 563
    goto ldv_38393;
    case 2UL: 
#line 563
    tmp___1 = get_current();
#line 563
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                         "cc");
#line 563
    goto ldv_38393;
    case 4UL: 
#line 563
    tmp___2 = get_current();
#line 563
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                         "cc");
#line 563
    goto ldv_38393;
    case 8UL: 
#line 563
    tmp___3 = get_current();
#line 563
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                         "cc");
#line 563
    goto ldv_38393;
    default: 
#line 563
    __xchg_wrong_size();
    }
    ldv_38393: 
#line 563
    schedule_timeout(62L);
  } else {

  }
#line 565
  retval = enable_card_clock(chip, 8);
#line 566
  if (retval != 0) {
#line 567
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 567);
#line 568
    return (1);
  } else {

  }
#line 571
  if (chip->asic_code != 0) {
#line 572
    retval = ms_pull_ctl_enable(chip);
#line 573
    if (retval != 0) {
#line 574
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 574);
#line 575
      return (1);
    } else {

    }
  } else {
#line 578
    retval = rtsx_write_register(chip, 64541, 48, 0);
#line 580
    if (retval != 0) {
#line 581
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 581);
#line 582
      return (retval);
    } else {

    }
  }
#line 586
  if (chip->ft2_fast_mode == 0) {
#line 587
    retval = card_power_on(chip, 8);
#line 588
    if (retval != 0) {
#line 589
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 589);
#line 590
      return (1);
    } else {

    }
#line 593
    tmp___4 = get_current();
#line 593
    tmp___4->task_state_change = 0UL;
#line 593
    __ret___0 = 1L;
#line 593
    switch (8UL) {
    case 1UL: 
#line 593
    tmp___5 = get_current();
#line 593
    __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret___0), "+m" (tmp___5->state): : "memory",
                         "cc");
#line 593
    goto ldv_38401;
    case 2UL: 
#line 593
    tmp___6 = get_current();
#line 593
    __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret___0), "+m" (tmp___6->state): : "memory",
                         "cc");
#line 593
    goto ldv_38401;
    case 4UL: 
#line 593
    tmp___7 = get_current();
#line 593
    __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret___0), "+m" (tmp___7->state): : "memory",
                         "cc");
#line 593
    goto ldv_38401;
    case 8UL: 
#line 593
    tmp___8 = get_current();
#line 593
    __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret___0), "+m" (tmp___8->state): : "memory",
                         "cc");
#line 593
    goto ldv_38401;
    default: 
#line 593
    __xchg_wrong_size();
    }
    ldv_38401: 
#line 593
    schedule_timeout(37L);
#line 596
    if ((unsigned int )chip->lun_mode == 1U) {
#line 597
      oc_mask = 96U;
    } else {
#line 599
      oc_mask = 6U;
    }
#line 601
    if ((unsigned int )((int )chip->ocp_stat & (int )oc_mask) != 0U) {
#line 602
      descriptor.modname = "rts5208";
#line 602
      descriptor.function = "ms_prepare_reset";
#line 602
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 602
      descriptor.format = "Over current, OCPSTAT is 0x%x\n";
#line 602
      descriptor.lineno = 603U;
#line 602
      descriptor.flags = 0U;
#line 602
      tmp___10 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 602
      if (tmp___10 != 0L) {
#line 602
        tmp___9 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 602
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___9, "Over current, OCPSTAT is 0x%x\n",
                          (int )chip->ocp_stat);
      } else {

      }
#line 604
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 604);
#line 605
      return (1);
    } else {

    }
  } else {

  }
#line 610
  retval = rtsx_write_register(chip, 64853, 8, 8);
#line 612
  if (retval != 0) {
#line 613
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 613);
#line 614
    return (retval);
  } else {

  }
#line 617
  if (chip->asic_code != 0) {
#line 618
    retval = rtsx_write_register(chip, 64832, 255, 0);
#line 620
    if (retval != 0) {
#line 621
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 621);
#line 622
      return (retval);
    } else {

    }
  } else {
#line 625
    retval = rtsx_write_register(chip, 64832, 255, 128);
#line 627
    if (retval != 0) {
#line 628
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_reset", 628);
#line 629
      return (retval);
    } else {

    }
  }
#line 632
  retval = rtsx_write_register(chip, 64834, 255, 0);
#line 634
  if (retval != 0) {
#line 635
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 635);
#line 636
    return (retval);
  } else {

  }
#line 638
  retval = rtsx_write_register(chip, 64852, 136, 136);
#line 640
  if (retval != 0) {
#line 641
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 641);
#line 642
    return (retval);
  } else {

  }
#line 645
  retval = ms_set_init_para(chip);
#line 646
  if (retval != 0) {
#line 647
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_prepare_reset", 647);
#line 648
    return (1);
  } else {

  }
#line 651
  return (0);
}
}
#line 654 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_identify_media_type(struct rtsx_chip *chip , int switch_8bit_bus ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___5 ;
  long tmp___6 ;

  {
#line 656
  ms_card = & chip->ms_card;
#line 660
  retval = ms_set_rw_reg_addr(chip, 2, 6, 16, 1);
#line 661
  if (retval != 0) {
#line 662
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 662);
#line 663
    return (1);
  } else {

  }
#line 666
  i = 0;
#line 666
  goto ldv_38419;
  ldv_38418: 
#line 667
  retval = ms_transfer_tpc(chip, 0, 4, 6, 0);
#line 669
  if (retval == 0) {
#line 670
    goto ldv_38417;
  } else {

  }
#line 666
  i = i + 1;
  ldv_38419: ;
#line 666
  if (i <= 2) {
#line 668
    goto ldv_38418;
  } else {

  }
  ldv_38417: ;
#line 672
  if (i == 3) {
#line 673
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 673);
#line 674
    return (1);
  } else {

  }
#line 677
  retval = rtsx_read_register(chip, 64002, & val);
#line 678
  if (retval != 0) {
#line 679
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 679);
#line 680
    return (retval);
  } else {

  }
#line 682
  descriptor.modname = "rts5208";
#line 682
  descriptor.function = "ms_identify_media_type";
#line 682
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 682
  descriptor.format = "Type register: 0x%x\n";
#line 682
  descriptor.lineno = 682U;
#line 682
  descriptor.flags = 0U;
#line 682
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 682
  if (tmp___0 != 0L) {
#line 682
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 682
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Type register: 0x%x\n",
                      (int )val);
  } else {

  }
#line 683
  if ((unsigned int )val != 1U) {
#line 684
    if ((unsigned int )val != 2U) {
#line 685
      ms_card->check_ms_flow = 1U;
    } else {

    }
#line 687
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 687);
#line 688
    return (1);
  } else {

  }
#line 691
  retval = rtsx_read_register(chip, 64004, & val);
#line 692
  if (retval != 0) {
#line 693
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 693);
#line 694
    return (retval);
  } else {

  }
#line 696
  descriptor___0.modname = "rts5208";
#line 696
  descriptor___0.function = "ms_identify_media_type";
#line 696
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 696
  descriptor___0.format = "Category register: 0x%x\n";
#line 696
  descriptor___0.lineno = 696U;
#line 696
  descriptor___0.flags = 0U;
#line 696
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 696
  if (tmp___2 != 0L) {
#line 696
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 696
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "Category register: 0x%x\n",
                      (int )val);
  } else {

  }
#line 697
  if ((unsigned int )val != 0U) {
#line 698
    ms_card->check_ms_flow = 1U;
#line 699
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 699);
#line 700
    return (1);
  } else {

  }
#line 703
  retval = rtsx_read_register(chip, 64005, & val);
#line 704
  if (retval != 0) {
#line 705
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 705);
#line 706
    return (retval);
  } else {

  }
#line 708
  descriptor___1.modname = "rts5208";
#line 708
  descriptor___1.function = "ms_identify_media_type";
#line 708
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 708
  descriptor___1.format = "Class register: 0x%x\n";
#line 708
  descriptor___1.lineno = 708U;
#line 708
  descriptor___1.flags = 0U;
#line 708
  tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 708
  if (tmp___4 != 0L) {
#line 708
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 708
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "Class register: 0x%x\n",
                      (int )val);
  } else {

  }
#line 709
  if ((unsigned int )val == 0U) {
#line 710
    retval = rtsx_read_register(chip, 64000, & val);
#line 711
    if (retval != 0) {
#line 712
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_identify_media_type", 712);
#line 713
      return (retval);
    } else {

    }
#line 715
    if ((int )val & 1) {
#line 716
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
    } else {
#line 718
      chip->card_wp = (unsigned int )chip->card_wp & 247U;
    }
  } else
#line 720
  if (((unsigned int )val == 1U || (unsigned int )val == 2U) || (unsigned int )val == 3U) {
#line 721
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
  } else {
#line 723
    ms_card->check_ms_flow = 1U;
#line 724
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 724);
#line 725
    return (1);
  }
#line 728
  ms_card->ms_type = (u16 )((unsigned int )ms_card->ms_type | 1U);
#line 730
  retval = rtsx_read_register(chip, 64003, & val);
#line 731
  if (retval != 0) {
#line 732
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 732);
#line 733
    return (retval);
  } else {

  }
#line 735
  descriptor___2.modname = "rts5208";
#line 735
  descriptor___2.function = "ms_identify_media_type";
#line 735
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 735
  descriptor___2.format = "IF Mode register: 0x%x\n";
#line 735
  descriptor___2.lineno = 735U;
#line 735
  descriptor___2.flags = 0U;
#line 735
  tmp___6 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 735
  if (tmp___6 != 0L) {
#line 735
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 735
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___5, "IF Mode register: 0x%x\n",
                      (int )val);
  } else {

  }
#line 736
  if ((unsigned int )val == 0U) {
#line 737
    ms_card->ms_type = (unsigned int )ms_card->ms_type & 15U;
  } else
#line 738
  if ((unsigned int )val == 7U) {
#line 739
    if (switch_8bit_bus != 0) {
#line 740
      ms_card->ms_type = (u16 )((unsigned int )ms_card->ms_type | 1024U);
    } else {
#line 742
      ms_card->ms_type = (unsigned int )ms_card->ms_type & 15U;
    }
  } else {
#line 745
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_identify_media_type", 745);
#line 746
    return (1);
  }
#line 749
  return (0);
}
}
#line 752 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_confirm_cpu_startup(struct rtsx_chip *chip ) 
{ 
  int retval ;
  int i ;
  int k ;
  u8 val ;
  int tmp ;
  struct task_struct *tmp___0 ;
  long volatile   __ret ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;
  struct task_struct *tmp___4 ;

  {
#line 758
  k = 0;
  ldv_38443: 
#line 760
  tmp = detect_card_cd(chip, 8);
#line 760
  if (tmp != 0) {
#line 761
    ms_set_err_code(chip, 32);
#line 762
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_confirm_cpu_startup", 762);
#line 763
    return (1);
  } else {

  }
#line 766
  i = 0;
#line 766
  goto ldv_38434;
  ldv_38433: 
#line 767
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 769
  if (retval == 0) {
#line 770
    goto ldv_38432;
  } else {

  }
#line 766
  i = i + 1;
  ldv_38434: ;
#line 766
  if (i <= 2) {
#line 768
    goto ldv_38433;
  } else {

  }
  ldv_38432: ;
#line 772
  if (i == 3) {
#line 773
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_confirm_cpu_startup", 773);
#line 774
    return (1);
  } else {

  }
#line 777
  if (k > 100) {
#line 778
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_confirm_cpu_startup", 778);
#line 779
    return (1);
  } else {

  }
#line 782
  k = k + 1;
#line 783
  tmp___0 = get_current();
#line 783
  tmp___0->task_state_change = 0UL;
#line 783
  __ret = 1L;
#line 783
  switch (8UL) {
  case 1UL: 
#line 783
  tmp___1 = get_current();
#line 783
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 783
  goto ldv_38437;
  case 2UL: 
#line 783
  tmp___2 = get_current();
#line 783
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 783
  goto ldv_38437;
  case 4UL: 
#line 783
  tmp___3 = get_current();
#line 783
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 783
  goto ldv_38437;
  case 8UL: 
#line 783
  tmp___4 = get_current();
#line 783
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___4->state): : "memory",
                       "cc");
#line 783
  goto ldv_38437;
  default: 
#line 783
  __xchg_wrong_size();
  }
  ldv_38437: 
#line 783
  schedule_timeout(25L);
#line 784
  if ((int )((signed char )val) >= 0) {
#line 786
    goto ldv_38443;
  } else {

  }
#line 786
  i = 0;
#line 786
  goto ldv_38447;
  ldv_38446: 
#line 787
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 788
  if (retval == 0) {
#line 789
    goto ldv_38445;
  } else {

  }
#line 786
  i = i + 1;
  ldv_38447: ;
#line 786
  if (i <= 2) {
#line 788
    goto ldv_38446;
  } else {

  }
  ldv_38445: ;
#line 791
  if (i == 3) {
#line 792
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_confirm_cpu_startup", 792);
#line 793
    return (1);
  } else {

  }
#line 796
  if (((int )val & 64) != 0) {
#line 797
    if ((int )val & 1) {
#line 798
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
    } else {
#line 800
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_confirm_cpu_startup", 800);
#line 801
      return (1);
    }
  } else {

  }
#line 806
  return (0);
}
}
#line 809 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_switch_parallel_bus(struct rtsx_chip *chip ) 
{ 
  int retval ;
  int i ;
  u8 data[2U] ;

  {
#line 814
  data[0] = 0U;
#line 815
  data[1] = 0U;
#line 816
  i = 0;
#line 816
  goto ldv_38456;
  ldv_38455: 
#line 817
  retval = ms_write_bytes(chip, 11, 1, 0, (u8 *)(& data), 2);
#line 819
  if (retval == 0) {
#line 820
    goto ldv_38454;
  } else {

  }
#line 816
  i = i + 1;
  ldv_38456: ;
#line 816
  if (i <= 2) {
#line 818
    goto ldv_38455;
  } else {

  }
  ldv_38454: ;
#line 822
  if (retval != 0) {
#line 823
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_parallel_bus", 823);
#line 824
    return (1);
  } else {

  }
#line 827
  return (0);
}
}
#line 830 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_switch_8bit_bus(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 data[2U] ;

  {
#line 832
  ms_card = & chip->ms_card;
#line 836
  data[0] = 64U;
#line 837
  data[1] = 0U;
#line 838
  i = 0;
#line 838
  goto ldv_38467;
  ldv_38466: 
#line 839
  retval = ms_write_bytes(chip, 11, 1, 0, (u8 *)(& data), 2);
#line 841
  if (retval == 0) {
#line 842
    goto ldv_38465;
  } else {

  }
#line 838
  i = i + 1;
  ldv_38467: ;
#line 838
  if (i <= 2) {
#line 840
    goto ldv_38466;
  } else {

  }
  ldv_38465: ;
#line 844
  if (retval != 0) {
#line 845
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_8bit_bus", 845);
#line 846
    return (1);
  } else {

  }
#line 849
  retval = rtsx_write_register(chip, 64832, 152, 152);
#line 851
  if (retval != 0) {
#line 852
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_8bit_bus", 852);
#line 853
    return (retval);
  } else {

  }
#line 855
  ms_card->ms_type = (u16 )((unsigned int )ms_card->ms_type | 512U);
#line 856
  retval = ms_set_init_para(chip);
#line 857
  if (retval != 0) {
#line 858
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_8bit_bus", 858);
#line 859
    return (1);
  } else {

  }
#line 862
  i = 0;
#line 862
  goto ldv_38470;
  ldv_38469: 
#line 863
  retval = ms_transfer_tpc(chip, 0, 7, 1, 0);
#line 865
  if (retval != 0) {
#line 866
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_switch_8bit_bus", 866);
#line 867
    return (1);
  } else {

  }
#line 862
  i = i + 1;
  ldv_38470: ;
#line 862
  if (i <= 2) {
#line 864
    goto ldv_38469;
  } else {

  }

#line 871
  return (0);
}
}
#line 874 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_pro_reset_flow(struct rtsx_chip *chip , int switch_8bit_bus ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  int tmp ;

  {
#line 876
  ms_card = & chip->ms_card;
#line 879
  i = 0;
#line 879
  goto ldv_38483;
  ldv_38482: 
#line 880
  retval = ms_prepare_reset(chip);
#line 881
  if (retval != 0) {
#line 882
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 882);
#line 883
    return (1);
  } else {

  }
#line 886
  retval = ms_identify_media_type(chip, switch_8bit_bus);
#line 887
  if (retval != 0) {
#line 888
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 888);
#line 889
    return (1);
  } else {

  }
#line 892
  retval = ms_confirm_cpu_startup(chip);
#line 893
  if (retval != 0) {
#line 894
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 894);
#line 895
    return (1);
  } else {

  }
#line 898
  retval = ms_switch_parallel_bus(chip);
#line 899
  if (retval != 0) {
#line 900
    tmp = detect_card_cd(chip, 8);
#line 900
    if (tmp != 0) {
#line 901
      ms_set_err_code(chip, 32);
#line 902
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pro_reset_flow", 902);
#line 903
      return (1);
    } else {

    }
#line 905
    goto ldv_38480;
  } else {
#line 907
    goto ldv_38481;
  }
  ldv_38480: 
#line 879
  i = i + 1;
  ldv_38483: ;
#line 879
  if (i <= 2) {
#line 881
    goto ldv_38482;
  } else {

  }
  ldv_38481: ;
#line 911
  if (retval != 0) {
#line 912
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 912);
#line 913
    return (1);
  } else {

  }
#line 917
  retval = rtsx_write_register(chip, 64832, 24, 16);
#line 918
  if (retval != 0) {
#line 919
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 919);
#line 920
    return (retval);
  } else {

  }
#line 922
  retval = rtsx_write_register(chip, 64832, 64, 64);
#line 924
  if (retval != 0) {
#line 925
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 925);
#line 926
    return (retval);
  } else {

  }
#line 929
  retval = ms_set_init_para(chip);
#line 930
  if (retval != 0) {
#line 931
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_pro_reset_flow", 931);
#line 932
    return (1);
  } else {

  }
#line 936
  if (((((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1024) != 0) && chip->support_ms_8bit != 0) && switch_8bit_bus != 0) {
#line 937
    retval = ms_switch_8bit_bus(chip);
#line 938
    if (retval != 0) {
#line 939
      ms_card->switch_8bit_fail = 1U;
#line 940
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_pro_reset_flow", 940);
#line 941
      return (1);
    } else {

    }
  } else {

  }
#line 945
  return (0);
}
}
#line 949 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int msxc_change_power(struct rtsx_chip *chip , u8 mode ) 
{ 
  int retval ;
  u8 buf[6U] ;

  {
#line 954
  ms_cleanup_work(chip);
#line 956
  retval = ms_set_rw_reg_addr(chip, 0, 0, 17, 6);
#line 957
  if (retval != 0) {
#line 958
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "msxc_change_power", 958);
#line 959
    return (1);
  } else {

  }
#line 962
  buf[0] = 0U;
#line 963
  buf[1] = mode;
#line 964
  buf[2] = 0U;
#line 965
  buf[3] = 0U;
#line 966
  buf[4] = 0U;
#line 967
  buf[5] = 0U;
#line 969
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& buf), 6);
#line 970
  if (retval != 0) {
#line 971
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "msxc_change_power", 971);
#line 972
    return (1);
  } else {

  }
#line 975
  retval = ms_send_cmd(chip, 22, 128);
#line 976
  if (retval != 0) {
#line 977
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "msxc_change_power", 977);
#line 978
    return (1);
  } else {

  }
#line 981
  retval = rtsx_read_register(chip, 64834, (u8 *)(& buf));
#line 982
  if (retval != 0) {
#line 983
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "msxc_change_power", 983);
#line 984
    return (retval);
  } else {

  }
#line 986
  if (((int )buf[0] & 10) != 0) {
#line 987
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "msxc_change_power", 987);
#line 988
    return (1);
  } else {

  }
#line 991
  return (0);
}
}
#line 995 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_attribute_info(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  u8 *buf ;
  u8 class_code ;
  u8 device_type ;
  u8 sub_class ;
  u8 data[16U] ;
  u16 total_blk ;
  u16 blk_size ;
  u32 xc_total_blk ;
  u32 xc_blk_size ;
  u32 sys_info_addr ;
  u32 sys_info_size ;
  u32 model_name_addr ;
  u32 model_name_size ;
  int found_sys_info ;
  int found_model_name ;
  void *tmp ;
  int cur_addr_off ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  struct _ddebug descriptor___4 ;
  struct device *tmp___10 ;
  long tmp___11 ;
  u32 tmp___12 ;
  u32 tmp___13 ;

  {
#line 997
  ms_card = & chip->ms_card;
#line 1000
  total_blk = 0U;
#line 1000
  blk_size = 0U;
#line 1002
  xc_total_blk = 0U;
#line 1002
  xc_blk_size = 0U;
#line 1004
  sys_info_addr = 0U;
#line 1006
  model_name_addr = 0U;
#line 1007
  found_sys_info = 0;
#line 1007
  found_model_name = 0;
#line 1010
  retval = ms_set_rw_reg_addr(chip, 1, 2, 16, 7);
#line 1011
  if (retval != 0) {
#line 1012
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1012);
#line 1013
    return (1);
  } else {

  }
#line 1016
  if (((int )ms_card->ms_type & 512) != 0) {
#line 1017
    data[0] = 64U;
  } else {
#line 1019
    data[0] = 0U;
  }
#line 1021
  data[1] = 0U;
#line 1023
  data[2] = 64U;
#line 1024
  data[3] = 0U;
#line 1025
  data[4] = 0U;
#line 1026
  data[5] = 0U;
#line 1027
  data[6] = 0U;
#line 1028
  data[7] = 0U;
#line 1030
  i = 0;
#line 1030
  goto ldv_38516;
  ldv_38515: 
#line 1031
  retval = ms_write_bytes(chip, 11, 7, 0, (u8 *)(& data), 8);
#line 1033
  if (retval == 0) {
#line 1034
    goto ldv_38514;
  } else {

  }
#line 1030
  i = i + 1;
  ldv_38516: ;
#line 1030
  if (i <= 2) {
#line 1032
    goto ldv_38515;
  } else {

  }
  ldv_38514: ;
#line 1036
  if (retval != 0) {
#line 1037
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1037);
#line 1038
    return (1);
  } else {

  }
#line 1041
  tmp = kmalloc(32768UL, 208U);
#line 1041
  buf = (u8 *)tmp;
#line 1042
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 1043
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1043);
#line 1044
    return (10);
  } else {

  }
#line 1047
  i = 0;
#line 1047
  goto ldv_38520;
  ldv_38519: 
#line 1048
  retval = ms_send_cmd(chip, 36, 128);
#line 1049
  if (retval != 0) {
#line 1050
    goto ldv_38517;
  } else {

  }
#line 1052
  retval = rtsx_read_register(chip, 64834, & val);
#line 1053
  if (retval != 0) {
#line 1054
    kfree((void const   *)buf);
#line 1055
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1055);
#line 1056
    return (1);
  } else {

  }
#line 1058
  if (((int )val & 4) == 0) {
#line 1059
    kfree((void const   *)buf);
#line 1060
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1060);
#line 1061
    return (1);
  } else {

  }
#line 1063
  retval = ms_transfer_data(chip, 8, 2, 64, 128, 0, 0, (void *)buf, 32768);
#line 1066
  if (retval == 0) {
#line 1067
    goto ldv_38518;
  } else {

  }
#line 1069
  rtsx_clear_ms_error(chip);
  ldv_38517: 
#line 1047
  i = i + 1;
  ldv_38520: ;
#line 1047
  if (i <= 2) {
#line 1049
    goto ldv_38519;
  } else {

  }
  ldv_38518: ;
#line 1071
  if (retval != 0) {
#line 1072
    kfree((void const   *)buf);
#line 1073
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1073);
#line 1074
    return (1);
  } else {

  }
#line 1077
  i = 0;
  ldv_38522: 
#line 1079
  retval = rtsx_read_register(chip, 64834, & val);
#line 1080
  if (retval != 0) {
#line 1081
    kfree((void const   *)buf);
#line 1082
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1082);
#line 1083
    return (1);
  } else {

  }
#line 1086
  if ((int )val & 1 || ((int )val & 4) == 0) {
#line 1087
    goto ldv_38521;
  } else {

  }
#line 1089
  retval = ms_transfer_tpc(chip, 1, 2, 0, 128);
#line 1091
  if (retval != 0) {
#line 1092
    kfree((void const   *)buf);
#line 1093
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1093);
#line 1094
    return (1);
  } else {

  }
#line 1097
  i = i + 1;
#line 1098
  if (i <= 1023) {
#line 1100
    goto ldv_38522;
  } else {

  }
  ldv_38521: ;
#line 1100
  if (retval != 0) {
#line 1101
    kfree((void const   *)buf);
#line 1102
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1102);
#line 1103
    return (1);
  } else {

  }
#line 1106
  if ((unsigned int )*buf != 165U && (unsigned int )*(buf + 1UL) != 195U) {
#line 1108
    kfree((void const   *)buf);
#line 1109
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1109);
#line 1110
    return (1);
  } else {

  }
#line 1113
  if ((unsigned int )*(buf + 4UL) == 0U || (unsigned int )*(buf + 4UL) > 12U) {
#line 1114
    kfree((void const   *)buf);
#line 1115
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1115);
#line 1116
    return (1);
  } else {

  }
#line 1119
  i = 0;
#line 1119
  goto ldv_38528;
  ldv_38527: 
#line 1120
  cur_addr_off = i * 12 + 16;
#line 1123
  if ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 8UL)) == 16U || (unsigned int )*(buf + ((unsigned long )cur_addr_off + 8UL)) == 19U) {
#line 1129
    sys_info_addr = ((((unsigned int )*(buf + (unsigned long )cur_addr_off) << 24) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 1UL)) << 16)) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 2UL)) << 8)) | (unsigned int )*(buf + ((unsigned long )cur_addr_off + 3UL));
#line 1133
    sys_info_size = ((((unsigned int )*(buf + ((unsigned long )cur_addr_off + 4UL)) << 24) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 5UL)) << 16)) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 6UL)) << 8)) | (unsigned int )*(buf + ((unsigned long )cur_addr_off + 7UL));
#line 1137
    descriptor.modname = "rts5208";
#line 1137
    descriptor.function = "ms_read_attribute_info";
#line 1137
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1137
    descriptor.format = "sys_info_addr = 0x%x, sys_info_size = 0x%x\n";
#line 1137
    descriptor.lineno = 1138U;
#line 1137
    descriptor.flags = 0U;
#line 1137
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1137
    if (tmp___1 != 0L) {
#line 1137
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1137
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "sys_info_addr = 0x%x, sys_info_size = 0x%x\n",
                        sys_info_addr, sys_info_size);
    } else {

    }
#line 1139
    if (sys_info_size != 96U) {
#line 1140
      kfree((void const   *)buf);
#line 1141
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1141);
#line 1142
      return (1);
    } else {

    }
#line 1144
    if (sys_info_addr <= 415U) {
#line 1145
      kfree((void const   *)buf);
#line 1146
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1146);
#line 1147
      return (1);
    } else {

    }
#line 1149
    if (sys_info_size + sys_info_addr > 32768U) {
#line 1150
      kfree((void const   *)buf);
#line 1151
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1151);
#line 1152
      return (1);
    } else {

    }
#line 1156
    if ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 8UL)) == 19U) {
#line 1157
      ms_card->ms_type = (u16 )((unsigned int )ms_card->ms_type | 2048U);
    } else {

    }
#line 1160
    found_sys_info = 1;
  } else {

  }
#line 1166
  if ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 8UL)) == 21U) {
#line 1167
    model_name_addr = ((((unsigned int )*(buf + (unsigned long )cur_addr_off) << 24) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 1UL)) << 16)) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 2UL)) << 8)) | (unsigned int )*(buf + ((unsigned long )cur_addr_off + 3UL));
#line 1171
    model_name_size = ((((unsigned int )*(buf + ((unsigned long )cur_addr_off + 4UL)) << 24) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 5UL)) << 16)) | ((unsigned int )*(buf + ((unsigned long )cur_addr_off + 6UL)) << 8)) | (unsigned int )*(buf + ((unsigned long )cur_addr_off + 7UL));
#line 1175
    descriptor___0.modname = "rts5208";
#line 1175
    descriptor___0.function = "ms_read_attribute_info";
#line 1175
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1175
    descriptor___0.format = "model_name_addr = 0x%x, model_name_size = 0x%x\n";
#line 1175
    descriptor___0.lineno = 1176U;
#line 1175
    descriptor___0.flags = 0U;
#line 1175
    tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1175
    if (tmp___3 != 0L) {
#line 1175
      tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1175
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "model_name_addr = 0x%x, model_name_size = 0x%x\n",
                        model_name_addr, model_name_size);
    } else {

    }
#line 1177
    if (model_name_size != 48U) {
#line 1178
      kfree((void const   *)buf);
#line 1179
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1179);
#line 1180
      return (1);
    } else {

    }
#line 1182
    if (model_name_addr <= 415U) {
#line 1183
      kfree((void const   *)buf);
#line 1184
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1184);
#line 1185
      return (1);
    } else {

    }
#line 1187
    if (model_name_size + model_name_addr > 32768U) {
#line 1188
      kfree((void const   *)buf);
#line 1189
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1189);
#line 1190
      return (1);
    } else {

    }
#line 1193
    found_model_name = 1;
  } else {

  }
#line 1196
  if (found_sys_info != 0 && found_model_name != 0) {
#line 1197
    goto ldv_38526;
  } else {

  }
#line 1119
  i = i + 1;
  ldv_38528: ;
#line 1119
  if ((int )*(buf + 4UL) > i) {
#line 1121
    goto ldv_38527;
  } else {

  }
  ldv_38526: ;
#line 1201
  if ((int )*(buf + 4UL) == i) {
#line 1202
    kfree((void const   *)buf);
#line 1203
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1203);
#line 1204
    return (1);
  } else {

  }
#line 1207
  class_code = *(buf + (unsigned long )sys_info_addr);
#line 1208
  device_type = *(buf + (unsigned long )(sys_info_addr + 56U));
#line 1209
  sub_class = *(buf + (unsigned long )(sys_info_addr + 46U));
#line 1211
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 1212
    xc_total_blk = ((((unsigned int )*(buf + (unsigned long )(sys_info_addr + 6U)) << 24) | ((unsigned int )*(buf + (unsigned long )(sys_info_addr + 7U)) << 16)) | ((unsigned int )*(buf + (unsigned long )(sys_info_addr + 8U)) << 8)) | (unsigned int )*(buf + (unsigned long )(sys_info_addr + 9U));
#line 1216
    xc_blk_size = ((((unsigned int )*(buf + (unsigned long )(sys_info_addr + 32U)) << 24) | ((unsigned int )*(buf + (unsigned long )(sys_info_addr + 33U)) << 16)) | ((unsigned int )*(buf + (unsigned long )(sys_info_addr + 34U)) << 8)) | (unsigned int )*(buf + (unsigned long )(sys_info_addr + 35U));
#line 1220
    descriptor___1.modname = "rts5208";
#line 1220
    descriptor___1.function = "ms_read_attribute_info";
#line 1220
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1220
    descriptor___1.format = "xc_total_blk = 0x%x, xc_blk_size = 0x%x\n";
#line 1220
    descriptor___1.lineno = 1221U;
#line 1220
    descriptor___1.flags = 0U;
#line 1220
    tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1220
    if (tmp___5 != 0L) {
#line 1220
      tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1220
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "xc_total_blk = 0x%x, xc_blk_size = 0x%x\n",
                        xc_total_blk, xc_blk_size);
    } else {

    }
  } else {
#line 1223
    total_blk = (u16 )((int )((short )((int )*(buf + (unsigned long )(sys_info_addr + 6U)) << 8)) | (int )((short )*(buf + (unsigned long )(sys_info_addr + 7U))));
#line 1225
    blk_size = (u16 )((int )((short )((int )*(buf + (unsigned long )(sys_info_addr + 2U)) << 8)) | (int )((short )*(buf + (unsigned long )(sys_info_addr + 3U))));
#line 1227
    descriptor___2.modname = "rts5208";
#line 1227
    descriptor___2.function = "ms_read_attribute_info";
#line 1227
    descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1227
    descriptor___2.format = "total_blk = 0x%x, blk_size = 0x%x\n";
#line 1227
    descriptor___2.lineno = 1228U;
#line 1227
    descriptor___2.flags = 0U;
#line 1227
    tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1227
    if (tmp___7 != 0L) {
#line 1227
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1227
      __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "total_blk = 0x%x, blk_size = 0x%x\n",
                        (int )total_blk, (int )blk_size);
    } else {

    }
  }
#line 1237
  descriptor___3.modname = "rts5208";
#line 1237
  descriptor___3.function = "ms_read_attribute_info";
#line 1237
  descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1237
  descriptor___3.format = "class_code = 0x%x, device_type = 0x%x, sub_class = 0x%x\n";
#line 1237
  descriptor___3.lineno = 1238U;
#line 1237
  descriptor___3.flags = 0U;
#line 1237
  tmp___9 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 1237
  if (tmp___9 != 0L) {
#line 1237
    tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1237
    __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___8, "class_code = 0x%x, device_type = 0x%x, sub_class = 0x%x\n",
                      (int )class_code, (int )device_type, (int )sub_class);
  } else {

  }
#line 1240
  memcpy((void *)(& ms_card->raw_sys_info), (void const   *)buf + (unsigned long )sys_info_addr,
           96UL);
#line 1242
  memcpy((void *)(& ms_card->raw_model_name), (void const   *)buf + (unsigned long )model_name_addr,
           48UL);
#line 1245
  kfree((void const   *)buf);
#line 1248
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 1249
    if ((unsigned int )class_code != 3U) {
#line 1250
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1250);
#line 1251
      return (1);
    } else {

    }
  } else
#line 1254
  if ((unsigned int )class_code != 2U) {
#line 1255
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1255);
#line 1256
    return (1);
  } else {

  }
#line 1266
  if ((unsigned int )device_type != 0U) {
#line 1267
    if (((unsigned int )device_type == 1U || (unsigned int )device_type == 2U) || (unsigned int )device_type == 3U) {
#line 1269
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
    } else {
#line 1271
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_attribute_info", 1271);
#line 1272
      return (1);
    }
  } else {

  }
#line 1276
  if (((int )sub_class & 192) != 0) {
#line 1277
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_attribute_info", 1277);
#line 1278
    return (1);
  } else {

  }
#line 1281
  descriptor___4.modname = "rts5208";
#line 1281
  descriptor___4.function = "ms_read_attribute_info";
#line 1281
  descriptor___4.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1281
  descriptor___4.format = "class_code: 0x%x, device_type: 0x%x, sub_class: 0x%x\n";
#line 1281
  descriptor___4.lineno = 1282U;
#line 1281
  descriptor___4.flags = 0U;
#line 1281
  tmp___11 = ldv__builtin_expect((long )descriptor___4.flags & 1L, 0L);
#line 1281
  if (tmp___11 != 0L) {
#line 1281
    tmp___10 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1281
    __dynamic_dev_dbg(& descriptor___4, (struct device  const  *)tmp___10, "class_code: 0x%x, device_type: 0x%x, sub_class: 0x%x\n",
                      (int )class_code, (int )device_type, (int )sub_class);
  } else {

  }
#line 1285
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0) {
#line 1286
    tmp___12 = xc_total_blk * xc_blk_size;
#line 1286
    ms_card->capacity = tmp___12;
#line 1286
    chip->capacity[(int )chip->card2lun[8]] = tmp___12;
  } else {
#line 1289
    tmp___13 = (u32 )((int )total_blk * (int )blk_size);
#line 1289
    ms_card->capacity = tmp___13;
#line 1289
    chip->capacity[(int )chip->card2lun[8]] = tmp___13;
  }
#line 1297
  return (0);
}
}
#line 1301
static int mg_set_tpc_para_sub(struct rtsx_chip *chip , int type , u8 mg_entry_num ) ;
#line 1305 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int reset_ms_pro(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u8 change_power_class ;
  u8 power_class_en ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  u8 power_class_mode ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___3 ;
  long tmp___4 ;

  {
#line 1307
  ms_card = & chip->ms_card;
#line 1312
  if (((int )chip->ms_power_class_en & 2) != 0) {
#line 1313
    change_power_class = 2U;
  } else
#line 1314
  if ((int )chip->ms_power_class_en & 1) {
#line 1315
    change_power_class = 1U;
  } else {
#line 1317
    change_power_class = 0U;
  }
  Retry: 
#line 1323
  retval = ms_pro_reset_flow(chip, 1);
#line 1324
  if (retval != 0) {
#line 1325
    if ((unsigned int )ms_card->switch_8bit_fail != 0U) {
#line 1326
      retval = ms_pro_reset_flow(chip, 0);
#line 1327
      if (retval != 0) {
#line 1328
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "reset_ms_pro", 1328);
#line 1329
        return (1);
      } else {

      }
    } else {
#line 1332
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms_pro", 1332);
#line 1333
      return (1);
    }
  } else {

  }
#line 1337
  retval = ms_read_attribute_info(chip);
#line 1338
  if (retval != 0) {
#line 1339
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms_pro", 1339);
#line 1340
    return (1);
  } else {

  }
#line 1344
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1536) == 1536) {
#line 1345
    change_power_class = 0U;
  } else {

  }
#line 1347
  if ((unsigned int )change_power_class != 0U && (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 2048) != 0)) {
#line 1348
    power_class_en = chip->ms_power_class_en;
#line 1350
    descriptor.modname = "rts5208";
#line 1350
    descriptor.function = "reset_ms_pro";
#line 1350
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1350
    descriptor.format = "power_class_en = 0x%x\n";
#line 1350
    descriptor.lineno = 1351U;
#line 1350
    descriptor.flags = 0U;
#line 1350
    tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1350
    if (tmp___0 != 0L) {
#line 1350
      tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1350
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "power_class_en = 0x%x\n",
                        (int )power_class_en);
    } else {

    }
#line 1352
    descriptor___0.modname = "rts5208";
#line 1352
    descriptor___0.function = "reset_ms_pro";
#line 1352
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1352
    descriptor___0.format = "change_power_class = %d\n";
#line 1352
    descriptor___0.lineno = 1353U;
#line 1352
    descriptor___0.flags = 0U;
#line 1352
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1352
    if (tmp___2 != 0L) {
#line 1352
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1352
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "change_power_class = %d\n",
                        (int )change_power_class);
    } else {

    }
#line 1355
    if ((unsigned int )change_power_class != 0U) {
#line 1356
      power_class_en = (u8 )((int )((signed char )(1 << ((int )change_power_class + -1))) & (int )((signed char )power_class_en));
    } else {
#line 1358
      power_class_en = 0U;
    }
#line 1360
    if ((unsigned int )power_class_en != 0U) {
#line 1361
      power_class_mode = (u8 )(((int )ms_card->raw_sys_info[46] & 24) >> 3);
#line 1363
      descriptor___1.modname = "rts5208";
#line 1363
      descriptor___1.function = "reset_ms_pro";
#line 1363
      descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1363
      descriptor___1.format = "power_class_mode = 0x%x";
#line 1363
      descriptor___1.lineno = 1364U;
#line 1363
      descriptor___1.flags = 0U;
#line 1363
      tmp___4 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1363
      if (tmp___4 != 0L) {
#line 1363
        tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1363
        __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___3, "power_class_mode = 0x%x",
                          (int )power_class_mode);
      } else {

      }
#line 1365
      if ((int )change_power_class > (int )power_class_mode) {
#line 1366
        change_power_class = power_class_mode;
      } else {

      }
#line 1367
      if ((unsigned int )change_power_class != 0U) {
#line 1368
        retval = msxc_change_power(chip, (int )change_power_class);
#line 1370
        if (retval != 0) {
#line 1371
          change_power_class = (u8 )((int )change_power_class - 1);
#line 1372
          goto Retry;
        } else {

        }
      } else {

      }
    } else {

    }
  } else {

  }
#line 1380
  retval = mg_set_tpc_para_sub(chip, 0, 0);
#line 1381
  if (retval != 0) {
#line 1382
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms_pro", 1382);
#line 1383
    return (1);
  } else {

  }
#line 1387
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1536) == 1536) {
#line 1388
    chip->card_bus_width[(int )chip->card2lun[8]] = 8U;
  } else {
#line 1390
    chip->card_bus_width[(int )chip->card2lun[8]] = 4U;
  }
#line 1392
  return (0);
}
}
#line 1395 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_status_reg(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 val[2U] ;

  {
#line 1400
  retval = ms_set_rw_reg_addr(chip, 2, 2, 0, 0);
#line 1401
  if (retval != 0) {
#line 1402
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_status_reg", 1402);
#line 1403
    return (1);
  } else {

  }
#line 1406
  retval = ms_read_bytes(chip, 4, 2, 0, (u8 *)(& val), 2);
#line 1407
  if (retval != 0) {
#line 1408
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_status_reg", 1408);
#line 1409
    return (1);
  } else {

  }
#line 1412
  if (((int )val[1] & 21) != 0) {
#line 1413
    ms_set_err_code(chip, 4);
#line 1414
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_status_reg", 1414);
#line 1415
    return (1);
  } else {

  }
#line 1418
  return (0);
}
}
#line 1422 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_extra_data(struct rtsx_chip *chip , u16 block_addr , u8 page_num ,
                              u8 *buf , int buf_len ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  u8 data[10U] ;

  {
#line 1425
  ms_card = & chip->ms_card;
#line 1429
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 1431
  if (retval != 0) {
#line 1432
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1432);
#line 1433
    return (1);
  } else {

  }
#line 1436
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1438
    data[0] = 136U;
  } else {
#line 1441
    data[0] = 128U;
  }
#line 1443
  data[1] = 0U;
#line 1444
  data[2] = (unsigned char )((int )block_addr >> 8);
#line 1445
  data[3] = (unsigned char )block_addr;
#line 1446
  data[4] = 64U;
#line 1447
  data[5] = page_num;
#line 1449
  i = 0;
#line 1449
  goto ldv_38571;
  ldv_38570: 
#line 1450
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& data), 6);
#line 1452
  if (retval == 0) {
#line 1453
    goto ldv_38569;
  } else {

  }
#line 1449
  i = i + 1;
  ldv_38571: ;
#line 1449
  if (i <= 2) {
#line 1451
    goto ldv_38570;
  } else {

  }
  ldv_38569: ;
#line 1455
  if (i == 3) {
#line 1456
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1456);
#line 1457
    return (1);
  } else {

  }
#line 1460
  ms_set_err_code(chip, 0);
#line 1462
  i = 0;
#line 1462
  goto ldv_38574;
  ldv_38573: 
#line 1463
  retval = ms_send_cmd(chip, 170, 128);
#line 1464
  if (retval == 0) {
#line 1465
    goto ldv_38572;
  } else {

  }
#line 1462
  i = i + 1;
  ldv_38574: ;
#line 1462
  if (i <= 2) {
#line 1464
    goto ldv_38573;
  } else {

  }
  ldv_38572: ;
#line 1467
  if (i == 3) {
#line 1468
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1468);
#line 1469
    return (1);
  } else {

  }
#line 1472
  ms_set_err_code(chip, 0);
#line 1473
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1474
  if (retval != 0) {
#line 1475
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1475);
#line 1476
    return (1);
  } else {

  }
#line 1479
  if ((int )val & 1) {
#line 1480
    ms_set_err_code(chip, 8);
#line 1481
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1481);
#line 1482
    return (1);
  } else {

  }
#line 1484
  if ((int )((signed char )val) < 0) {
#line 1485
    if (((int )val & 64) != 0) {
#line 1486
      retval = ms_read_status_reg(chip);
#line 1487
      if (retval != 0) {
#line 1488
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_extra_data", 1488);
#line 1489
        return (1);
      } else {

      }
#line 1492
      retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 1494
      if (retval != 0) {
#line 1495
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_extra_data", 1495);
#line 1496
        return (1);
      } else {

      }
    } else {

    }
  } else {

  }
#line 1501
  retval = ms_read_bytes(chip, 4, 9, 0, (u8 *)(& data), 9);
#line 1503
  if (retval != 0) {
#line 1504
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_extra_data", 1504);
#line 1505
    return (1);
  } else {

  }
#line 1508
  if ((unsigned long )buf != (unsigned long )((u8 *)0U) && buf_len != 0) {
#line 1509
    if (buf_len > 9) {
#line 1510
      buf_len = 9;
    } else {

    }
#line 1511
    memcpy((void *)buf, (void const   *)(& data), (size_t )buf_len);
  } else {

  }
#line 1514
  return (0);
}
}
#line 1517 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_write_extra_data(struct rtsx_chip *chip , u16 block_addr , u8 page_num ,
                               u8 *buf , int buf_len ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  u8 data[16U] ;

  {
#line 1520
  ms_card = & chip->ms_card;
#line 1524
  if ((unsigned long )buf == (unsigned long )((u8 *)0U) || buf_len <= 8) {
#line 1525
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1525);
#line 1526
    return (1);
  } else {

  }
#line 1529
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 15);
#line 1531
  if (retval != 0) {
#line 1532
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1532);
#line 1533
    return (1);
  } else {

  }
#line 1536
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1537
    data[0] = 136U;
  } else {
#line 1539
    data[0] = 128U;
  }
#line 1541
  data[1] = 0U;
#line 1542
  data[2] = (unsigned char )((int )block_addr >> 8);
#line 1543
  data[3] = (unsigned char )block_addr;
#line 1544
  data[4] = 64U;
#line 1545
  data[5] = page_num;
#line 1547
  i = 6;
#line 1547
  goto ldv_38589;
  ldv_38588: 
#line 1548
  data[i] = *(buf + ((unsigned long )i + 0xfffffffffffffffaUL));
#line 1547
  i = i + 1;
  ldv_38589: ;
#line 1547
  if (i <= 14) {
#line 1549
    goto ldv_38588;
  } else {

  }
#line 1550
  retval = ms_write_bytes(chip, 11, 15, 0, (u8 *)(& data), 16);
#line 1552
  if (retval != 0) {
#line 1553
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1553);
#line 1554
    return (1);
  } else {

  }
#line 1557
  retval = ms_send_cmd(chip, 85, 128);
#line 1558
  if (retval != 0) {
#line 1559
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1559);
#line 1560
    return (1);
  } else {

  }
#line 1563
  ms_set_err_code(chip, 0);
#line 1564
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1565
  if (retval != 0) {
#line 1566
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1566);
#line 1567
    return (1);
  } else {

  }
#line 1570
  if ((int )val & 1) {
#line 1571
    ms_set_err_code(chip, 8);
#line 1572
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_extra_data", 1572);
#line 1573
    return (1);
  } else {

  }
#line 1575
  if ((int )((signed char )val) < 0) {
#line 1576
    if (((int )val & 64) != 0) {
#line 1577
      ms_set_err_code(chip, 2);
#line 1578
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_extra_data", 1578);
#line 1579
      return (1);
    } else {

    }
  } else {

  }
#line 1583
  return (0);
}
}
#line 1587 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_page(struct rtsx_chip *chip , u16 block_addr , u8 page_num ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u8 val ;
  u8 data[6U] ;
  int tmp ;

  {
#line 1589
  ms_card = & chip->ms_card;
#line 1593
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 1595
  if (retval != 0) {
#line 1596
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1596);
#line 1597
    return (1);
  } else {

  }
#line 1600
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1601
    data[0] = 136U;
  } else {
#line 1603
    data[0] = 128U;
  }
#line 1605
  data[1] = 0U;
#line 1606
  data[2] = (unsigned char )((int )block_addr >> 8);
#line 1607
  data[3] = (unsigned char )block_addr;
#line 1608
  data[4] = 32U;
#line 1609
  data[5] = page_num;
#line 1611
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& data), 6);
#line 1612
  if (retval != 0) {
#line 1613
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1613);
#line 1614
    return (1);
  } else {

  }
#line 1617
  retval = ms_send_cmd(chip, 170, 128);
#line 1618
  if (retval != 0) {
#line 1619
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1619);
#line 1620
    return (1);
  } else {

  }
#line 1623
  ms_set_err_code(chip, 0);
#line 1624
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1625
  if (retval != 0) {
#line 1626
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1626);
#line 1627
    return (1);
  } else {

  }
#line 1630
  if ((int )val & 1) {
#line 1631
    ms_set_err_code(chip, 8);
#line 1632
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1632);
#line 1633
    return (1);
  } else {

  }
#line 1636
  if ((int )((signed char )val) < 0) {
#line 1637
    if (((int )val & 64) != 0) {
#line 1638
      if (((int )val & 32) == 0) {
#line 1639
        ms_set_err_code(chip, 4);
#line 1640
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_page", 1640);
#line 1641
        return (1);
      } else {

      }
#line 1643
      retval = ms_read_status_reg(chip);
#line 1644
      if (retval != 0) {
#line 1645
        ms_set_err_code(chip, 2);
      } else {

      }
    } else
#line 1648
    if (((int )val & 32) == 0) {
#line 1649
      ms_set_err_code(chip, 1);
#line 1650
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_page", 1650);
#line 1651
      return (1);
    } else {

    }
  } else {

  }
#line 1656
  retval = ms_transfer_tpc(chip, 1, 2, 0, 0);
#line 1658
  if (retval != 0) {
#line 1659
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1659);
#line 1660
    return (1);
  } else {

  }
#line 1663
  tmp = ms_check_err_code(chip, 2);
#line 1663
  if (tmp != 0) {
#line 1664
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_page", 1664);
#line 1665
    return (1);
  } else {

  }
#line 1668
  return (0);
}
}
#line 1672 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_set_bad_block(struct rtsx_chip *chip , u16 phy_blk ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u8 val ;
  u8 data[8U] ;
  u8 extra[9U] ;

  {
#line 1674
  ms_card = & chip->ms_card;
#line 1678
  retval = ms_read_extra_data(chip, (int )phy_blk, 0, (u8 *)(& extra), 9);
#line 1679
  if (retval != 0) {
#line 1680
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1680);
#line 1681
    return (1);
  } else {

  }
#line 1684
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 7);
#line 1686
  if (retval != 0) {
#line 1687
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1687);
#line 1688
    return (1);
  } else {

  }
#line 1691
  ms_set_err_code(chip, 0);
#line 1693
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1694
    data[0] = 136U;
  } else {
#line 1696
    data[0] = 128U;
  }
#line 1698
  data[1] = 0U;
#line 1699
  data[2] = (unsigned char )((int )phy_blk >> 8);
#line 1700
  data[3] = (unsigned char )phy_blk;
#line 1701
  data[4] = 128U;
#line 1702
  data[5] = 0U;
#line 1703
  data[6] = (unsigned int )extra[0] & 127U;
#line 1704
  data[7] = 255U;
#line 1706
  retval = ms_write_bytes(chip, 11, 7, 0, (u8 *)(& data), 7);
#line 1707
  if (retval != 0) {
#line 1708
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1708);
#line 1709
    return (1);
  } else {

  }
#line 1712
  retval = ms_send_cmd(chip, 85, 128);
#line 1713
  if (retval != 0) {
#line 1714
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1714);
#line 1715
    return (1);
  } else {

  }
#line 1718
  ms_set_err_code(chip, 0);
#line 1719
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1720
  if (retval != 0) {
#line 1721
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1721);
#line 1722
    return (1);
  } else {

  }
#line 1725
  if ((int )val & 1) {
#line 1726
    ms_set_err_code(chip, 8);
#line 1727
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_set_bad_block", 1727);
#line 1728
    return (1);
  } else {

  }
#line 1731
  if ((int )((signed char )val) < 0) {
#line 1732
    if (((int )val & 64) != 0) {
#line 1733
      ms_set_err_code(chip, 2);
#line 1734
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_set_bad_block", 1734);
#line 1735
      return (1);
    } else {

    }
  } else {

  }
#line 1739
  return (0);
}
}
#line 1743 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_erase_block(struct rtsx_chip *chip , u16 phy_blk ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 val ;
  u8 data[6U] ;

  {
#line 1745
  ms_card = & chip->ms_card;
#line 1746
  i = 0;
#line 1749
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 1751
  if (retval != 0) {
#line 1752
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_erase_block", 1752);
#line 1753
    return (1);
  } else {

  }
#line 1756
  ms_set_err_code(chip, 0);
#line 1758
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1759
    data[0] = 136U;
  } else {
#line 1761
    data[0] = 128U;
  }
#line 1763
  data[1] = 0U;
#line 1764
  data[2] = (unsigned char )((int )phy_blk >> 8);
#line 1765
  data[3] = (unsigned char )phy_blk;
#line 1766
  data[4] = 0U;
#line 1767
  data[5] = 0U;
#line 1769
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& data), 6);
#line 1770
  if (retval != 0) {
#line 1771
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_erase_block", 1771);
#line 1772
    return (1);
  } else {

  }
  ERASE_RTY: 
#line 1776
  retval = ms_send_cmd(chip, 153, 128);
#line 1777
  if (retval != 0) {
#line 1778
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_erase_block", 1778);
#line 1779
    return (1);
  } else {

  }
#line 1782
  ms_set_err_code(chip, 0);
#line 1783
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1784
  if (retval != 0) {
#line 1785
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_erase_block", 1785);
#line 1786
    return (1);
  } else {

  }
#line 1789
  if ((int )val & 1) {
#line 1790
    if (i <= 2) {
#line 1791
      i = i + 1;
#line 1792
      goto ERASE_RTY;
    } else {

    }
#line 1795
    ms_set_err_code(chip, 8);
#line 1796
    ms_set_bad_block(chip, (int )phy_blk);
#line 1797
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_erase_block", 1797);
#line 1798
    return (1);
  } else {

  }
#line 1801
  if ((int )((signed char )val) < 0) {
#line 1802
    if (((int )val & 64) != 0) {
#line 1803
      ms_set_err_code(chip, 2);
#line 1804
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_erase_block", 1804);
#line 1805
      return (1);
    } else {

    }
  } else {

  }
#line 1809
  return (0);
}
}
#line 1813 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static void ms_set_page_status(u16 log_blk , u8 type , u8 *extra , int extra_len ) 
{ 


  {
#line 1815
  if ((unsigned long )extra == (unsigned long )((u8 *)0U) || extra_len <= 8) {
#line 1816
    return;
  } else {

  }
#line 1818
  memset((void *)extra, 255, 9UL);
#line 1820
  if ((unsigned int )type == 1U) {
#line 1822
    *extra = 184U;
  } else {
#line 1825
    *extra = 152U;
  }
#line 1828
  *(extra + 2UL) = (unsigned char )((int )log_blk >> 8);
#line 1829
  *(extra + 3UL) = (unsigned char )log_blk;
#line 1830
  return;
}
}
#line 1832 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_init_page(struct rtsx_chip *chip , u16 phy_blk , u16 log_blk , u8 start_page ,
                        u8 end_page ) 
{ 
  int retval ;
  u8 extra[9U] ;
  u8 i ;
  int tmp ;

  {
#line 1838
  memset((void *)(& extra), 255, 9UL);
#line 1840
  extra[0] = 248U;
#line 1841
  extra[1] = 255U;
#line 1842
  extra[2] = (unsigned char )((int )log_blk >> 8);
#line 1843
  extra[3] = (unsigned char )log_blk;
#line 1845
  i = start_page;
#line 1845
  goto ldv_38640;
  ldv_38639: 
#line 1846
  tmp = detect_card_cd(chip, 8);
#line 1846
  if (tmp != 0) {
#line 1847
    ms_set_err_code(chip, 32);
#line 1848
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_page", 1848);
#line 1849
    return (1);
  } else {

  }
#line 1852
  retval = ms_write_extra_data(chip, (int )phy_blk, (int )i, (u8 *)(& extra), 9);
#line 1854
  if (retval != 0) {
#line 1855
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_page", 1855);
#line 1856
    return (1);
  } else {

  }
#line 1845
  i = (u8 )((int )i + 1);
  ldv_38640: ;
#line 1845
  if ((int )i < (int )end_page) {
#line 1847
    goto ldv_38639;
  } else {

  }

#line 1860
  return (0);
}
}
#line 1863 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_copy_page(struct rtsx_chip *chip , u16 old_blk , u16 new_blk , u16 log_blk ,
                        u8 start_page , u8 end_page ) 
{ 
  struct ms_info *ms_card ;
  bool uncorrect_flag ;
  int retval ;
  int rty_cnt ;
  u8 extra[9U] ;
  u8 val ;
  u8 i ;
  u8 j ;
  u8 data[16U] ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  int tmp___3 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___6 ;
  long tmp___7 ;

  {
#line 1866
  ms_card = & chip->ms_card;
#line 1867
  uncorrect_flag = 0;
#line 1871
  descriptor.modname = "rts5208";
#line 1871
  descriptor.function = "ms_copy_page";
#line 1871
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1871
  descriptor.format = "Copy page from 0x%x to 0x%x, logical block is 0x%x\n";
#line 1871
  descriptor.lineno = 1872U;
#line 1871
  descriptor.flags = 0U;
#line 1871
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 1871
  if (tmp___0 != 0L) {
#line 1871
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1871
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "Copy page from 0x%x to 0x%x, logical block is 0x%x\n",
                      (int )old_blk, (int )new_blk, (int )log_blk);
  } else {

  }
#line 1873
  descriptor___0.modname = "rts5208";
#line 1873
  descriptor___0.function = "ms_copy_page";
#line 1873
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1873
  descriptor___0.format = "start_page = %d, end_page = %d\n";
#line 1873
  descriptor___0.lineno = 1874U;
#line 1873
  descriptor___0.flags = 0U;
#line 1873
  tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 1873
  if (tmp___2 != 0L) {
#line 1873
    tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1873
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "start_page = %d, end_page = %d\n",
                      (int )start_page, (int )end_page);
  } else {

  }
#line 1876
  retval = ms_read_extra_data(chip, (int )new_blk, 0, (u8 *)(& extra), 9);
#line 1877
  if (retval != 0) {
#line 1878
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1878);
#line 1879
    return (1);
  } else {

  }
#line 1882
  retval = ms_read_status_reg(chip);
#line 1883
  if (retval != 0) {
#line 1884
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1884);
#line 1885
    return (1);
  } else {

  }
#line 1888
  retval = rtsx_read_register(chip, 64000, & val);
#line 1889
  if (retval != 0) {
#line 1890
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1890);
#line 1891
    return (retval);
  } else {

  }
#line 1894
  if (((int )val & 16) != 0) {
#line 1895
    retval = ms_send_cmd(chip, 195, 128);
#line 1896
    if (retval != 0) {
#line 1897
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 1897);
#line 1898
      return (1);
    } else {

    }
#line 1901
    retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1902
    if (retval != 0) {
#line 1903
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 1903);
#line 1904
      return (1);
    } else {

    }
#line 1907
    if ((int )((signed char )val) >= 0) {
#line 1908
      ms_set_err_code(chip, 2);
#line 1909
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 1909);
#line 1910
      return (1);
    } else {

    }
  } else {

  }
#line 1914
  i = start_page;
#line 1914
  goto ldv_38672;
  ldv_38671: 
#line 1915
  tmp___3 = detect_card_cd(chip, 8);
#line 1915
  if (tmp___3 != 0) {
#line 1916
    ms_set_err_code(chip, 32);
#line 1917
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1917);
#line 1918
    return (1);
  } else {

  }
#line 1921
  ms_read_extra_data(chip, (int )old_blk, (int )i, (u8 *)(& extra), 9);
#line 1923
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 1925
  if (retval != 0) {
#line 1926
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1926);
#line 1927
    return (1);
  } else {

  }
#line 1930
  ms_set_err_code(chip, 0);
#line 1932
  if (((int )ms_card->ms_type & 256) != 0) {
#line 1933
    data[0] = 136U;
  } else {
#line 1935
    data[0] = 128U;
  }
#line 1937
  data[1] = 0U;
#line 1938
  data[2] = (unsigned char )((int )old_blk >> 8);
#line 1939
  data[3] = (unsigned char )old_blk;
#line 1940
  data[4] = 32U;
#line 1941
  data[5] = i;
#line 1943
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& data), 6);
#line 1945
  if (retval != 0) {
#line 1946
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1946);
#line 1947
    return (1);
  } else {

  }
#line 1950
  retval = ms_send_cmd(chip, 170, 128);
#line 1951
  if (retval != 0) {
#line 1952
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1952);
#line 1953
    return (1);
  } else {

  }
#line 1956
  ms_set_err_code(chip, 0);
#line 1957
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 1958
  if (retval != 0) {
#line 1959
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1959);
#line 1960
    return (1);
  } else {

  }
#line 1963
  if ((int )val & 1) {
#line 1964
    ms_set_err_code(chip, 8);
#line 1965
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 1965);
#line 1966
    return (1);
  } else {

  }
#line 1969
  if ((int )((signed char )val) < 0) {
#line 1970
    if (((int )val & 64) != 0) {
#line 1971
      retval = ms_read_status_reg(chip);
#line 1972
      if (retval != 0) {
#line 1973
        uncorrect_flag = 1;
#line 1974
        descriptor___1.modname = "rts5208";
#line 1974
        descriptor___1.function = "ms_copy_page";
#line 1974
        descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1974
        descriptor___1.format = "Uncorrectable error\n";
#line 1974
        descriptor___1.lineno = 1974U;
#line 1974
        descriptor___1.flags = 0U;
#line 1974
        tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 1974
        if (tmp___5 != 0L) {
#line 1974
          tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1974
          __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "Uncorrectable error\n");
        } else {

        }
      } else {
#line 1976
        uncorrect_flag = 0;
      }
#line 1979
      retval = ms_transfer_tpc(chip, 1, 2, 0, 0);
#line 1983
      if (retval != 0) {
#line 1984
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_copy_page", 1984);
#line 1985
        return (1);
      } else {

      }
#line 1988
      if ((int )uncorrect_flag) {
#line 1989
        ms_set_page_status((int )log_blk, 1, (u8 *)(& extra), 9);
#line 1991
        if ((unsigned int )i == 0U) {
#line 1992
          extra[0] = (unsigned int )extra[0] & 239U;
        } else {

        }
#line 1994
        ms_write_extra_data(chip, (int )old_blk, (int )i, (u8 *)(& extra), 9);
#line 1996
        descriptor___2.modname = "rts5208";
#line 1996
        descriptor___2.function = "ms_copy_page";
#line 1996
        descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 1996
        descriptor___2.format = "page %d : extra[0] = 0x%x\n";
#line 1996
        descriptor___2.lineno = 1997U;
#line 1996
        descriptor___2.flags = 0U;
#line 1996
        tmp___7 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 1996
        if (tmp___7 != 0L) {
#line 1996
          tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 1996
          __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___6, "page %d : extra[0] = 0x%x\n",
                            (int )i, (int )extra[0]);
        } else {

        }
#line 1998
        ms_card->multi_flag = (u8 )((unsigned int )ms_card->multi_flag | 128U);
#line 2000
        ms_set_page_status((int )log_blk, 0, (u8 *)(& extra), 9);
#line 2002
        ms_write_extra_data(chip, (int )new_blk, (int )i, (u8 *)(& extra), 9);
#line 2004
        goto ldv_38664;
      } else {

      }
#line 2007
      rty_cnt = 0;
#line 2007
      goto ldv_38667;
      ldv_38666: 
#line 2009
      retval = ms_transfer_tpc(chip, 5, 13, 0, 0);
#line 2014
      if (retval == 0) {
#line 2015
        goto ldv_38665;
      } else {

      }
#line 2008
      rty_cnt = rty_cnt + 1;
      ldv_38667: ;
#line 2007
      if (rty_cnt <= 2) {
#line 2009
        goto ldv_38666;
      } else {

      }
      ldv_38665: ;
#line 2017
      if (rty_cnt == 3) {
#line 2018
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_copy_page", 2018);
#line 2019
        return (1);
      } else {

      }
    } else {

    }
#line 2023
    if (((int )val & 32) == 0) {
#line 2024
      ms_set_err_code(chip, 1);
#line 2025
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2025);
#line 2026
      return (1);
    } else {

    }
  } else {

  }
#line 2030
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 15);
#line 2033
  ms_set_err_code(chip, 0);
#line 2035
  if (((int )ms_card->ms_type & 256) != 0) {
#line 2036
    data[0] = 136U;
  } else {
#line 2038
    data[0] = 128U;
  }
#line 2040
  data[1] = 0U;
#line 2041
  data[2] = (unsigned char )((int )new_blk >> 8);
#line 2042
  data[3] = (unsigned char )new_blk;
#line 2043
  data[4] = 32U;
#line 2044
  data[5] = i;
#line 2046
  if (((int )extra[0] & 96) != 96) {
#line 2047
    data[6] = extra[0];
  } else {
#line 2049
    data[6] = 248U;
  }
#line 2051
  data[7] = 255U;
#line 2052
  data[8] = (unsigned char )((int )log_blk >> 8);
#line 2053
  data[9] = (unsigned char )log_blk;
#line 2055
  j = 4U;
#line 2055
  goto ldv_38669;
  ldv_38668: 
#line 2056
  data[(int )j + 6] = 255U;
#line 2055
  j = (u8 )((int )j + 1);
  ldv_38669: ;
#line 2055
  if ((unsigned int )j <= 9U) {
#line 2057
    goto ldv_38668;
  } else {

  }
#line 2058
  retval = ms_write_bytes(chip, 11, 15, 0, (u8 *)(& data), 16);
#line 2060
  if (retval != 0) {
#line 2061
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 2061);
#line 2062
    return (1);
  } else {

  }
#line 2065
  retval = ms_send_cmd(chip, 85, 128);
#line 2066
  if (retval != 0) {
#line 2067
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 2067);
#line 2068
    return (1);
  } else {

  }
#line 2071
  ms_set_err_code(chip, 0);
#line 2072
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 2073
  if (retval != 0) {
#line 2074
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 2074);
#line 2075
    return (1);
  } else {

  }
#line 2078
  if ((int )val & 1) {
#line 2079
    ms_set_err_code(chip, 8);
#line 2080
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_copy_page", 2080);
#line 2081
    return (1);
  } else {

  }
#line 2084
  if ((int )((signed char )val) < 0) {
#line 2085
    if (((int )val & 64) != 0) {
#line 2086
      ms_set_err_code(chip, 2);
#line 2087
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2087);
#line 2088
      return (1);
    } else {

    }
  } else {

  }
#line 2092
  if ((unsigned int )i == 0U) {
#line 2093
    retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 7);
#line 2095
    if (retval != 0) {
#line 2096
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2096);
#line 2097
      return (1);
    } else {

    }
#line 2100
    ms_set_err_code(chip, 0);
#line 2102
    if (((int )ms_card->ms_type & 256) != 0) {
#line 2103
      data[0] = 136U;
    } else {
#line 2105
      data[0] = 128U;
    }
#line 2107
    data[1] = 0U;
#line 2108
    data[2] = (unsigned char )((int )old_blk >> 8);
#line 2109
    data[3] = (unsigned char )old_blk;
#line 2110
    data[4] = 128U;
#line 2111
    data[5] = 0U;
#line 2112
    data[6] = 239U;
#line 2113
    data[7] = 255U;
#line 2115
    retval = ms_write_bytes(chip, 11, 7, 0, (u8 *)(& data), 8);
#line 2117
    if (retval != 0) {
#line 2118
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2118);
#line 2119
      return (1);
    } else {

    }
#line 2122
    retval = ms_send_cmd(chip, 85, 128);
#line 2123
    if (retval != 0) {
#line 2124
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2124);
#line 2125
      return (1);
    } else {

    }
#line 2128
    ms_set_err_code(chip, 0);
#line 2129
    retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 2131
    if (retval != 0) {
#line 2132
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2132);
#line 2133
      return (1);
    } else {

    }
#line 2136
    if ((int )val & 1) {
#line 2137
      ms_set_err_code(chip, 8);
#line 2138
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_copy_page", 2138);
#line 2139
      return (1);
    } else {

    }
#line 2142
    if ((int )((signed char )val) < 0) {
#line 2143
      if (((int )val & 64) != 0) {
#line 2144
        ms_set_err_code(chip, 2);
#line 2146
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_copy_page", 2146);
#line 2147
        return (1);
      } else {

      }
    } else {

    }
  } else {

  }
  ldv_38664: 
#line 1914
  i = (u8 )((int )i + 1);
  ldv_38672: ;
#line 1914
  if ((int )i < (int )end_page) {
#line 1916
    goto ldv_38671;
  } else {

  }

#line 2153
  return (0);
}
}
#line 2157 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int reset_ms(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  u16 i ;
  u16 reg_addr ;
  u16 block_size___0 ;
  u8 val ;
  u8 extra[9U] ;
  u8 j ;
  u8 *ptr ;
  int tmp ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  int tmp___2 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___3 ;
  long tmp___4 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___5 ;
  long tmp___6 ;

  {
#line 2159
  ms_card = & chip->ms_card;
#line 2167
  retval = ms_prepare_reset(chip);
#line 2168
  if (retval != 0) {
#line 2169
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2169);
#line 2170
    return (1);
  } else {

  }
#line 2173
  ms_card->ms_type = ms_card->ms_type;
#line 2175
  retval = ms_send_cmd(chip, 60, 0);
#line 2176
  if (retval != 0) {
#line 2177
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2177);
#line 2178
    return (1);
  } else {

  }
#line 2181
  retval = ms_read_status_reg(chip);
#line 2182
  if (retval != 0) {
#line 2183
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2183);
#line 2184
    return (1);
  } else {

  }
#line 2187
  retval = rtsx_read_register(chip, 64000, & val);
#line 2188
  if (retval != 0) {
#line 2189
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2189);
#line 2190
    return (retval);
  } else {

  }
#line 2192
  if ((int )val & 1) {
#line 2193
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
  } else {
#line 2195
    chip->card_wp = (unsigned int )chip->card_wp & 247U;
  }
#line 2197
  i = 0U;
  RE_SEARCH: ;
#line 2201
  goto ldv_38688;
  ldv_38690: 
#line 2202
  tmp = detect_card_cd(chip, 8);
#line 2202
  if (tmp != 0) {
#line 2203
    ms_set_err_code(chip, 32);
#line 2204
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2204);
#line 2205
    return (1);
  } else {

  }
#line 2208
  retval = ms_read_extra_data(chip, (int )i, 0, (u8 *)(& extra), 9);
#line 2209
  if (retval != 0) {
#line 2210
    i = (u16 )((int )i + 1);
#line 2211
    goto ldv_38688;
  } else {

  }
#line 2214
  if ((int )((signed char )extra[0]) < 0) {
#line 2215
    if (((int )extra[1] & 4) == 0) {
#line 2216
      ms_card->boot_block = i;
#line 2217
      goto ldv_38689;
    } else {

    }
  } else {

  }
#line 2220
  i = (u16 )((int )i + 1);
  ldv_38688: ;
#line 2201
  if ((unsigned int )i <= 11U) {
#line 2203
    goto ldv_38690;
  } else {

  }
  ldv_38689: ;
#line 2223
  if ((unsigned int )i == 12U) {
#line 2224
    descriptor.modname = "rts5208";
#line 2224
    descriptor.function = "reset_ms";
#line 2224
    descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2224
    descriptor.format = "No boot block found!";
#line 2224
    descriptor.lineno = 2224U;
#line 2224
    descriptor.flags = 0U;
#line 2224
    tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2224
    if (tmp___1 != 0L) {
#line 2224
      tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2224
      __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "No boot block found!");
    } else {

    }
#line 2225
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2225);
#line 2226
    return (1);
  } else {

  }
#line 2229
  j = 0U;
#line 2229
  goto ldv_38693;
  ldv_38692: 
#line 2230
  retval = ms_read_page(chip, (int )ms_card->boot_block, (int )j);
#line 2231
  if (retval != 0) {
#line 2232
    tmp___2 = ms_check_err_code(chip, 2);
#line 2232
    if (tmp___2 != 0) {
#line 2233
      i = (unsigned int )ms_card->boot_block + 1U;
#line 2234
      ms_set_err_code(chip, 0);
#line 2235
      goto RE_SEARCH;
    } else {

    }
  } else {

  }
#line 2229
  j = (u8 )((int )j + 1);
  ldv_38693: ;
#line 2229
  if ((unsigned int )j <= 2U) {
#line 2231
    goto ldv_38692;
  } else {

  }
#line 2240
  retval = ms_read_page(chip, (int )ms_card->boot_block, 0);
#line 2241
  if (retval != 0) {
#line 2242
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2242);
#line 2243
    return (1);
  } else {

  }
#line 2247
  chip->ci = 0;
#line 2249
  i = 0U;
#line 2249
  goto ldv_38696;
  ldv_38695: 
#line 2250
  rtsx_add_cmd(chip, 0, (int )((unsigned int )i + 64416U), 0, 0);
#line 2249
  i = (u16 )((int )i + 1);
  ldv_38696: ;
#line 2249
  if ((unsigned int )i <= 95U) {
#line 2251
    goto ldv_38695;
  } else {

  }
#line 2252
  retval = rtsx_send_cmd(chip, 8, 100);
#line 2253
  if (retval < 0) {
#line 2254
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2254);
#line 2255
    return (1);
  } else {

  }
#line 2258
  ptr = rtsx_get_cmd_data(chip);
#line 2259
  memcpy((void *)(& ms_card->raw_sys_info), (void const   *)ptr, 96UL);
#line 2262
  chip->ci = 0;
#line 2264
  rtsx_add_cmd(chip, 0, 64000, 0, 0);
#line 2265
  rtsx_add_cmd(chip, 0, 64001, 0, 0);
#line 2267
  reg_addr = 64372U;
#line 2267
  goto ldv_38699;
  ldv_38698: 
#line 2269
  rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 2268
  reg_addr = (u16 )((int )reg_addr + 1);
  ldv_38699: ;
#line 2267
  if ((unsigned int )reg_addr <= 64375U) {
#line 2269
    goto ldv_38698;
  } else {

  }
#line 2271
  reg_addr = 64418U;
#line 2271
  goto ldv_38702;
  ldv_38701: 
#line 2272
  rtsx_add_cmd(chip, 0, (int )reg_addr, 0, 0);
#line 2271
  reg_addr = (u16 )((int )reg_addr + 1);
  ldv_38702: ;
#line 2271
  if ((unsigned int )reg_addr <= 64425U) {
#line 2273
    goto ldv_38701;
  } else {

  }
#line 2274
  rtsx_add_cmd(chip, 0, 64472, 0, 0);
#line 2275
  rtsx_add_cmd(chip, 0, 64467, 0, 0);
#line 2277
  retval = rtsx_send_cmd(chip, 8, 100);
#line 2278
  if (retval < 0) {
#line 2279
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms", 2279);
#line 2280
    return (1);
  } else {

  }
#line 2283
  ptr = rtsx_get_cmd_data(chip);
#line 2285
  descriptor___0.modname = "rts5208";
#line 2285
  descriptor___0.function = "reset_ms";
#line 2285
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2285
  descriptor___0.format = "Boot block data:\n";
#line 2285
  descriptor___0.lineno = 2285U;
#line 2285
  descriptor___0.flags = 0U;
#line 2285
  tmp___4 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2285
  if (tmp___4 != 0L) {
#line 2285
    tmp___3 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2285
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___3, "Boot block data:\n");
  } else {

  }
#line 2286
  descriptor___1.modname = "rts5208";
#line 2286
  descriptor___1.function = "reset_ms";
#line 2286
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2286
  descriptor___1.format = "%*ph\n";
#line 2286
  descriptor___1.lineno = 2286U;
#line 2286
  descriptor___1.flags = 0U;
#line 2286
  tmp___6 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 2286
  if (tmp___6 != 0L) {
#line 2286
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2286
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___5, "%*ph\n",
                      16, ptr);
  } else {

  }
#line 2291
  if ((unsigned int )*ptr != 0U || (unsigned int )*(ptr + 1UL) != 1U) {
#line 2292
    i = (unsigned int )ms_card->boot_block + 1U;
#line 2293
    goto RE_SEARCH;
  } else {

  }
#line 2299
  if ((unsigned int )*(ptr + 12UL) != 2U || (unsigned int )*(ptr + 13UL) != 0U) {
#line 2300
    i = (unsigned int )ms_card->boot_block + 1U;
#line 2301
    goto RE_SEARCH;
  } else {

  }
#line 2304
  if ((unsigned int )*(ptr + 14UL) == 1U || (unsigned int )*(ptr + 14UL) == 3U) {
#line 2305
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
  } else {

  }
#line 2308
  block_size___0 = (u16 )((int )((short )((int )*(ptr + 6UL) << 8)) | (int )((short )*(ptr + 7UL)));
#line 2309
  if ((unsigned int )block_size___0 == 16U) {
#line 2311
    ms_card->block_shift = 5U;
#line 2312
    ms_card->page_off = 31U;
  } else
#line 2313
  if ((unsigned int )block_size___0 == 8U) {
#line 2315
    ms_card->block_shift = 4U;
#line 2316
    ms_card->page_off = 15U;
  } else {

  }
#line 2320
  ms_card->total_block = (u16 )((int )((short )((int )*(ptr + 8UL) << 8)) | (int )((short )*(ptr + 9UL)));
#line 2323
  j = *(ptr + 10UL);
#line 2325
  if ((unsigned int )ms_card->block_shift == 4U) {
#line 2326
    if ((unsigned int )j <= 1U) {
#line 2327
      ms_card->capacity = 7904U;
    } else {
#line 2329
      ms_card->capacity = 15840U;
    }
  } else
#line 2332
  if ((unsigned int )j <= 4U) {
#line 2333
    ms_card->capacity = 31680U;
  } else
#line 2334
  if ((unsigned int )j <= 9U) {
#line 2335
    ms_card->capacity = 63424U;
  } else
#line 2336
  if ((unsigned int )j <= 16U) {
#line 2337
    ms_card->capacity = 126848U;
  } else {
#line 2339
    ms_card->capacity = 253696U;
  }
#line 2349
  chip->capacity[(int )chip->card2lun[8]] = ms_card->capacity;
#line 2352
  if ((unsigned int )*(ptr + 15UL) != 0U) {
#line 2353
    retval = ms_set_rw_reg_addr(chip, 0, 0, 16, 1);
#line 2354
    if (retval != 0) {
#line 2355
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms", 2355);
#line 2356
      return (1);
    } else {

    }
#line 2359
    retval = rtsx_write_register(chip, 64000, 255, 136);
#line 2360
    if (retval != 0) {
#line 2361
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms", 2361);
#line 2362
      return (retval);
    } else {

    }
#line 2364
    retval = rtsx_write_register(chip, 64001, 255, 0);
#line 2365
    if (retval != 0) {
#line 2366
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms", 2366);
#line 2367
      return (retval);
    } else {

    }
#line 2370
    retval = ms_transfer_tpc(chip, 4, 11, 1, 0);
#line 2372
    if (retval != 0) {
#line 2373
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms", 2373);
#line 2374
      return (1);
    } else {

    }
#line 2377
    retval = rtsx_write_register(chip, 64832, 90, 82);
#line 2380
    if (retval != 0) {
#line 2381
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms", 2381);
#line 2382
      return (retval);
    } else {

    }
#line 2385
    ms_card->ms_type = (u16 )((unsigned int )ms_card->ms_type | 256U);
  } else {

  }
#line 2388
  if (((int )ms_card->ms_type & 256) != 0) {
#line 2389
    chip->card_bus_width[(int )chip->card2lun[8]] = 4U;
  } else {
#line 2391
    chip->card_bus_width[(int )chip->card2lun[8]] = 1U;
  }
#line 2393
  return (0);
}
}
#line 2396 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_init_l2p_tbl(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int size ;
  int i ;
  int seg_no ;
  int retval ;
  u16 defect_block ;
  u16 reg_addr ;
  u8 val1 ;
  u8 val2 ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  void *tmp___1 ;
  int block_no ;
  u16 tmp___2 ;
  u16 tmp___3 ;
  int tmp___4 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___5 ;
  long tmp___6 ;

  {
#line 2398
  ms_card = & chip->ms_card;
#line 2403
  ms_card->segment_cnt = (int )ms_card->total_block >> 9;
#line 2404
  descriptor.modname = "rts5208";
#line 2404
  descriptor.function = "ms_init_l2p_tbl";
#line 2404
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2404
  descriptor.format = "ms_card->segment_cnt = %d\n";
#line 2404
  descriptor.lineno = 2405U;
#line 2404
  descriptor.flags = 0U;
#line 2404
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2404
  if (tmp___0 != 0L) {
#line 2404
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2404
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "ms_card->segment_cnt = %d\n",
                      ms_card->segment_cnt);
  } else {

  }
#line 2407
  size = (int )((unsigned int )ms_card->segment_cnt * 56U);
#line 2408
  tmp___1 = vzalloc((unsigned long )size);
#line 2408
  ms_card->segment = (struct zone_entry *)tmp___1;
#line 2409
  if ((unsigned long )ms_card->segment == (unsigned long )((struct zone_entry *)0)) {
#line 2410
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_l2p_tbl", 2410);
#line 2411
    return (1);
  } else {

  }
#line 2414
  retval = ms_read_page(chip, (int )ms_card->boot_block, 1);
#line 2415
  if (retval != 0) {
#line 2416
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_l2p_tbl", 2416);
#line 2417
    goto INIT_FAIL;
  } else {

  }
#line 2420
  reg_addr = 64000U;
#line 2421
  i = 0;
#line 2421
  goto ldv_38724;
  ldv_38723: 
#line 2424
  tmp___2 = reg_addr;
#line 2424
  reg_addr = (u16 )((int )reg_addr + 1);
#line 2424
  retval = rtsx_read_register(chip, (int )tmp___2, & val1);
#line 2425
  if (retval != 0) {
#line 2426
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_l2p_tbl", 2426);
#line 2427
    goto INIT_FAIL;
  } else {

  }
#line 2430
  tmp___3 = reg_addr;
#line 2430
  reg_addr = (u16 )((int )reg_addr + 1);
#line 2430
  retval = rtsx_read_register(chip, (int )tmp___3, & val2);
#line 2431
  if (retval != 0) {
#line 2432
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_init_l2p_tbl", 2432);
#line 2433
    goto INIT_FAIL;
  } else {

  }
#line 2436
  defect_block = (u16 )((int )((short )((int )val1 << 8)) | (int )((short )val2));
#line 2437
  if ((unsigned int )defect_block == 65535U) {
#line 2438
    goto ldv_38722;
  } else {

  }
#line 2440
  seg_no = (int )((unsigned int )defect_block / 512U);
#line 2442
  tmp___4 = (ms_card->segment + (unsigned long )seg_no)->disable_count;
#line 2442
  (ms_card->segment + (unsigned long )seg_no)->disable_count = (ms_card->segment + (unsigned long )seg_no)->disable_count + 1;
#line 2442
  block_no = tmp___4;
#line 2443
  (ms_card->segment + (unsigned long )seg_no)->defect_list[block_no] = defect_block;
#line 2421
  i = i + 1;
  ldv_38724: ;
#line 2421
  if (((int )ms_card->total_block >> 9) * 10 + 1 > i) {
#line 2423
    goto ldv_38723;
  } else {

  }
  ldv_38722: 
#line 2446
  i = 0;
#line 2446
  goto ldv_38727;
  ldv_38726: 
#line 2447
  (ms_card->segment + (unsigned long )i)->build_flag = 0;
#line 2448
  (ms_card->segment + (unsigned long )i)->l2p_table = (u16 *)0U;
#line 2449
  (ms_card->segment + (unsigned long )i)->free_table = (u16 *)0U;
#line 2450
  (ms_card->segment + (unsigned long )i)->get_index = 0;
#line 2451
  (ms_card->segment + (unsigned long )i)->set_index = 0;
#line 2452
  (ms_card->segment + (unsigned long )i)->unused_blk_cnt = 0;
#line 2454
  descriptor___0.modname = "rts5208";
#line 2454
  descriptor___0.function = "ms_init_l2p_tbl";
#line 2454
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2454
  descriptor___0.format = "defective block count of segment %d is %d\n";
#line 2454
  descriptor___0.lineno = 2455U;
#line 2454
  descriptor___0.flags = 0U;
#line 2454
  tmp___6 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2454
  if (tmp___6 != 0L) {
#line 2454
    tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2454
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___5, "defective block count of segment %d is %d\n",
                      i, (ms_card->segment + (unsigned long )i)->disable_count);
  } else {

  }
#line 2446
  i = i + 1;
  ldv_38727: ;
#line 2446
  if (ms_card->segment_cnt > i) {
#line 2448
    goto ldv_38726;
  } else {

  }

#line 2458
  return (0);
  INIT_FAIL: ;
#line 2461
  if ((unsigned long )ms_card->segment != (unsigned long )((struct zone_entry *)0)) {
#line 2462
    vfree((void const   *)ms_card->segment);
#line 2463
    ms_card->segment = (struct zone_entry *)0;
  } else {

  }
#line 2466
  return (1);
}
}
#line 2469 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static u16 ms_get_l2p_tbl(struct rtsx_chip *chip , int seg_no , u16 log_off ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;

  {
#line 2471
  ms_card = & chip->ms_card;
#line 2474
  if ((unsigned long )ms_card->segment == (unsigned long )((struct zone_entry *)0)) {
#line 2475
    return (65535U);
  } else {

  }
#line 2477
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2479
  if ((unsigned long )segment->l2p_table != (unsigned long )((u16 *)0U)) {
#line 2480
    return (*(segment->l2p_table + (unsigned long )log_off));
  } else {

  }
#line 2482
  return (65535U);
}
}
#line 2485 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static void ms_set_l2p_tbl(struct rtsx_chip *chip , int seg_no , u16 log_off , u16 phy_blk ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;

  {
#line 2488
  ms_card = & chip->ms_card;
#line 2491
  if ((unsigned long )ms_card->segment == (unsigned long )((struct zone_entry *)0)) {
#line 2492
    return;
  } else {

  }
#line 2494
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2495
  if ((unsigned long )segment->l2p_table != (unsigned long )((u16 *)0U)) {
#line 2496
    *(segment->l2p_table + (unsigned long )log_off) = phy_blk;
  } else {

  }
#line 2497
  return;
}
}
#line 2499 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static void ms_set_unused_block(struct rtsx_chip *chip , u16 phy_blk ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;
  int seg_no ;
  int tmp ;

  {
#line 2501
  ms_card = & chip->ms_card;
#line 2505
  seg_no = (int )phy_blk >> 9;
#line 2506
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2508
  tmp = segment->set_index;
#line 2508
  segment->set_index = segment->set_index + 1;
#line 2508
  *(segment->free_table + (unsigned long )tmp) = phy_blk;
#line 2509
  if (segment->set_index > 511) {
#line 2510
    segment->set_index = 0;
  } else {

  }
#line 2512
  segment->unused_blk_cnt = segment->unused_blk_cnt + 1;
#line 2513
  return;
}
}
#line 2515 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static u16 ms_get_unused_block(struct rtsx_chip *chip , int seg_no ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;
  u16 phy_blk ;
  int tmp ;

  {
#line 2517
  ms_card = & chip->ms_card;
#line 2521
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2523
  if (segment->unused_blk_cnt <= 0) {
#line 2524
    return (65535U);
  } else {

  }
#line 2526
  phy_blk = *(segment->free_table + (unsigned long )segment->get_index);
#line 2527
  tmp = segment->get_index;
#line 2527
  segment->get_index = segment->get_index + 1;
#line 2527
  *(segment->free_table + (unsigned long )tmp) = 65535U;
#line 2528
  if (segment->get_index > 511) {
#line 2529
    segment->get_index = 0;
  } else {

  }
#line 2531
  segment->unused_blk_cnt = segment->unused_blk_cnt - 1;
#line 2533
  return (phy_blk);
}
}
#line 2536 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static unsigned short const   ms_start_idx[17U]  = 
#line 2536
  {      0U,      494U,      990U,      1486U, 
        1982U,      2478U,      2974U,      3470U, 
        3966U,      4462U,      4958U,      5454U, 
        5950U,      6446U,      6942U,      7438U, 
        7934U};
#line 2541 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_arbitrate_l2p(struct rtsx_chip *chip , u16 phy_blk , u16 log_off , u8 us1 ,
                            u8 us2 ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;
  int seg_no ;
  u16 tmp_blk ;

  {
#line 2544
  ms_card = & chip->ms_card;
#line 2549
  seg_no = (int )phy_blk >> 9;
#line 2550
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2551
  tmp_blk = *(segment->l2p_table + (unsigned long )log_off);
#line 2553
  if ((int )us1 != (int )us2) {
#line 2554
    if ((unsigned int )us1 == 0U) {
#line 2555
      if (((int )chip->card_wp & 8) == 0) {
#line 2556
        ms_erase_block(chip, (int )tmp_blk);
      } else {

      }
#line 2558
      ms_set_unused_block(chip, (int )tmp_blk);
#line 2559
      *(segment->l2p_table + (unsigned long )log_off) = phy_blk;
    } else {
#line 2561
      if (((int )chip->card_wp & 8) == 0) {
#line 2562
        ms_erase_block(chip, (int )phy_blk);
      } else {

      }
#line 2564
      ms_set_unused_block(chip, (int )phy_blk);
    }
  } else
#line 2567
  if ((int )phy_blk < (int )tmp_blk) {
#line 2568
    if (((int )chip->card_wp & 8) == 0) {
#line 2569
      ms_erase_block(chip, (int )phy_blk);
    } else {

    }
#line 2571
    ms_set_unused_block(chip, (int )phy_blk);
  } else {
#line 2573
    if (((int )chip->card_wp & 8) == 0) {
#line 2574
      ms_erase_block(chip, (int )tmp_blk);
    } else {

    }
#line 2576
    ms_set_unused_block(chip, (int )tmp_blk);
#line 2577
    *(segment->l2p_table + (unsigned long )log_off) = phy_blk;
  }
#line 2581
  return (0);
}
}
#line 2584 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_build_l2p_tbl(struct rtsx_chip *chip , int seg_no ) 
{ 
  struct ms_info *ms_card ;
  struct zone_entry *segment ;
  bool defect_flag ;
  int retval ;
  int table_size ;
  int disable_cnt ;
  int i ;
  u16 start ;
  u16 end ;
  u16 phy_blk ;
  u16 log_blk ;
  u16 tmp_blk ;
  u16 idx ;
  u8 extra[9U] ;
  u8 us1 ;
  u8 us2 ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___6 ;
  long tmp___7 ;
  struct _ddebug descriptor___2 ;
  struct device *tmp___8 ;
  long tmp___9 ;
  struct _ddebug descriptor___3 ;
  struct device *tmp___10 ;
  long tmp___11 ;

  {
#line 2586
  ms_card = & chip->ms_card;
#line 2593
  descriptor.modname = "rts5208";
#line 2593
  descriptor.function = "ms_build_l2p_tbl";
#line 2593
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2593
  descriptor.format = "ms_build_l2p_tbl: %d\n";
#line 2593
  descriptor.lineno = 2593U;
#line 2593
  descriptor.flags = 0U;
#line 2593
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2593
  if (tmp___0 != 0L) {
#line 2593
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2593
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "ms_build_l2p_tbl: %d\n",
                      seg_no);
  } else {

  }
#line 2595
  if ((unsigned long )ms_card->segment == (unsigned long )((struct zone_entry *)0)) {
#line 2596
    retval = ms_init_l2p_tbl(chip);
#line 2597
    if (retval != 0) {
#line 2598
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_build_l2p_tbl", 2598);
#line 2599
      return (retval);
    } else {

    }
  } else {

  }
#line 2603
  if ((ms_card->segment + (unsigned long )seg_no)->build_flag != 0) {
#line 2604
    descriptor___0.modname = "rts5208";
#line 2604
    descriptor___0.function = "ms_build_l2p_tbl";
#line 2604
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2604
    descriptor___0.format = "l2p table of segment %d has been built\n";
#line 2604
    descriptor___0.lineno = 2605U;
#line 2604
    descriptor___0.flags = 0U;
#line 2604
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 2604
    if (tmp___2 != 0L) {
#line 2604
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2604
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "l2p table of segment %d has been built\n",
                        seg_no);
    } else {

    }
#line 2606
    return (0);
  } else {

  }
#line 2609
  if (seg_no == 0) {
#line 2610
    table_size = 494;
  } else {
#line 2612
    table_size = 496;
  }
#line 2614
  segment = ms_card->segment + (unsigned long )seg_no;
#line 2616
  if ((unsigned long )segment->l2p_table == (unsigned long )((u16 *)0U)) {
#line 2617
    tmp___3 = vmalloc((unsigned long )(table_size * 2));
#line 2617
    segment->l2p_table = (u16 *)tmp___3;
#line 2618
    if ((unsigned long )segment->l2p_table == (unsigned long )((u16 *)0U)) {
#line 2619
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_build_l2p_tbl", 2619);
#line 2620
      goto BUILD_FAIL;
    } else {

    }
  } else {

  }
#line 2623
  memset((void *)segment->l2p_table, 255, (size_t )(table_size * 2));
#line 2625
  if ((unsigned long )segment->free_table == (unsigned long )((u16 *)0U)) {
#line 2626
    tmp___4 = vmalloc(1024UL);
#line 2626
    segment->free_table = (u16 *)tmp___4;
#line 2627
    if ((unsigned long )segment->free_table == (unsigned long )((u16 *)0U)) {
#line 2628
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_build_l2p_tbl", 2628);
#line 2629
      goto BUILD_FAIL;
    } else {

    }
  } else {

  }
#line 2632
  memset((void *)segment->free_table, 255, 1024UL);
#line 2634
  start = (int )((u16 )seg_no) << 9U;
#line 2635
  end = (int )((u16 )((unsigned int )((unsigned short )seg_no) + 1U)) << 9U;
#line 2637
  disable_cnt = segment->disable_count;
#line 2639
  tmp___5 = 0;
#line 2639
  segment->set_index = tmp___5;
#line 2639
  segment->get_index = tmp___5;
#line 2640
  segment->unused_blk_cnt = 0;
#line 2642
  phy_blk = start;
#line 2642
  goto ldv_38800;
  ldv_38799: ;
#line 2643
  if (disable_cnt != 0) {
#line 2644
    defect_flag = 0;
#line 2645
    i = 0;
#line 2645
    goto ldv_38796;
    ldv_38795: ;
#line 2646
    if ((int )segment->defect_list[i] == (int )phy_blk) {
#line 2647
      defect_flag = 1;
#line 2648
      goto ldv_38794;
    } else {

    }
#line 2645
    i = i + 1;
    ldv_38796: ;
#line 2645
    if (segment->disable_count > i) {
#line 2647
      goto ldv_38795;
    } else {

    }
    ldv_38794: ;
#line 2651
    if ((int )defect_flag) {
#line 2652
      disable_cnt = disable_cnt - 1;
#line 2653
      goto ldv_38797;
    } else {

    }
  } else {

  }
#line 2657
  retval = ms_read_extra_data(chip, (int )phy_blk, 0, (u8 *)(& extra), 9);
#line 2659
  if (retval != 0) {
#line 2660
    descriptor___1.modname = "rts5208";
#line 2660
    descriptor___1.function = "ms_build_l2p_tbl";
#line 2660
    descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2660
    descriptor___1.format = "read extra data fail\n";
#line 2660
    descriptor___1.lineno = 2660U;
#line 2660
    descriptor___1.flags = 0U;
#line 2660
    tmp___7 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 2660
    if (tmp___7 != 0L) {
#line 2660
      tmp___6 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2660
      __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___6, "read extra data fail\n");
    } else {

    }
#line 2661
    ms_set_bad_block(chip, (int )phy_blk);
#line 2662
    goto ldv_38797;
  } else {

  }
#line 2665
  if (ms_card->segment_cnt + -1 == seg_no) {
#line 2666
    if (((int )extra[1] & 8) == 0) {
#line 2667
      if (((int )chip->card_wp & 8) == 0) {
#line 2668
        retval = ms_erase_block(chip, (int )phy_blk);
#line 2669
        if (retval != 0) {
#line 2670
          goto ldv_38797;
        } else {

        }
#line 2671
        extra[2] = 255U;
#line 2672
        extra[3] = 255U;
      } else {

      }
    } else {

    }
  } else {

  }
#line 2677
  if ((int )((signed char )extra[0]) >= 0) {
#line 2678
    goto ldv_38797;
  } else {

  }
#line 2679
  if (((int )extra[1] & 4) == 0) {
#line 2680
    goto ldv_38797;
  } else {

  }
#line 2681
  if (((int )extra[0] & 96) != 96) {
#line 2682
    goto ldv_38797;
  } else {

  }
#line 2684
  log_blk = (u16 )((int )((short )((int )extra[2] << 8)) | (int )((short )extra[3]));
#line 2686
  if ((unsigned int )log_blk == 65535U) {
#line 2687
    if (((int )chip->card_wp & 8) == 0) {
#line 2688
      retval = ms_erase_block(chip, (int )phy_blk);
#line 2689
      if (retval != 0) {
#line 2690
        goto ldv_38797;
      } else {

      }
    } else {

    }
#line 2692
    ms_set_unused_block(chip, (int )phy_blk);
#line 2693
    goto ldv_38797;
  } else {

  }
#line 2696
  if ((int )((unsigned short )ms_start_idx[seg_no]) > (int )log_blk || (int )((unsigned short )ms_start_idx[seg_no + 1]) <= (int )log_blk) {
#line 2698
    if (((int )chip->card_wp & 8) == 0) {
#line 2699
      retval = ms_erase_block(chip, (int )phy_blk);
#line 2700
      if (retval != 0) {
#line 2701
        goto ldv_38797;
      } else {

      }
    } else {

    }
#line 2703
    ms_set_unused_block(chip, (int )phy_blk);
#line 2704
    goto ldv_38797;
  } else {

  }
#line 2707
  idx = (int )log_blk - (int )((u16 )ms_start_idx[seg_no]);
#line 2709
  if ((unsigned int )*(segment->l2p_table + (unsigned long )idx) == 65535U) {
#line 2710
    *(segment->l2p_table + (unsigned long )idx) = phy_blk;
#line 2711
    goto ldv_38797;
  } else {

  }
#line 2714
  us1 = (unsigned int )extra[0] & 16U;
#line 2715
  tmp_blk = *(segment->l2p_table + (unsigned long )idx);
#line 2716
  retval = ms_read_extra_data(chip, (int )tmp_blk, 0, (u8 *)(& extra), 9);
#line 2718
  if (retval != 0) {
#line 2719
    goto ldv_38797;
  } else {

  }
#line 2720
  us2 = (unsigned int )extra[0] & 16U;
#line 2722
  ms_arbitrate_l2p(chip, (int )phy_blk, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]),
                   (int )us1, (int )us2);
#line 2724
  goto ldv_38797;
  ldv_38797: 
#line 2642
  phy_blk = (u16 )((int )phy_blk + 1);
  ldv_38800: ;
#line 2642
  if ((int )phy_blk < (int )end) {
#line 2644
    goto ldv_38799;
  } else {

  }
#line 2727
  segment->build_flag = 1;
#line 2729
  descriptor___2.modname = "rts5208";
#line 2729
  descriptor___2.function = "ms_build_l2p_tbl";
#line 2729
  descriptor___2.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2729
  descriptor___2.format = "unused block count: %d\n";
#line 2729
  descriptor___2.lineno = 2730U;
#line 2729
  descriptor___2.flags = 0U;
#line 2729
  tmp___9 = ldv__builtin_expect((long )descriptor___2.flags & 1L, 0L);
#line 2729
  if (tmp___9 != 0L) {
#line 2729
    tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2729
    __dynamic_dev_dbg(& descriptor___2, (struct device  const  *)tmp___8, "unused block count: %d\n",
                      segment->unused_blk_cnt);
  } else {

  }
#line 2733
  if (ms_card->segment_cnt + -1 == seg_no) {
#line 2734
    if (segment->unused_blk_cnt <= 1) {
#line 2735
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
    } else {

    }
  } else
#line 2737
  if (segment->unused_blk_cnt <= 0) {
#line 2738
    chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
  } else {

  }
#line 2741
  if (((int )chip->card_wp & 8) != 0) {
#line 2742
    return (0);
  } else {

  }
#line 2744
  log_blk = ms_start_idx[seg_no];
#line 2744
  goto ldv_38804;
  ldv_38803: 
#line 2746
  idx = (int )log_blk - (int )((u16 )ms_start_idx[seg_no]);
#line 2747
  if ((unsigned int )*(segment->l2p_table + (unsigned long )idx) == 65535U) {
#line 2748
    phy_blk = ms_get_unused_block(chip, seg_no);
#line 2749
    if ((unsigned int )phy_blk == 65535U) {
#line 2750
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
#line 2751
      return (0);
    } else {

    }
#line 2753
    retval = ms_init_page(chip, (int )phy_blk, (int )log_blk, 0, 1);
#line 2754
    if (retval != 0) {
#line 2755
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_build_l2p_tbl", 2755);
#line 2756
      goto BUILD_FAIL;
    } else {

    }
#line 2759
    *(segment->l2p_table + (unsigned long )idx) = phy_blk;
#line 2760
    if (ms_card->segment_cnt + -1 == seg_no) {
#line 2761
      if (segment->unused_blk_cnt <= 1) {
#line 2762
        chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
#line 2763
        return (0);
      } else {

      }
    } else
#line 2766
    if (segment->unused_blk_cnt <= 0) {
#line 2767
      chip->card_wp = (u8 )((unsigned int )chip->card_wp | 8U);
#line 2768
      return (0);
    } else {

    }
  } else {

  }
#line 2745
  log_blk = (u16 )((int )log_blk + 1);
  ldv_38804: ;
#line 2744
  if ((int )((unsigned short )ms_start_idx[seg_no + 1]) > (int )log_blk) {
#line 2747
    goto ldv_38803;
  } else {

  }

#line 2775
  if (seg_no == 0) {
#line 2776
    log_blk = 0U;
#line 2776
    goto ldv_38809;
    ldv_38808: 
#line 2777
    tmp_blk = *(segment->l2p_table + (unsigned long )log_blk);
#line 2778
    if ((int )ms_card->boot_block > (int )tmp_blk) {
#line 2779
      descriptor___3.modname = "rts5208";
#line 2779
      descriptor___3.function = "ms_build_l2p_tbl";
#line 2779
      descriptor___3.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2779
      descriptor___3.format = "Boot block is not the first normal block.\n";
#line 2779
      descriptor___3.lineno = 2779U;
#line 2779
      descriptor___3.flags = 0U;
#line 2779
      tmp___11 = ldv__builtin_expect((long )descriptor___3.flags & 1L, 0L);
#line 2779
      if (tmp___11 != 0L) {
#line 2779
        tmp___10 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2779
        __dynamic_dev_dbg(& descriptor___3, (struct device  const  *)tmp___10, "Boot block is not the first normal block.\n");
      } else {

      }
#line 2781
      if (((int )chip->card_wp & 8) != 0) {
#line 2782
        goto ldv_38807;
      } else {

      }
#line 2784
      phy_blk = ms_get_unused_block(chip, 0);
#line 2785
      retval = ms_copy_page(chip, (int )tmp_blk, (int )phy_blk, (int )log_blk, 0,
                            (int )((unsigned int )ms_card->page_off + 1U));
#line 2787
      if (retval != 0) {
#line 2788
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_build_l2p_tbl", 2788);
#line 2789
        return (1);
      } else {

      }
#line 2792
      *(segment->l2p_table + (unsigned long )log_blk) = phy_blk;
#line 2794
      retval = ms_set_bad_block(chip, (int )tmp_blk);
#line 2795
      if (retval != 0) {
#line 2796
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_build_l2p_tbl", 2796);
#line 2797
        return (1);
      } else {

      }
    } else {

    }
#line 2776
    log_blk = (u16 )((int )log_blk + 1);
    ldv_38809: ;
#line 2776
    if ((unsigned int )log_blk <= 493U) {
#line 2778
      goto ldv_38808;
    } else {

    }
    ldv_38807: ;
  } else {

  }
#line 2803
  return (0);
  BUILD_FAIL: 
#line 2806
  segment->build_flag = 0;
#line 2807
  if ((unsigned long )segment->l2p_table != (unsigned long )((u16 *)0U)) {
#line 2808
    vfree((void const   *)segment->l2p_table);
#line 2809
    segment->l2p_table = (u16 *)0U;
  } else {

  }
#line 2811
  if ((unsigned long )segment->free_table != (unsigned long )((u16 *)0U)) {
#line 2812
    vfree((void const   *)segment->free_table);
#line 2813
    segment->free_table = (u16 *)0U;
  } else {

  }
#line 2816
  return (1);
}
}
#line 2820 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int reset_ms_card(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 2822
  ms_card = & chip->ms_card;
#line 2825
  memset((void *)ms_card, 0, 240UL);
#line 2827
  retval = enable_card_clock(chip, 8);
#line 2828
  if (retval != 0) {
#line 2829
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms_card", 2829);
#line 2830
    return (1);
  } else {

  }
#line 2833
  retval = select_card(chip, 8);
#line 2834
  if (retval != 0) {
#line 2835
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms_card", 2835);
#line 2836
    return (1);
  } else {

  }
#line 2839
  ms_card->ms_type = 0U;
#line 2841
  retval = reset_ms_pro(chip);
#line 2842
  if (retval != 0) {
#line 2843
    if ((unsigned int )ms_card->check_ms_flow != 0U) {
#line 2844
      retval = reset_ms(chip);
#line 2845
      if (retval != 0) {
#line 2846
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "reset_ms_card", 2846);
#line 2847
        return (1);
      } else {

      }
    } else {
#line 2850
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms_card", 2850);
#line 2851
      return (1);
    }
  } else {

  }
#line 2855
  retval = ms_set_init_para(chip);
#line 2856
  if (retval != 0) {
#line 2857
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "reset_ms_card", 2857);
#line 2858
    return (1);
  } else {

  }
#line 2861
  if (((int )ms_card->ms_type & 255) != 1) {
#line 2865
    retval = ms_build_l2p_tbl(chip, (int )((unsigned int )ms_card->total_block / 512U) + -1);
#line 2866
    if (retval != 0) {
#line 2867
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "reset_ms_card", 2867);
#line 2868
      return (1);
    } else {

    }
  } else {

  }
#line 2872
  descriptor.modname = "rts5208";
#line 2872
  descriptor.function = "reset_ms_card";
#line 2872
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 2872
  descriptor.format = "ms_card->ms_type = 0x%x\n";
#line 2872
  descriptor.lineno = 2872U;
#line 2872
  descriptor.flags = 0U;
#line 2872
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 2872
  if (tmp___0 != 0L) {
#line 2872
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 2872
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "ms_card->ms_type = 0x%x\n",
                      (int )ms_card->ms_type);
  } else {

  }
#line 2874
  return (0);
}
}
#line 2877 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int mspro_set_rw_cmd(struct rtsx_chip *chip , u32 start_sec , u16 sec_cnt ,
                            u8 cmd ) 
{ 
  int retval ;
  int i ;
  u8 data[8U] ;

  {
#line 2883
  data[0] = cmd;
#line 2884
  data[1] = (unsigned char )((int )sec_cnt >> 8);
#line 2885
  data[2] = (unsigned char )sec_cnt;
#line 2886
  data[3] = (unsigned char )(start_sec >> 24);
#line 2887
  data[4] = (unsigned char )(start_sec >> 16);
#line 2888
  data[5] = (unsigned char )(start_sec >> 8);
#line 2889
  data[6] = (unsigned char )start_sec;
#line 2890
  data[7] = 0U;
#line 2892
  i = 0;
#line 2892
  goto ldv_38828;
  ldv_38827: 
#line 2893
  retval = ms_write_bytes(chip, 9, 7, 128, (u8 *)(& data), 8);
#line 2895
  if (retval == 0) {
#line 2896
    goto ldv_38826;
  } else {

  }
#line 2892
  i = i + 1;
  ldv_38828: ;
#line 2892
  if (i <= 2) {
#line 2894
    goto ldv_38827;
  } else {

  }
  ldv_38826: ;
#line 2898
  if (i == 3) {
#line 2899
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_set_rw_cmd", 2899);
#line 2900
    return (1);
  } else {

  }
#line 2903
  return (0);
}
}
#line 2907 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
void mspro_stop_seq_mode(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 2909
  ms_card = & chip->ms_card;
#line 2912
  if ((unsigned int )ms_card->seq_mode != 0U) {
#line 2913
    retval = ms_switch_clock(chip);
#line 2914
    if (retval != 0) {
#line 2915
      return;
    } else {

    }
#line 2917
    ms_card->seq_mode = 0U;
#line 2918
    ms_card->total_sec_cnt = 0U;
#line 2919
    ms_send_cmd(chip, 37, 128);
#line 2921
    rtsx_write_register(chip, 65076, 128, 128);
  } else {

  }
#line 2923
  return;
}
}
#line 2925 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
__inline static int ms_auto_tune_clock(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 2927
  ms_card = & chip->ms_card;
#line 2930
  if (chip->asic_code != 0) {
#line 2931
    if (ms_card->ms_clock > 30) {
#line 2932
      ms_card->ms_clock = ms_card->ms_clock + -20;
    } else {

    }
  } else
#line 2934
  if (ms_card->ms_clock == 6) {
#line 2935
    ms_card->ms_clock = 5;
  } else
#line 2936
  if (ms_card->ms_clock == 5) {
#line 2937
    ms_card->ms_clock = 3;
  } else {

  }
#line 2940
  retval = ms_switch_clock(chip);
#line 2941
  if (retval != 0) {
#line 2942
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_auto_tune_clock", 2942);
#line 2943
    return (1);
  } else {

  }
#line 2946
  return (0);
}
}
#line 2949 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int mspro_rw_multi_sector(struct scsi_cmnd *srb , struct rtsx_chip *chip ,
                                 u32 start_sector , u16 sector_cnt ) 
{ 
  struct ms_info *ms_card ;
  bool mode_2k ;
  int retval ;
  u16 count ;
  u8 val ;
  u8 trans_mode ;
  u8 rw_tpc ;
  u8 rw_cmd ;
  unsigned int tmp ;
  struct scatterlist *tmp___0 ;
  unsigned int tmp___1 ;
  struct _ddebug descriptor ;
  struct device *tmp___2 ;
  long tmp___3 ;
  int tmp___4 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___5 ;
  long tmp___6 ;

  {
#line 2953
  ms_card = & chip->ms_card;
#line 2954
  mode_2k = 0;
#line 2959
  ms_set_err_code(chip, 0);
#line 2961
  ms_card->cleanup_counter = 0;
#line 2963
  if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1024) != 0) {
#line 2964
    if ((start_sector & 3U) != 0U || ((unsigned int )sector_cnt & 3U) != 0U) {
#line 2965
      if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2966
        rw_tpc = 2U;
#line 2967
        rw_cmd = 32U;
      } else {
#line 2969
        rw_tpc = 13U;
#line 2970
        rw_cmd = 33U;
      }
    } else {
#line 2973
      if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2974
        rw_tpc = 5U;
#line 2975
        rw_cmd = 39U;
      } else {
#line 2977
        rw_tpc = 10U;
#line 2978
        rw_cmd = 40U;
      }
#line 2980
      mode_2k = 1;
    }
  } else
#line 2983
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2984
    rw_tpc = 2U;
#line 2985
    rw_cmd = 32U;
  } else {
#line 2987
    rw_tpc = 13U;
#line 2988
    rw_cmd = 33U;
  }
#line 2992
  retval = ms_switch_clock(chip);
#line 2993
  if (retval != 0) {
#line 2994
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_rw_multi_sector", 2994);
#line 2995
    return (1);
  } else {

  }
#line 2998
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 2999
    trans_mode = 8U;
  } else {
#line 3001
    trans_mode = 12U;
  }
#line 3003
  retval = rtsx_read_register(chip, 64834, & val);
#line 3004
  if (retval != 0) {
#line 3005
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_rw_multi_sector", 3005);
#line 3006
    return (retval);
  } else {

  }
#line 3009
  if ((unsigned int )ms_card->seq_mode != 0U) {
#line 3010
    if ((((((unsigned int )ms_card->pre_dir != (unsigned int )srb->sc_data_direction || ms_card->pre_sec_addr + (u32 )ms_card->pre_sec_cnt != start_sector) || ((int )mode_2k && (int )ms_card->seq_mode & 1)) || (! mode_2k && ((int )ms_card->seq_mode & 2) != 0)) || ((int )val & 4) == 0) || ms_card->total_sec_cnt + (u32 )sector_cnt > 65024U) {
#line 3016
      ms_card->seq_mode = 0U;
#line 3017
      ms_card->total_sec_cnt = 0U;
#line 3018
      if (((int )val & 4) != 0) {
#line 3019
        retval = ms_send_cmd(chip, 37, 128);
#line 3020
        if (retval != 0) {
#line 3021
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                      "mspro_rw_multi_sector", 3021);
#line 3022
          return (1);
        } else {

        }
#line 3025
        rtsx_write_register(chip, 65076, 128, 128);
      } else {

      }
    } else {

    }
  } else {

  }
#line 3030
  if ((unsigned int )ms_card->seq_mode == 0U) {
#line 3031
    ms_card->total_sec_cnt = 0U;
#line 3032
    if ((unsigned int )sector_cnt > 31U) {
#line 3033
      if (ms_card->capacity - start_sector > 65024U) {
#line 3034
        count = 65024U;
      } else {
#line 3036
        count = (int )((unsigned short )ms_card->capacity) - (int )((unsigned short )start_sector);
      }
#line 3038
      if ((int )count > (int )sector_cnt) {
#line 3039
        if ((int )mode_2k) {
#line 3040
          ms_card->seq_mode = 2U;
        } else {
#line 3042
          ms_card->seq_mode = 1U;
        }
      } else {

      }
    } else {
#line 3045
      count = sector_cnt;
    }
#line 3047
    retval = mspro_set_rw_cmd(chip, start_sector, (int )count, (int )rw_cmd);
#line 3048
    if (retval != 0) {
#line 3049
      ms_card->seq_mode = 0U;
#line 3050
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "mspro_rw_multi_sector", 3050);
#line 3051
      return (1);
    } else {

    }
  } else {

  }
#line 3055
  tmp = scsi_bufflen(srb);
#line 3055
  tmp___0 = scsi_sglist(srb);
#line 3055
  tmp___1 = scsi_sg_count(srb);
#line 3055
  retval = ms_transfer_data(chip, (int )trans_mode, (int )rw_tpc, (int )sector_cnt,
                            128, (int )mode_2k, (int )tmp___1, (void *)tmp___0, (int )tmp);
#line 3058
  if (retval != 0) {
#line 3059
    ms_card->seq_mode = 0U;
#line 3060
    rtsx_read_register(chip, 64834, & val);
#line 3061
    rtsx_clear_ms_error(chip);
#line 3063
    tmp___4 = detect_card_cd(chip, 8);
#line 3063
    if (tmp___4 != 0) {
#line 3064
      chip->rw_need_retry = 0;
#line 3065
      descriptor.modname = "rts5208";
#line 3065
      descriptor.function = "mspro_rw_multi_sector";
#line 3065
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3065
      descriptor.format = "No card exist, exit mspro_rw_multi_sector\n";
#line 3065
      descriptor.lineno = 3065U;
#line 3065
      descriptor.flags = 0U;
#line 3065
      tmp___3 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3065
      if (tmp___3 != 0L) {
#line 3065
        tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3065
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___2, "No card exist, exit mspro_rw_multi_sector\n");
      } else {

      }
#line 3066
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "mspro_rw_multi_sector", 3066);
#line 3067
      return (1);
    } else {

    }
#line 3070
    if (((int )val & 4) != 0) {
#line 3071
      ms_send_cmd(chip, 37, 128);
    } else {

    }
#line 3073
    if (((int )val & 48) != 0) {
#line 3074
      descriptor___0.modname = "rts5208";
#line 3074
      descriptor___0.function = "mspro_rw_multi_sector";
#line 3074
      descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3074
      descriptor___0.format = "MSPro CRC error, tune clock!\n";
#line 3074
      descriptor___0.lineno = 3074U;
#line 3074
      descriptor___0.flags = 0U;
#line 3074
      tmp___6 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 3074
      if (tmp___6 != 0L) {
#line 3074
        tmp___5 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3074
        __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___5, "MSPro CRC error, tune clock!\n");
      } else {

      }
#line 3075
      chip->rw_need_retry = 1;
#line 3076
      ms_auto_tune_clock(chip);
    } else {

    }
#line 3079
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_rw_multi_sector", 3079);
#line 3080
    return (retval);
  } else {

  }
#line 3083
  if ((unsigned int )ms_card->seq_mode != 0U) {
#line 3084
    ms_card->pre_sec_addr = start_sector;
#line 3085
    ms_card->pre_sec_cnt = sector_cnt;
#line 3086
    ms_card->pre_dir = srb->sc_data_direction;
#line 3087
    ms_card->total_sec_cnt = ms_card->total_sec_cnt + (u32 )sector_cnt;
  } else {

  }
#line 3090
  return (0);
}
}
#line 3093 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int mspro_read_format_progress(struct rtsx_chip *chip , int const   short_data_len ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u32 total_progress ;
  u32 cur_progress ;
  u8 cnt ;
  u8 tmp ;
  u8 data[8U] ;
  struct _ddebug descriptor ;
  struct device *tmp___0 ;
  long tmp___1 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___2 ;
  long tmp___3 ;
  u64 ulltmp ;
  uint32_t __base ;
  uint32_t __rem ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  struct task_struct *tmp___6 ;
  long volatile   __ret ;
  struct task_struct *tmp___7 ;
  struct task_struct *tmp___8 ;
  struct task_struct *tmp___9 ;
  struct task_struct *tmp___10 ;

  {
#line 3096
  ms_card = & chip->ms_card;
#line 3102
  descriptor.modname = "rts5208";
#line 3102
  descriptor.function = "mspro_read_format_progress";
#line 3102
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3102
  descriptor.format = "mspro_read_format_progress, short_data_len = %d\n";
#line 3102
  descriptor.lineno = 3103U;
#line 3102
  descriptor.flags = 0U;
#line 3102
  tmp___1 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3102
  if (tmp___1 != 0L) {
#line 3102
    tmp___0 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3102
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___0, "mspro_read_format_progress, short_data_len = %d\n",
                      short_data_len);
  } else {

  }
#line 3105
  retval = ms_switch_clock(chip);
#line 3106
  if (retval != 0) {
#line 3107
    ms_card->format_status = 1;
#line 3108
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3108);
#line 3109
    return (1);
  } else {

  }
#line 3112
  retval = rtsx_read_register(chip, 64834, & tmp);
#line 3113
  if (retval != 0) {
#line 3114
    ms_card->format_status = 1;
#line 3115
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3115);
#line 3116
    return (1);
  } else {

  }
#line 3119
  if (((int )tmp & 4) == 0) {
#line 3120
    if (((int )tmp & 15) == 1) {
#line 3121
      ms_card->format_status = 0;
#line 3122
      return (0);
    } else {

    }
#line 3124
    ms_card->format_status = 1;
#line 3125
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3125);
#line 3126
    return (1);
  } else {

  }
#line 3129
  if ((int )short_data_len > 255) {
#line 3130
    cnt = 0U;
  } else {
#line 3132
    cnt = (unsigned char )short_data_len;
  }
#line 3134
  retval = rtsx_write_register(chip, 64832, 2, 2);
#line 3136
  if (retval != 0) {
#line 3137
    ms_card->format_status = 1;
#line 3138
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3138);
#line 3139
    return (1);
  } else {

  }
#line 3142
  retval = ms_read_bytes(chip, 3, (int )cnt, 128, (u8 *)(& data), 8);
#line 3144
  if (retval != 0) {
#line 3145
    ms_card->format_status = 1;
#line 3146
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3146);
#line 3147
    return (1);
  } else {

  }
#line 3150
  total_progress = (u32 )(((((int )data[0] << 24) | ((int )data[1] << 16)) | ((int )data[2] << 8)) | (int )data[3]);
#line 3152
  cur_progress = (u32 )(((((int )data[4] << 24) | ((int )data[5] << 16)) | ((int )data[6] << 8)) | (int )data[7]);
#line 3155
  descriptor___0.modname = "rts5208";
#line 3155
  descriptor___0.function = "mspro_read_format_progress";
#line 3155
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3155
  descriptor___0.format = "total_progress = %d, cur_progress = %d\n";
#line 3155
  descriptor___0.lineno = 3156U;
#line 3155
  descriptor___0.flags = 0U;
#line 3155
  tmp___3 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 3155
  if (tmp___3 != 0L) {
#line 3155
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3155
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___2, "total_progress = %d, cur_progress = %d\n",
                      total_progress, cur_progress);
  } else {

  }
#line 3158
  if (total_progress == 0U) {
#line 3159
    ms_card->progress = 0U;
  } else {
#line 3161
    ulltmp = (unsigned long long )cur_progress * 65535ULL;
#line 3163
    __base = total_progress;
#line 3163
    __rem = (uint32_t )(ulltmp % (u64 )__base);
#line 3163
    ulltmp = ulltmp / (u64 )__base;
#line 3164
    ms_card->progress = (unsigned short )ulltmp;
  }
#line 3166
  descriptor___1.modname = "rts5208";
#line 3166
  descriptor___1.function = "mspro_read_format_progress";
#line 3166
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3166
  descriptor___1.format = "progress = %d\n";
#line 3166
  descriptor___1.lineno = 3166U;
#line 3166
  descriptor___1.flags = 0U;
#line 3166
  tmp___5 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 3166
  if (tmp___5 != 0L) {
#line 3166
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3166
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___4, "progress = %d\n",
                      (int )ms_card->progress);
  } else {

  }
#line 3168
  i = 0;
#line 3168
  goto ldv_38888;
  ldv_38887: 
#line 3169
  retval = rtsx_read_register(chip, 64834, & tmp);
#line 3170
  if (retval != 0) {
#line 3171
    ms_card->format_status = 1;
#line 3172
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3172);
#line 3173
    return (1);
  } else {

  }
#line 3175
  if (((int )tmp & 15) != 0) {
#line 3177
    goto ldv_38878;
  } else {

  }
#line 3179
  tmp___6 = get_current();
#line 3179
  tmp___6->task_state_change = 0UL;
#line 3179
  __ret = 1L;
#line 3179
  switch (8UL) {
  case 1UL: 
#line 3179
  tmp___7 = get_current();
#line 3179
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___7->state): : "memory",
                       "cc");
#line 3179
  goto ldv_38881;
  case 2UL: 
#line 3179
  tmp___8 = get_current();
#line 3179
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___8->state): : "memory",
                       "cc");
#line 3179
  goto ldv_38881;
  case 4UL: 
#line 3179
  tmp___9 = get_current();
#line 3179
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___9->state): : "memory",
                       "cc");
#line 3179
  goto ldv_38881;
  case 8UL: 
#line 3179
  tmp___10 = get_current();
#line 3179
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___10->state): : "memory",
                       "cc");
#line 3179
  goto ldv_38881;
  default: 
#line 3179
  __xchg_wrong_size();
  }
  ldv_38881: 
#line 3179
  schedule_timeout(0L);
#line 3168
  i = i + 1;
  ldv_38888: ;
#line 3168
  if (i <= 4999) {
#line 3170
    goto ldv_38887;
  } else {

  }
  ldv_38878: 
#line 3182
  retval = rtsx_write_register(chip, 64832, 2, 0);
#line 3183
  if (retval != 0) {
#line 3184
    ms_card->format_status = 1;
#line 3185
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3185);
#line 3186
    return (1);
  } else {

  }
#line 3189
  if (i == 5000) {
#line 3190
    ms_card->format_status = 1;
#line 3191
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3191);
#line 3192
    return (1);
  } else {

  }
#line 3195
  if (((int )tmp & 10) != 0) {
#line 3196
    ms_card->format_status = 1;
#line 3197
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3197);
#line 3198
    return (1);
  } else {

  }
#line 3201
  if ((int )tmp & 1) {
#line 3202
    ms_card->format_status = 0;
#line 3203
    ms_card->pro_under_formatting = 0;
  } else
#line 3204
  if (((int )tmp & 4) != 0) {
#line 3205
    ms_card->format_status = 2;
  } else {
#line 3207
    ms_card->format_status = 1;
#line 3208
    ms_card->pro_under_formatting = 0;
#line 3209
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_read_format_progress", 3209);
#line 3210
    return (1);
  }
#line 3213
  return (0);
}
}
#line 3216 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
void mspro_polling_format_status(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int i ;

  {
#line 3218
  ms_card = & chip->ms_card;
#line 3221
  if (ms_card->pro_under_formatting != 0 && (unsigned int )chip->rtsx_stat != 3U) {
#line 3223
    chip->idle_counter = 0;
#line 3223
    chip->rtsx_stat = 2;
#line 3225
    i = 0;
#line 3225
    goto ldv_38896;
    ldv_38895: 
#line 3226
    mspro_read_format_progress(chip, 32);
#line 3227
    if (ms_card->format_status != 2) {
#line 3228
      goto ldv_38894;
    } else {

    }
#line 3225
    i = i + 1;
    ldv_38896: ;
#line 3225
    if (i <= 65534) {
#line 3227
      goto ldv_38895;
    } else {

    }
    ldv_38894: ;
  } else {

  }
#line 3233
  return;
}
}
#line 3233 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mspro_format(struct scsi_cmnd *srb , struct rtsx_chip *chip , int short_data_len ,
                 bool quick_format ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 buf[8U] ;
  u8 tmp ;
  u16 para ;

  {
#line 3236
  ms_card = & chip->ms_card;
#line 3241
  retval = ms_switch_clock(chip);
#line 3242
  if (retval != 0) {
#line 3243
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3243);
#line 3244
    return (1);
  } else {

  }
#line 3247
  retval = ms_set_rw_reg_addr(chip, 0, 0, 23, 1);
#line 3248
  if (retval != 0) {
#line 3249
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3249);
#line 3250
    return (1);
  } else {

  }
#line 3253
  memset((void *)(& buf), 0, 2UL);
#line 3254
  switch (short_data_len) {
  case 32: 
#line 3256
  buf[0] = 0U;
#line 3257
  goto ldv_38911;
  case 64: 
#line 3259
  buf[0] = 1U;
#line 3260
  goto ldv_38911;
  case 128: 
#line 3262
  buf[0] = 2U;
#line 3263
  goto ldv_38911;
  case 256: ;
  default: 
#line 3266
  buf[0] = 3U;
#line 3267
  goto ldv_38911;
  }
  ldv_38911: 
#line 3270
  i = 0;
#line 3270
  goto ldv_38918;
  ldv_38917: 
#line 3271
  retval = ms_write_bytes(chip, 11, 1, 0, (u8 *)(& buf), 2);
#line 3273
  if (retval == 0) {
#line 3274
    goto ldv_38916;
  } else {

  }
#line 3270
  i = i + 1;
  ldv_38918: ;
#line 3270
  if (i <= 2) {
#line 3272
    goto ldv_38917;
  } else {

  }
  ldv_38916: ;
#line 3276
  if (i == 3) {
#line 3277
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3277);
#line 3278
    return (1);
  } else {

  }
#line 3281
  if ((int )quick_format) {
#line 3282
    para = 0U;
  } else {
#line 3284
    para = 1U;
  }
#line 3286
  retval = mspro_set_rw_cmd(chip, 0U, (int )para, 16);
#line 3287
  if (retval != 0) {
#line 3288
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3288);
#line 3289
    return (1);
  } else {

  }
#line 3292
  retval = rtsx_read_register(chip, 64834, & tmp);
#line 3293
  if (retval != 0) {
#line 3294
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3294);
#line 3295
    return (retval);
  } else {

  }
#line 3298
  if (((int )tmp & 10) != 0) {
#line 3299
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mspro_format", 3299);
#line 3300
    return (1);
  } else {

  }
#line 3303
  if (((int )tmp & 5) == 4) {
#line 3304
    ms_card->pro_under_formatting = 1;
#line 3305
    ms_card->progress = 0U;
#line 3306
    ms_card->format_status = 2;
#line 3307
    return (0);
  } else {

  }
#line 3310
  if ((int )tmp & 1) {
#line 3311
    ms_card->pro_under_formatting = 0;
#line 3312
    ms_card->progress = 0U;
#line 3313
    ms_card->format_status = 0;
#line 3314
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 0);
#line 3315
    return (0);
  } else {

  }
#line 3318
  _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
              "mspro_format", 3318);
#line 3319
  return (1);
}
}
#line 3323 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_read_multiple_pages(struct rtsx_chip *chip , u16 phy_blk , u16 log_blk ,
                                  u8 start_page , u8 end_page , u8 *buf , unsigned int *index ,
                                  unsigned int *offset ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 extra[9U] ;
  u8 page_addr ;
  u8 val ;
  u8 trans_cfg ;
  u8 data[6U] ;
  u8 *ptr ;
  int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 3328
  ms_card = & chip->ms_card;
#line 3333
  retval = ms_read_extra_data(chip, (int )phy_blk, (int )start_page, (u8 *)(& extra),
                              9);
#line 3335
  if (retval == 0) {
#line 3336
    if (((int )extra[1] & 48) != 48) {
#line 3337
      ms_set_err_code(chip, 4);
#line 3338
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3338);
#line 3339
      return (1);
    } else {

    }
  } else {

  }
#line 3343
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 6);
#line 3345
  if (retval != 0) {
#line 3346
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3346);
#line 3347
    return (1);
  } else {

  }
#line 3350
  if (((int )ms_card->ms_type & 256) != 0) {
#line 3351
    data[0] = 136U;
  } else {
#line 3353
    data[0] = 128U;
  }
#line 3355
  data[1] = 0U;
#line 3356
  data[2] = (unsigned char )((int )phy_blk >> 8);
#line 3357
  data[3] = (unsigned char )phy_blk;
#line 3358
  data[4] = 0U;
#line 3359
  data[5] = start_page;
#line 3361
  i = 0;
#line 3361
  goto ldv_38941;
  ldv_38940: 
#line 3362
  retval = ms_write_bytes(chip, 11, 6, 0, (u8 *)(& data), 6);
#line 3364
  if (retval == 0) {
#line 3365
    goto ldv_38939;
  } else {

  }
#line 3361
  i = i + 1;
  ldv_38941: ;
#line 3361
  if (i <= 2) {
#line 3363
    goto ldv_38940;
  } else {

  }
  ldv_38939: ;
#line 3367
  if (i == 3) {
#line 3368
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3368);
#line 3369
    return (1);
  } else {

  }
#line 3372
  ms_set_err_code(chip, 0);
#line 3374
  retval = ms_send_cmd(chip, 170, 128);
#line 3375
  if (retval != 0) {
#line 3376
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3376);
#line 3377
    return (1);
  } else {

  }
#line 3380
  ptr = buf;
#line 3382
  page_addr = start_page;
#line 3382
  goto ldv_38943;
  ldv_38942: 
#line 3383
  ms_set_err_code(chip, 0);
#line 3385
  tmp = detect_card_cd(chip, 8);
#line 3385
  if (tmp != 0) {
#line 3386
    ms_set_err_code(chip, 32);
#line 3387
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3387);
#line 3388
    return (1);
  } else {

  }
#line 3391
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 3392
  if (retval != 0) {
#line 3393
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3393);
#line 3394
    return (1);
  } else {

  }
#line 3397
  if ((int )val & 1) {
#line 3398
    ms_set_err_code(chip, 8);
#line 3399
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3399);
#line 3400
    return (1);
  } else {

  }
#line 3402
  if (((int )val & 64) != 0) {
#line 3403
    if (((int )val & 32) != 0) {
#line 3404
      retval = ms_read_status_reg(chip);
#line 3405
      if (retval != 0) {
#line 3406
        if (((int )chip->card_wp & 8) == 0) {
#line 3407
          reset_ms(chip);
#line 3408
          ms_set_page_status((int )log_blk, 1, (u8 *)(& extra), 9);
#line 3409
          ms_write_extra_data(chip, (int )phy_blk, (int )page_addr, (u8 *)(& extra),
                              9);
        } else {

        }
#line 3412
        ms_set_err_code(chip, 4);
#line 3413
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_multiple_pages", 3413);
#line 3414
        return (1);
      } else {

      }
    } else {
#line 3417
      ms_set_err_code(chip, 4);
#line 3418
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3418);
#line 3419
      return (1);
    }
  } else
#line 3422
  if (((int )val & 32) == 0) {
#line 3423
    ms_set_err_code(chip, 1);
#line 3424
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_read_multiple_pages", 3424);
#line 3425
    return (1);
  } else {

  }
#line 3429
  if ((int )page_addr == (int )end_page + -1) {
#line 3430
    if ((int )((signed char )val) >= 0) {
#line 3431
      retval = ms_send_cmd(chip, 51, 128);
#line 3432
      if (retval != 0) {
#line 3433
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_read_multiple_pages", 3433);
#line 3434
        return (1);
      } else {

      }
    } else {

    }
#line 3438
    retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 3440
    if (retval != 0) {
#line 3441
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3441);
#line 3442
      return (1);
    } else {

    }
#line 3445
    if ((int )((signed char )val) >= 0) {
#line 3446
      ms_set_err_code(chip, 4);
#line 3447
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3447);
#line 3448
      return (1);
    } else {

    }
#line 3451
    trans_cfg = 0U;
  } else {
#line 3453
    trans_cfg = 128U;
  }
#line 3456
  chip->ci = 0;
#line 3458
  rtsx_add_cmd(chip, 1, 64833, 255, 2);
#line 3459
  rtsx_add_cmd(chip, 1, 64834, 255, (int )trans_cfg);
#line 3461
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 3464
  trans_dma_enable(2, chip, 512U, 32);
#line 3466
  rtsx_add_cmd(chip, 1, 64835, 255, 129);
#line 3468
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 3471
  rtsx_send_cmd_no_wait(chip);
#line 3473
  tmp___0 = scsi_sg_count(chip->srb);
#line 3473
  retval = rtsx_transfer_data_partial(chip, 8, (void *)ptr, 512UL, (int )tmp___0,
                                      index, offset, 2, chip->ms_timeout);
#line 3477
  if (retval < 0) {
#line 3478
    if (retval == -110) {
#line 3479
      ms_set_err_code(chip, 64);
#line 3480
      rtsx_clear_ms_error(chip);
#line 3481
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3481);
#line 3482
      return (2);
    } else {

    }
#line 3485
    retval = rtsx_read_register(chip, 64834, & val);
#line 3486
    if (retval != 0) {
#line 3487
      ms_set_err_code(chip, 64);
#line 3488
      rtsx_clear_ms_error(chip);
#line 3489
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3489);
#line 3490
      return (2);
    } else {

    }
#line 3492
    if (((int )val & 48) != 0) {
#line 3493
      ms_set_err_code(chip, 128);
#line 3494
      rtsx_clear_ms_error(chip);
#line 3495
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_read_multiple_pages", 3495);
#line 3496
      return (1);
    } else {

    }
  } else {

  }
#line 3500
  tmp___1 = scsi_sg_count(chip->srb);
#line 3500
  if (tmp___1 == 0U) {
#line 3501
    ptr = ptr + 512UL;
  } else {

  }
#line 3382
  page_addr = (u8 )((int )page_addr + 1);
  ldv_38943: ;
#line 3382
  if ((int )page_addr < (int )end_page) {
#line 3384
    goto ldv_38942;
  } else {

  }

#line 3504
  return (0);
}
}
#line 3507 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_write_multiple_pages(struct rtsx_chip *chip , u16 old_blk , u16 new_blk ,
                                   u16 log_blk , u8 start_page , u8 end_page , u8 *buf ,
                                   unsigned int *index , unsigned int *offset ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  u8 page_addr ;
  u8 val ;
  u8 data[16U] ;
  u8 *ptr ;
  int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 3512
  ms_card = & chip->ms_card;
#line 3517
  if ((unsigned int )start_page == 0U) {
#line 3518
    retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 7);
#line 3520
    if (retval != 0) {
#line 3521
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3521);
#line 3522
      return (1);
    } else {

    }
#line 3525
    if (((int )ms_card->ms_type & 256) != 0) {
#line 3526
      data[0] = 136U;
    } else {
#line 3528
      data[0] = 128U;
    }
#line 3530
    data[1] = 0U;
#line 3531
    data[2] = (unsigned char )((int )old_blk >> 8);
#line 3532
    data[3] = (unsigned char )old_blk;
#line 3533
    data[4] = 128U;
#line 3534
    data[5] = 0U;
#line 3535
    data[6] = 239U;
#line 3536
    data[7] = 255U;
#line 3538
    retval = ms_write_bytes(chip, 11, 7, 0, (u8 *)(& data), 8);
#line 3540
    if (retval != 0) {
#line 3541
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3541);
#line 3542
      return (1);
    } else {

    }
#line 3545
    retval = ms_send_cmd(chip, 85, 128);
#line 3546
    if (retval != 0) {
#line 3547
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3547);
#line 3548
      return (1);
    } else {

    }
#line 3551
    ms_set_err_code(chip, 0);
#line 3552
    retval = ms_transfer_tpc(chip, 0, 7, 1, 0);
#line 3554
    if (retval != 0) {
#line 3555
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3555);
#line 3556
      return (1);
    } else {

    }
  } else {

  }
#line 3560
  retval = ms_set_rw_reg_addr(chip, 22, 9, 16, 15);
#line 3562
  if (retval != 0) {
#line 3563
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3563);
#line 3564
    return (1);
  } else {

  }
#line 3567
  ms_set_err_code(chip, 0);
#line 3569
  if (((int )ms_card->ms_type & 256) != 0) {
#line 3570
    data[0] = 136U;
  } else {
#line 3572
    data[0] = 128U;
  }
#line 3574
  data[1] = 0U;
#line 3575
  data[2] = (unsigned char )((int )new_blk >> 8);
#line 3576
  data[3] = (unsigned char )new_blk;
#line 3577
  if ((int )end_page - (int )start_page == 1) {
#line 3578
    data[4] = 32U;
  } else {
#line 3580
    data[4] = 0U;
  }
#line 3582
  data[5] = start_page;
#line 3583
  data[6] = 248U;
#line 3584
  data[7] = 255U;
#line 3585
  data[8] = (unsigned char )((int )log_blk >> 8);
#line 3586
  data[9] = (unsigned char )log_blk;
#line 3588
  i = 10;
#line 3588
  goto ldv_38965;
  ldv_38964: 
#line 3589
  data[i] = 255U;
#line 3588
  i = i + 1;
  ldv_38965: ;
#line 3588
  if (i <= 15) {
#line 3590
    goto ldv_38964;
  } else {

  }
#line 3591
  i = 0;
#line 3591
  goto ldv_38969;
  ldv_38968: 
#line 3592
  retval = ms_write_bytes(chip, 11, 15, 0, (u8 *)(& data), 16);
#line 3594
  if (retval == 0) {
#line 3595
    goto ldv_38967;
  } else {

  }
#line 3591
  i = i + 1;
  ldv_38969: ;
#line 3591
  if (i <= 2) {
#line 3593
    goto ldv_38968;
  } else {

  }
  ldv_38967: ;
#line 3597
  if (i == 3) {
#line 3598
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3598);
#line 3599
    return (1);
  } else {

  }
#line 3602
  i = 0;
#line 3602
  goto ldv_38972;
  ldv_38971: 
#line 3603
  retval = ms_send_cmd(chip, 85, 128);
#line 3604
  if (retval == 0) {
#line 3605
    goto ldv_38970;
  } else {

  }
#line 3602
  i = i + 1;
  ldv_38972: ;
#line 3602
  if (i <= 2) {
#line 3604
    goto ldv_38971;
  } else {

  }
  ldv_38970: ;
#line 3607
  if (i == 3) {
#line 3608
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3608);
#line 3609
    return (1);
  } else {

  }
#line 3612
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 3613
  if (retval != 0) {
#line 3614
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3614);
#line 3615
    return (1);
  } else {

  }
#line 3618
  ptr = buf;
#line 3619
  page_addr = start_page;
#line 3619
  goto ldv_38974;
  ldv_38973: 
#line 3620
  ms_set_err_code(chip, 0);
#line 3622
  tmp = detect_card_cd(chip, 8);
#line 3622
  if (tmp != 0) {
#line 3623
    ms_set_err_code(chip, 32);
#line 3624
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3624);
#line 3625
    return (1);
  } else {

  }
#line 3628
  if ((int )val & 1) {
#line 3629
    ms_set_err_code(chip, 8);
#line 3630
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3630);
#line 3631
    return (1);
  } else {

  }
#line 3633
  if (((int )val & 64) != 0) {
#line 3634
    ms_set_err_code(chip, 2);
#line 3635
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3635);
#line 3636
    return (1);
  } else {

  }
#line 3638
  if (((int )val & 32) == 0) {
#line 3639
    ms_set_err_code(chip, 1);
#line 3640
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3640);
#line 3641
    return (1);
  } else {

  }
#line 3644
  __const_udelay(128850UL);
#line 3646
  chip->ci = 0;
#line 3648
  rtsx_add_cmd(chip, 1, 64833, 255, 13);
#line 3650
  rtsx_add_cmd(chip, 1, 64834, 255, 128);
#line 3652
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 3655
  trans_dma_enable(1, chip, 512U, 32);
#line 3657
  rtsx_add_cmd(chip, 1, 64835, 255, 133);
#line 3659
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 3662
  rtsx_send_cmd_no_wait(chip);
#line 3664
  tmp___0 = scsi_sg_count(chip->srb);
#line 3664
  retval = rtsx_transfer_data_partial(chip, 8, (void *)ptr, 512UL, (int )tmp___0,
                                      index, offset, 1, chip->ms_timeout);
#line 3668
  if (retval < 0) {
#line 3669
    ms_set_err_code(chip, 64);
#line 3670
    rtsx_clear_ms_error(chip);
#line 3672
    if (retval == -110) {
#line 3673
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3673);
#line 3674
      return (2);
    } else {

    }
#line 3676
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3676);
#line 3677
    return (1);
  } else {

  }
#line 3680
  retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 3681
  if (retval != 0) {
#line 3682
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_write_multiple_pages", 3682);
#line 3683
    return (1);
  } else {

  }
#line 3686
  if ((int )end_page - (int )start_page == 1) {
#line 3687
    if ((int )((signed char )val) >= 0) {
#line 3688
      ms_set_err_code(chip, 2);
#line 3689
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_write_multiple_pages", 3689);
#line 3690
      return (1);
    } else {

    }
  } else {
#line 3693
    if ((int )page_addr == (int )end_page + -1) {
#line 3694
      if ((int )((signed char )val) >= 0) {
#line 3695
        retval = ms_send_cmd(chip, 51, 128);
#line 3697
        if (retval != 0) {
#line 3698
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                      "ms_write_multiple_pages", 3698);
#line 3699
          return (1);
        } else {

        }
      } else {

      }
#line 3703
      retval = ms_read_bytes(chip, 7, 1, 0, & val, 1);
#line 3705
      if (retval != 0) {
#line 3706
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_write_multiple_pages", 3706);
#line 3707
        return (1);
      } else {

      }
    } else {

    }
#line 3711
    if ((int )page_addr == (int )end_page + -1 || (int )ms_card->page_off == (int )page_addr) {
#line 3713
      if ((int )((signed char )val) >= 0) {
#line 3714
        ms_set_err_code(chip, 2);
#line 3716
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_write_multiple_pages", 3716);
#line 3717
        return (1);
      } else {

      }
    } else {

    }
  }
#line 3722
  tmp___1 = scsi_sg_count(chip->srb);
#line 3722
  if (tmp___1 == 0U) {
#line 3723
    ptr = ptr + 512UL;
  } else {

  }
#line 3619
  page_addr = (u8 )((int )page_addr + 1);
  ldv_38974: ;
#line 3619
  if ((int )page_addr < (int )end_page) {
#line 3621
    goto ldv_38973;
  } else {

  }

#line 3726
  return (0);
}
}
#line 3730 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_finish_write(struct rtsx_chip *chip , u16 old_blk , u16 new_blk , u16 log_blk ,
                           u8 page_off ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int seg_no ;

  {
#line 3733
  ms_card = & chip->ms_card;
#line 3736
  retval = ms_copy_page(chip, (int )old_blk, (int )new_blk, (int )log_blk, (int )page_off,
                        (int )((unsigned int )ms_card->page_off + 1U));
#line 3738
  if (retval != 0) {
#line 3739
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_finish_write", 3739);
#line 3740
    return (1);
  } else {

  }
#line 3743
  seg_no = (int )old_blk >> 9;
#line 3745
  if ((int )((signed char )ms_card->multi_flag) < 0) {
#line 3746
    ms_card->multi_flag = (unsigned int )ms_card->multi_flag & 127U;
#line 3747
    ms_set_bad_block(chip, (int )old_blk);
  } else {
#line 3749
    retval = ms_erase_block(chip, (int )old_blk);
#line 3750
    if (retval == 0) {
#line 3751
      ms_set_unused_block(chip, (int )old_blk);
    } else {

    }
  }
#line 3754
  ms_set_l2p_tbl(chip, seg_no, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]),
                 (int )new_blk);
#line 3756
  return (0);
}
}
#line 3759 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_prepare_write(struct rtsx_chip *chip , u16 old_blk , u16 new_blk , u16 log_blk ,
                            u8 start_page ) 
{ 
  int retval ;

  {
#line 3764
  if ((unsigned int )start_page != 0U) {
#line 3765
    retval = ms_copy_page(chip, (int )old_blk, (int )new_blk, (int )log_blk, 0, (int )start_page);
#line 3767
    if (retval != 0) {
#line 3768
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_prepare_write", 3768);
#line 3769
      return (1);
    } else {

    }
  } else {

  }
#line 3773
  return (0);
}
}
#line 3777 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int ms_delay_write(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  struct ms_delay_write_tag *delay_write ;
  int retval ;

  {
#line 3779
  ms_card = & chip->ms_card;
#line 3780
  delay_write = & ms_card->delay_write;
#line 3783
  if ((unsigned int )delay_write->delay_write_flag != 0U) {
#line 3784
    retval = ms_set_init_para(chip);
#line 3785
    if (retval != 0) {
#line 3786
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_delay_write", 3786);
#line 3787
      return (1);
    } else {

    }
#line 3790
    delay_write->delay_write_flag = 0U;
#line 3791
    retval = ms_finish_write(chip, (int )delay_write->old_phyblock, (int )delay_write->new_phyblock,
                             (int )delay_write->logblock, (int )delay_write->pageoff);
#line 3796
    if (retval != 0) {
#line 3797
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_delay_write", 3797);
#line 3798
      return (1);
    } else {

    }
  } else {

  }
#line 3802
  return (0);
}
}
#line 3806 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
__inline static void ms_rw_fail(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 


  {
#line 3808
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 3809
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 7);
  } else {
#line 3812
    set_sense_type(chip, (unsigned int )(srb->device)->lun, 8);
  }
#line 3813
  return;
}
}
#line 3815 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_rw_multi_sector(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector ,
                              u16 sector_cnt ) 
{ 
  struct ms_info *ms_card ;
  unsigned int lun ;
  int retval ;
  int seg_no ;
  unsigned int index ;
  unsigned int offset ;
  u16 old_blk ;
  u16 new_blk ;
  u16 log_blk ;
  u16 total_sec_cnt ;
  u8 start_page ;
  u8 end_page ;
  u8 page_cnt ;
  u8 *ptr ;
  struct ms_delay_write_tag *delay_write ;
  struct scatterlist *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  struct _ddebug descriptor ;
  struct device *tmp___2 ;
  long tmp___3 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___4 ;
  long tmp___5 ;
  int tmp___6 ;
  unsigned int tmp___7 ;
  struct _ddebug descriptor___1 ;
  struct device *tmp___8 ;
  long tmp___9 ;

  {
#line 3818
  ms_card = & chip->ms_card;
#line 3819
  lun = (unsigned int )(srb->device)->lun;
#line 3821
  index = 0U;
#line 3821
  offset = 0U;
#line 3822
  old_blk = 0U;
#line 3822
  new_blk = 0U;
#line 3822
  total_sec_cnt = sector_cnt;
#line 3823
  end_page = 0U;
#line 3826
  delay_write = & ms_card->delay_write;
#line 3829
  ms_set_err_code(chip, 0);
#line 3831
  ms_card->cleanup_counter = 0;
#line 3833
  tmp = scsi_sglist(srb);
#line 3833
  ptr = (u8 *)tmp;
#line 3835
  retval = ms_switch_clock(chip);
#line 3836
  if (retval != 0) {
#line 3837
    ms_rw_fail(srb, chip);
#line 3838
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_rw_multi_sector", 3838);
#line 3839
    return (1);
  } else {

  }
#line 3842
  log_blk = (unsigned short )(start_sector >> (int )ms_card->block_shift);
#line 3843
  start_page = (int )((unsigned char )start_sector) & (int )ms_card->page_off;
#line 3845
  seg_no = 0;
#line 3845
  goto ldv_39033;
  ldv_39032: ;
#line 3846
  if ((int )((unsigned short )ms_start_idx[seg_no + 1]) > (int )log_blk) {
#line 3847
    goto ldv_39031;
  } else {

  }
#line 3845
  seg_no = seg_no + 1;
  ldv_39033: ;
#line 3845
  if ((unsigned int )seg_no <= 15U) {
#line 3847
    goto ldv_39032;
  } else {

  }
  ldv_39031: ;
#line 3850
  if ((ms_card->segment + (unsigned long )seg_no)->build_flag == 0) {
#line 3851
    retval = ms_build_l2p_tbl(chip, seg_no);
#line 3852
    if (retval != 0) {
#line 3853
      chip->card_fail = (u8 )((unsigned int )chip->card_fail | 8U);
#line 3854
      set_sense_type(chip, lun, 2);
#line 3855
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 3855);
#line 3856
      return (1);
    } else {

    }
  } else {

  }
#line 3860
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 3862
    if (((unsigned int )delay_write->delay_write_flag != 0U && (int )delay_write->logblock == (int )log_blk) && (int )delay_write->pageoff < (int )start_page) {
#line 3865
      delay_write->delay_write_flag = 0U;
#line 3866
      retval = ms_copy_page(chip, (int )delay_write->old_phyblock, (int )delay_write->new_phyblock,
                            (int )log_blk, (int )delay_write->pageoff, (int )start_page);
#line 3870
      if (retval != 0) {
#line 3871
        set_sense_type(chip, lun, 8);
#line 3873
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_rw_multi_sector", 3873);
#line 3874
        return (1);
      } else {

      }
#line 3876
      old_blk = delay_write->old_phyblock;
#line 3877
      new_blk = delay_write->new_phyblock;
    } else
#line 3878
    if (((unsigned int )delay_write->delay_write_flag != 0U && (int )delay_write->logblock == (int )log_blk) && (int )delay_write->pageoff == (int )start_page) {
#line 3881
      delay_write->delay_write_flag = 0U;
#line 3882
      old_blk = delay_write->old_phyblock;
#line 3883
      new_blk = delay_write->new_phyblock;
    } else {
#line 3885
      retval = ms_delay_write(chip);
#line 3886
      if (retval != 0) {
#line 3887
        set_sense_type(chip, lun, 8);
#line 3889
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_rw_multi_sector", 3889);
#line 3890
        return (1);
      } else {

      }
#line 3893
      old_blk = ms_get_l2p_tbl(chip, seg_no, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]));
#line 3895
      new_blk = ms_get_unused_block(chip, seg_no);
#line 3896
      if ((unsigned int )old_blk == 65535U || (unsigned int )new_blk == 65535U) {
#line 3897
        set_sense_type(chip, lun, 8);
#line 3899
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_rw_multi_sector", 3899);
#line 3900
        return (1);
      } else {

      }
#line 3903
      retval = ms_prepare_write(chip, (int )old_blk, (int )new_blk, (int )log_blk,
                                (int )start_page);
#line 3905
      if (retval != 0) {
#line 3906
        tmp___0 = detect_card_cd(chip, 8);
#line 3906
        if (tmp___0 != 0) {
#line 3907
          set_sense_type(chip, lun, 2);
#line 3909
          _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                      "ms_rw_multi_sector", 3909);
#line 3910
          return (1);
        } else {

        }
#line 3912
        set_sense_type(chip, lun, 8);
#line 3914
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_rw_multi_sector", 3914);
#line 3915
        return (1);
      } else {

      }
    }
  } else {
#line 3922
    retval = ms_delay_write(chip);
#line 3923
    if (retval != 0) {
#line 3924
      tmp___1 = detect_card_cd(chip, 8);
#line 3924
      if (tmp___1 != 0) {
#line 3925
        set_sense_type(chip, lun, 2);
#line 3927
        _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                    "ms_rw_multi_sector", 3927);
#line 3928
        return (1);
      } else {

      }
#line 3930
      set_sense_type(chip, lun, 7);
#line 3932
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 3932);
#line 3933
      return (1);
    } else {

    }
#line 3936
    old_blk = ms_get_l2p_tbl(chip, seg_no, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]));
#line 3938
    if ((unsigned int )old_blk == 65535U) {
#line 3939
      set_sense_type(chip, lun, 7);
#line 3941
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 3941);
#line 3942
      return (1);
    } else {

    }
  }
#line 3946
  descriptor.modname = "rts5208";
#line 3946
  descriptor.function = "ms_rw_multi_sector";
#line 3946
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3946
  descriptor.format = "seg_no = %d, old_blk = 0x%x, new_blk = 0x%x\n";
#line 3946
  descriptor.lineno = 3947U;
#line 3946
  descriptor.flags = 0U;
#line 3946
  tmp___3 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 3946
  if (tmp___3 != 0L) {
#line 3946
    tmp___2 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3946
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp___2, "seg_no = %d, old_blk = 0x%x, new_blk = 0x%x\n",
                      seg_no, (int )old_blk, (int )new_blk);
  } else {

  }
#line 3949
  goto ldv_39044;
  ldv_39043: ;
#line 3950
  if ((int )start_page + (int )total_sec_cnt > (int )ms_card->page_off + 1) {
#line 3951
    end_page = (unsigned int )ms_card->page_off + 1U;
  } else {
#line 3953
    end_page = (int )((u8 )total_sec_cnt) + (int )start_page;
  }
#line 3955
  page_cnt = (int )end_page - (int )start_page;
#line 3957
  descriptor___0.modname = "rts5208";
#line 3957
  descriptor___0.function = "ms_rw_multi_sector";
#line 3957
  descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 3957
  descriptor___0.format = "start_page = %d, end_page = %d, page_cnt = %d\n";
#line 3957
  descriptor___0.lineno = 3958U;
#line 3957
  descriptor___0.flags = 0U;
#line 3957
  tmp___5 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 3957
  if (tmp___5 != 0L) {
#line 3957
    tmp___4 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 3957
    __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___4, "start_page = %d, end_page = %d, page_cnt = %d\n",
                      (int )start_page, (int )end_page, (int )page_cnt);
  } else {

  }
#line 3960
  if ((unsigned int )srb->sc_data_direction == 2U) {
#line 3961
    retval = ms_read_multiple_pages(chip, (int )old_blk, (int )log_blk, (int )start_page,
                                    (int )end_page, ptr, & index, & offset);
  } else {
#line 3965
    retval = ms_write_multiple_pages(chip, (int )old_blk, (int )new_blk, (int )log_blk,
                                     (int )start_page, (int )end_page, ptr, & index,
                                     & offset);
  }
#line 3970
  if (retval != 0) {
#line 3971
    toggle_gpio(chip, 1);
#line 3972
    tmp___6 = detect_card_cd(chip, 8);
#line 3972
    if (tmp___6 != 0) {
#line 3973
      set_sense_type(chip, lun, 2);
#line 3975
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 3975);
#line 3976
      return (1);
    } else {

    }
#line 3978
    ms_rw_fail(srb, chip);
#line 3979
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_rw_multi_sector", 3979);
#line 3980
    return (1);
  } else {

  }
#line 3983
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 3984
    if ((int )end_page == (int )ms_card->page_off + 1) {
#line 3985
      retval = ms_erase_block(chip, (int )old_blk);
#line 3986
      if (retval == 0) {
#line 3987
        ms_set_unused_block(chip, (int )old_blk);
      } else {

      }
#line 3989
      ms_set_l2p_tbl(chip, seg_no, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]),
                     (int )new_blk);
    } else {

    }
  } else {

  }
#line 3995
  total_sec_cnt = (int )total_sec_cnt - (int )((u16 )page_cnt);
#line 3996
  tmp___7 = scsi_sg_count(srb);
#line 3996
  if (tmp___7 == 0U) {
#line 3997
    ptr = ptr + (unsigned long )((int )page_cnt * 512);
  } else {

  }
#line 3999
  if ((unsigned int )total_sec_cnt == 0U) {
#line 4000
    goto ldv_39036;
  } else {

  }
#line 4002
  log_blk = (u16 )((int )log_blk + 1);
#line 4004
  seg_no = 0;
#line 4004
  goto ldv_39041;
  ldv_39040: ;
#line 4006
  if ((int )((unsigned short )ms_start_idx[seg_no + 1]) > (int )log_blk) {
#line 4007
    goto ldv_39039;
  } else {

  }
#line 4005
  seg_no = seg_no + 1;
  ldv_39041: ;
#line 4004
  if ((unsigned int )seg_no <= 15U) {
#line 4006
    goto ldv_39040;
  } else {

  }
  ldv_39039: ;
#line 4010
  if ((ms_card->segment + (unsigned long )seg_no)->build_flag == 0) {
#line 4011
    retval = ms_build_l2p_tbl(chip, seg_no);
#line 4012
    if (retval != 0) {
#line 4013
      chip->card_fail = (u8 )((unsigned int )chip->card_fail | 8U);
#line 4014
      set_sense_type(chip, lun, 2);
#line 4016
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 4016);
#line 4017
      return (1);
    } else {

    }
  } else {

  }
#line 4021
  old_blk = ms_get_l2p_tbl(chip, seg_no, (int )log_blk - (int )((u16 )ms_start_idx[seg_no]));
#line 4023
  if ((unsigned int )old_blk == 65535U) {
#line 4024
    ms_rw_fail(srb, chip);
#line 4025
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_rw_multi_sector", 4025);
#line 4026
    return (1);
  } else {

  }
#line 4029
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 4030
    new_blk = ms_get_unused_block(chip, seg_no);
#line 4031
    if ((unsigned int )new_blk == 65535U) {
#line 4032
      ms_rw_fail(srb, chip);
#line 4033
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_rw_multi_sector", 4033);
#line 4034
      return (1);
    } else {

    }
  } else {

  }
#line 4038
  descriptor___1.modname = "rts5208";
#line 4038
  descriptor___1.function = "ms_rw_multi_sector";
#line 4038
  descriptor___1.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 4038
  descriptor___1.format = "seg_no = %d, old_blk = 0x%x, new_blk = 0x%x\n";
#line 4038
  descriptor___1.lineno = 4039U;
#line 4038
  descriptor___1.flags = 0U;
#line 4038
  tmp___9 = ldv__builtin_expect((long )descriptor___1.flags & 1L, 0L);
#line 4038
  if (tmp___9 != 0L) {
#line 4038
    tmp___8 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4038
    __dynamic_dev_dbg(& descriptor___1, (struct device  const  *)tmp___8, "seg_no = %d, old_blk = 0x%x, new_blk = 0x%x\n",
                      seg_no, (int )old_blk, (int )new_blk);
  } else {

  }
#line 4041
  start_page = 0U;
  ldv_39044: ;
#line 3949
  if ((unsigned int )total_sec_cnt != 0U) {
#line 3951
    goto ldv_39043;
  } else {

  }
  ldv_39036: ;
#line 4044
  if ((unsigned int )srb->sc_data_direction == 1U) {
#line 4045
    if ((int )end_page < (int )ms_card->page_off + 1) {
#line 4047
      delay_write->delay_write_flag = 1U;
#line 4048
      delay_write->old_phyblock = old_blk;
#line 4049
      delay_write->new_phyblock = new_blk;
#line 4050
      delay_write->logblock = log_blk;
#line 4051
      delay_write->pageoff = end_page;
    } else {

    }
  } else {

  }
#line 4071
  scsi_set_resid(srb, 0);
#line 4073
  return (0);
}
}
#line 4076 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int ms_rw(struct scsi_cmnd *srb , struct rtsx_chip *chip , u32 start_sector , u16 sector_cnt ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 4079
  ms_card = & chip->ms_card;
#line 4082
  if (((int )ms_card->ms_type & 255) == 1) {
#line 4083
    retval = mspro_rw_multi_sector(srb, chip, start_sector, (int )sector_cnt);
  } else {
#line 4086
    retval = ms_rw_multi_sector(srb, chip, start_sector, (int )sector_cnt);
  }
#line 4089
  return (retval);
}
}
#line 4093 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
void ms_free_l2p_tbl(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int i ;

  {
#line 4095
  ms_card = & chip->ms_card;
#line 4096
  i = 0;
#line 4098
  if ((unsigned long )ms_card->segment != (unsigned long )((struct zone_entry *)0)) {
#line 4099
    i = 0;
#line 4099
    goto ldv_39059;
    ldv_39058: ;
#line 4100
    if ((unsigned long )(ms_card->segment + (unsigned long )i)->l2p_table != (unsigned long )((u16 *)0U)) {
#line 4101
      vfree((void const   *)(ms_card->segment + (unsigned long )i)->l2p_table);
#line 4102
      (ms_card->segment + (unsigned long )i)->l2p_table = (u16 *)0U;
    } else {

    }
#line 4104
    if ((unsigned long )(ms_card->segment + (unsigned long )i)->free_table != (unsigned long )((u16 *)0U)) {
#line 4105
      vfree((void const   *)(ms_card->segment + (unsigned long )i)->free_table);
#line 4106
      (ms_card->segment + (unsigned long )i)->free_table = (u16 *)0U;
    } else {

    }
#line 4099
    i = i + 1;
    ldv_39059: ;
#line 4099
    if (ms_card->segment_cnt > i) {
#line 4101
      goto ldv_39058;
    } else {

    }
#line 4109
    vfree((void const   *)ms_card->segment);
#line 4110
    ms_card->segment = (struct zone_entry *)0;
  } else {

  }
#line 4112
  return;
}
}
#line 4117 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int ms_poll_int(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 val ;
  u8 *tmp ;

  {
#line 4122
  chip->ci = 0;
#line 4124
  rtsx_add_cmd(chip, 2, 64834, 1, 1);
#line 4126
  retval = rtsx_send_cmd(chip, 8, 5000);
#line 4127
  if (retval != 0) {
#line 4128
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_poll_int", 4128);
#line 4129
    return (1);
  } else {

  }
#line 4132
  tmp = rtsx_get_cmd_data(chip);
#line 4132
  val = *tmp;
#line 4133
  if (((int )val & 2) != 0) {
#line 4134
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_poll_int", 4134);
#line 4135
    return (1);
  } else {

  }
#line 4138
  return (0);
}
}
#line 4143 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int check_ms_err(struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 val ;

  {
#line 4148
  retval = rtsx_read_register(chip, 64835, & val);
#line 4149
  if (retval != 0) {
#line 4150
    return (1);
  } else {

  }
#line 4151
  if (((int )val & 32) != 0) {
#line 4152
    return (1);
  } else {

  }
#line 4154
  retval = rtsx_read_register(chip, 64834, & val);
#line 4155
  if (retval != 0) {
#line 4156
    return (1);
  } else {

  }
#line 4158
  if (((int )val & 10) != 0) {
#line 4159
    return (1);
  } else {

  }
#line 4161
  return (0);
}
}
#line 4179 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int mg_send_ex_cmd(struct rtsx_chip *chip , u8 cmd , u8 entry_num ) 
{ 
  int retval ;
  int i ;
  u8 data[8U] ;
  int tmp ;

  {
#line 4184
  data[0] = cmd;
#line 4185
  data[1] = 0U;
#line 4186
  data[2] = 0U;
#line 4187
  data[3] = 0U;
#line 4188
  data[4] = 0U;
#line 4189
  data[5] = 0U;
#line 4190
  data[6] = entry_num;
#line 4191
  data[7] = 0U;
#line 4193
  i = 0;
#line 4193
  goto ldv_39082;
  ldv_39081: 
#line 4194
  retval = ms_write_bytes(chip, 9, 7, 128, (u8 *)(& data), 8);
#line 4196
  if (retval == 0) {
#line 4197
    goto ldv_39080;
  } else {

  }
#line 4193
  i = i + 1;
  ldv_39082: ;
#line 4193
  if (i <= 2) {
#line 4195
    goto ldv_39081;
  } else {

  }
  ldv_39080: ;
#line 4199
  if (i == 3) {
#line 4200
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_send_ex_cmd", 4200);
#line 4201
    return (1);
  } else {

  }
#line 4204
  tmp = check_ms_err(chip);
#line 4204
  if (tmp != 0) {
#line 4205
    rtsx_clear_ms_error(chip);
#line 4206
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_send_ex_cmd", 4206);
#line 4207
    return (1);
  } else {

  }
#line 4210
  return (0);
}
}
#line 4213 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
static int mg_set_tpc_para_sub(struct rtsx_chip *chip , int type , u8 mg_entry_num ) 
{ 
  int retval ;
  u8 buf[6U] ;

  {
#line 4219
  if (type == 0) {
#line 4220
    retval = ms_set_rw_reg_addr(chip, 0, 0, 23, 1);
  } else {
#line 4222
    retval = ms_set_rw_reg_addr(chip, 0, 0, 17, 6);
  }
#line 4224
  if (retval != 0) {
#line 4225
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_tpc_para_sub", 4225);
#line 4226
    return (1);
  } else {

  }
#line 4229
  buf[0] = 0U;
#line 4230
  buf[1] = 0U;
#line 4231
  if (type == 1) {
#line 4232
    buf[2] = 0U;
#line 4233
    buf[3] = 0U;
#line 4234
    buf[4] = 0U;
#line 4235
    buf[5] = mg_entry_num;
  } else {

  }
#line 4237
  retval = ms_write_bytes(chip, 11, type == 0 ? 1 : 6, 0, (u8 *)(& buf), 6);
#line 4239
  if (retval != 0) {
#line 4240
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_tpc_para_sub", 4240);
#line 4241
    return (1);
  } else {

  }
#line 4244
  return (0);
}
}
#line 4247 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_set_leaf_id(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  int i ;
  unsigned int lun ;
  u8 buf1[32U] ;
  u8 buf2[12U] ;
  unsigned int tmp ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___0 ;
  int tmp___1 ;

  {
#line 4251
  lun = (unsigned int )(srb->device)->lun;
#line 4254
  tmp = scsi_bufflen(srb);
#line 4254
  if (tmp <= 11U) {
#line 4255
    set_sense_type(chip, lun, 6);
#line 4256
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_leaf_id", 4256);
#line 4257
    return (1);
  } else {

  }
#line 4260
  ms_cleanup_work(chip);
#line 4262
  retval = ms_switch_clock(chip);
#line 4263
  if (retval != 0) {
#line 4264
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_leaf_id", 4264);
#line 4265
    return (1);
  } else {

  }
#line 4268
  retval = mg_send_ex_cmd(chip, 65, 0);
#line 4269
  if (retval != 0) {
#line 4270
    set_sense_type(chip, lun, 11);
#line 4271
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_leaf_id", 4271);
#line 4272
    return (1);
  } else {

  }
#line 4275
  memset((void *)(& buf1), 0, 32UL);
#line 4276
  __min1 = 12;
#line 4276
  tmp___0 = scsi_bufflen(srb);
#line 4276
  __min2 = (int )tmp___0;
#line 4276
  rtsx_stor_get_xfer_buf((unsigned char *)(& buf2), (unsigned int )(__min1 < __min2 ? __min1 : __min2),
                         srb);
#line 4277
  i = 0;
#line 4277
  goto ldv_39106;
  ldv_39105: 
#line 4278
  buf1[i + 8] = buf2[i + 4];
#line 4277
  i = i + 1;
  ldv_39106: ;
#line 4277
  if (i <= 7) {
#line 4279
    goto ldv_39105;
  } else {

  }
#line 4280
  retval = ms_write_bytes(chip, 12, 32, 128, (u8 *)(& buf1), 32);
#line 4282
  if (retval != 0) {
#line 4283
    set_sense_type(chip, lun, 11);
#line 4284
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_leaf_id", 4284);
#line 4285
    return (1);
  } else {

  }
#line 4287
  tmp___1 = check_ms_err(chip);
#line 4287
  if (tmp___1 != 0) {
#line 4288
    set_sense_type(chip, lun, 11);
#line 4289
    rtsx_clear_ms_error(chip);
#line 4290
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_leaf_id", 4290);
#line 4291
    return (1);
  } else {

  }
#line 4294
  return (0);
}
}
#line 4297 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_get_local_EKB(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  int bufflen ;
  unsigned int lun ;
  u8 *buf ;
  void *tmp ;
  int tmp___0 ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___1 ;

  {
#line 4299
  retval = 1;
#line 4301
  lun = (unsigned int )(srb->device)->lun;
#line 4302
  buf = (u8 *)0U;
#line 4304
  ms_cleanup_work(chip);
#line 4306
  retval = ms_switch_clock(chip);
#line 4307
  if (retval != 0) {
#line 4308
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_local_EKB", 4308);
#line 4309
    return (1);
  } else {

  }
#line 4312
  tmp = kmalloc(1540UL, 208U);
#line 4312
  buf = (u8 *)tmp;
#line 4313
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 4314
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_local_EKB", 4314);
#line 4315
    return (10);
  } else {

  }
#line 4318
  *buf = 4U;
#line 4319
  *(buf + 1UL) = 26U;
#line 4320
  *(buf + 2UL) = 0U;
#line 4321
  *(buf + 3UL) = 0U;
#line 4323
  retval = mg_send_ex_cmd(chip, 66, 0);
#line 4324
  if (retval != 0) {
#line 4325
    set_sense_type(chip, lun, 12);
#line 4326
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_local_EKB", 4326);
#line 4327
    goto GetEKBFinish;
  } else {

  }
#line 4330
  retval = ms_transfer_data(chip, 8, 2, 3, 128, 0, 0, (void *)buf + 4U, 1536);
#line 4332
  if (retval != 0) {
#line 4333
    set_sense_type(chip, lun, 12);
#line 4334
    rtsx_clear_ms_error(chip);
#line 4335
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_local_EKB", 4335);
#line 4336
    goto GetEKBFinish;
  } else {

  }
#line 4338
  tmp___0 = check_ms_err(chip);
#line 4338
  if (tmp___0 != 0) {
#line 4339
    set_sense_type(chip, lun, 12);
#line 4340
    rtsx_clear_ms_error(chip);
#line 4341
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_local_EKB", 4341);
#line 4342
    return (1);
  } else {

  }
#line 4345
  __min1 = 1052;
#line 4345
  tmp___1 = scsi_bufflen(srb);
#line 4345
  __min2 = (int )tmp___1;
#line 4345
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4346
  rtsx_stor_set_xfer_buf(buf, (unsigned int )bufflen, srb);
  GetEKBFinish: 
#line 4349
  kfree((void const   *)buf);
#line 4350
  return (retval);
}
}
#line 4353 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_chg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int bufflen ;
  int i ;
  unsigned int lun ;
  u8 buf[32U] ;
  int tmp ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___0 ;
  int tmp___1 ;

  {
#line 4355
  ms_card = & chip->ms_card;
#line 4359
  lun = (unsigned int )(srb->device)->lun;
#line 4362
  ms_cleanup_work(chip);
#line 4364
  retval = ms_switch_clock(chip);
#line 4365
  if (retval != 0) {
#line 4366
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4366);
#line 4367
    return (1);
  } else {

  }
#line 4370
  retval = mg_send_ex_cmd(chip, 64, 0);
#line 4371
  if (retval != 0) {
#line 4372
    set_sense_type(chip, lun, 13);
#line 4373
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4373);
#line 4374
    return (1);
  } else {

  }
#line 4377
  retval = ms_read_bytes(chip, 3, 32, 128, (u8 *)(& buf), 32);
#line 4379
  if (retval != 0) {
#line 4380
    set_sense_type(chip, lun, 13);
#line 4381
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4381);
#line 4382
    return (1);
  } else {

  }
#line 4384
  tmp = check_ms_err(chip);
#line 4384
  if (tmp != 0) {
#line 4385
    set_sense_type(chip, lun, 13);
#line 4386
    rtsx_clear_ms_error(chip);
#line 4387
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4387);
#line 4388
    return (1);
  } else {

  }
#line 4391
  memcpy((void *)(& ms_card->magic_gate_id), (void const   *)(& buf), 16UL);
#line 4394
  retval = ms_poll_int(chip);
#line 4395
  if (retval != 0) {
#line 4396
    set_sense_type(chip, lun, 13);
#line 4397
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4397);
#line 4398
    return (1);
  } else {

  }
#line 4402
  retval = mg_send_ex_cmd(chip, 67, 0);
#line 4403
  if (retval != 0) {
#line 4404
    set_sense_type(chip, lun, 13);
#line 4405
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4405);
#line 4406
    return (1);
  } else {

  }
#line 4409
  __min1 = 12;
#line 4409
  tmp___0 = scsi_bufflen(srb);
#line 4409
  __min2 = (int )tmp___0;
#line 4409
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4410
  rtsx_stor_get_xfer_buf((unsigned char *)(& buf), (unsigned int )bufflen, srb);
#line 4412
  i = 0;
#line 4412
  goto ldv_39136;
  ldv_39135: 
#line 4413
  buf[i] = buf[i + 4];
#line 4412
  i = i + 1;
  ldv_39136: ;
#line 4412
  if (i <= 7) {
#line 4414
    goto ldv_39135;
  } else {

  }
#line 4415
  i = 0;
#line 4415
  goto ldv_39139;
  ldv_39138: 
#line 4416
  buf[i + 8] = 0U;
#line 4415
  i = i + 1;
  ldv_39139: ;
#line 4415
  if (i <= 23) {
#line 4417
    goto ldv_39138;
  } else {

  }
#line 4418
  retval = ms_write_bytes(chip, 12, 32, 128, (u8 *)(& buf), 32);
#line 4420
  if (retval != 0) {
#line 4421
    set_sense_type(chip, lun, 13);
#line 4422
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4422);
#line 4423
    return (1);
  } else {

  }
#line 4425
  tmp___1 = check_ms_err(chip);
#line 4425
  if (tmp___1 != 0) {
#line 4426
    set_sense_type(chip, lun, 13);
#line 4427
    rtsx_clear_ms_error(chip);
#line 4428
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_chg", 4428);
#line 4429
    return (1);
  } else {

  }
#line 4432
  ms_card->mg_auth = 0;
#line 4434
  return (0);
}
}
#line 4437 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_get_rsp_chg(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int bufflen ;
  unsigned int lun ;
  u8 buf1[32U] ;
  u8 buf2[36U] ;
  int tmp ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___0 ;

  {
#line 4439
  ms_card = & chip->ms_card;
#line 4442
  lun = (unsigned int )(srb->device)->lun;
#line 4445
  ms_cleanup_work(chip);
#line 4447
  retval = ms_switch_clock(chip);
#line 4448
  if (retval != 0) {
#line 4449
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_rsp_chg", 4449);
#line 4450
    return (1);
  } else {

  }
#line 4453
  retval = mg_send_ex_cmd(chip, 68, 0);
#line 4454
  if (retval != 0) {
#line 4455
    set_sense_type(chip, lun, 12);
#line 4456
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_rsp_chg", 4456);
#line 4457
    return (1);
  } else {

  }
#line 4460
  retval = ms_read_bytes(chip, 3, 32, 128, (u8 *)(& buf1), 32);
#line 4462
  if (retval != 0) {
#line 4463
    set_sense_type(chip, lun, 12);
#line 4464
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_rsp_chg", 4464);
#line 4465
    return (1);
  } else {

  }
#line 4467
  tmp = check_ms_err(chip);
#line 4467
  if (tmp != 0) {
#line 4468
    set_sense_type(chip, lun, 12);
#line 4469
    rtsx_clear_ms_error(chip);
#line 4470
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_rsp_chg", 4470);
#line 4471
    return (1);
  } else {

  }
#line 4474
  buf2[0] = 0U;
#line 4475
  buf2[1] = 34U;
#line 4476
  buf2[2] = 0U;
#line 4477
  buf2[3] = 0U;
#line 4479
  memcpy((void *)(& buf2) + 4U, (void const   *)(& ms_card->magic_gate_id), 16UL);
#line 4480
  memcpy((void *)(& buf2) + 20U, (void const   *)(& buf1), 16UL);
#line 4482
  __min1 = 36;
#line 4482
  tmp___0 = scsi_bufflen(srb);
#line 4482
  __min2 = (int )tmp___0;
#line 4482
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4483
  rtsx_stor_set_xfer_buf((unsigned char *)(& buf2), (unsigned int )bufflen, srb);
#line 4486
  retval = ms_poll_int(chip);
#line 4487
  if (retval != 0) {
#line 4488
    set_sense_type(chip, lun, 12);
#line 4489
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_rsp_chg", 4489);
#line 4490
    return (1);
  } else {

  }
#line 4494
  return (0);
}
}
#line 4497 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_rsp(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int i ;
  int bufflen ;
  unsigned int lun ;
  u8 buf[32U] ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp ;
  int tmp___0 ;

  {
#line 4499
  ms_card = & chip->ms_card;
#line 4503
  lun = (unsigned int )(srb->device)->lun;
#line 4506
  ms_cleanup_work(chip);
#line 4508
  retval = ms_switch_clock(chip);
#line 4509
  if (retval != 0) {
#line 4510
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_rsp", 4510);
#line 4511
    return (1);
  } else {

  }
#line 4514
  retval = mg_send_ex_cmd(chip, 69, 0);
#line 4515
  if (retval != 0) {
#line 4516
    set_sense_type(chip, lun, 12);
#line 4517
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_rsp", 4517);
#line 4518
    return (1);
  } else {

  }
#line 4521
  __min1 = 12;
#line 4521
  tmp = scsi_bufflen(srb);
#line 4521
  __min2 = (int )tmp;
#line 4521
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4522
  rtsx_stor_get_xfer_buf((unsigned char *)(& buf), (unsigned int )bufflen, srb);
#line 4524
  i = 0;
#line 4524
  goto ldv_39170;
  ldv_39169: 
#line 4525
  buf[i] = buf[i + 4];
#line 4524
  i = i + 1;
  ldv_39170: ;
#line 4524
  if (i <= 7) {
#line 4526
    goto ldv_39169;
  } else {

  }
#line 4527
  i = 0;
#line 4527
  goto ldv_39173;
  ldv_39172: 
#line 4528
  buf[i + 8] = 0U;
#line 4527
  i = i + 1;
  ldv_39173: ;
#line 4527
  if (i <= 23) {
#line 4529
    goto ldv_39172;
  } else {

  }
#line 4530
  retval = ms_write_bytes(chip, 12, 32, 128, (u8 *)(& buf), 32);
#line 4532
  if (retval != 0) {
#line 4533
    set_sense_type(chip, lun, 12);
#line 4534
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_rsp", 4534);
#line 4535
    return (1);
  } else {

  }
#line 4537
  tmp___0 = check_ms_err(chip);
#line 4537
  if (tmp___0 != 0) {
#line 4538
    set_sense_type(chip, lun, 12);
#line 4539
    rtsx_clear_ms_error(chip);
#line 4540
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_rsp", 4540);
#line 4541
    return (1);
  } else {

  }
#line 4544
  ms_card->mg_auth = 1;
#line 4546
  return (0);
}
}
#line 4549 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_get_ICV(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int bufflen ;
  unsigned int lun ;
  u8 *buf ;
  void *tmp ;
  int tmp___0 ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___1 ;

  {
#line 4551
  ms_card = & chip->ms_card;
#line 4554
  lun = (unsigned int )(srb->device)->lun;
#line 4555
  buf = (u8 *)0U;
#line 4557
  ms_cleanup_work(chip);
#line 4559
  retval = ms_switch_clock(chip);
#line 4560
  if (retval != 0) {
#line 4561
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_ICV", 4561);
#line 4562
    return (1);
  } else {

  }
#line 4565
  tmp = kmalloc(1028UL, 208U);
#line 4565
  buf = (u8 *)tmp;
#line 4566
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 4567
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_ICV", 4567);
#line 4568
    return (10);
  } else {

  }
#line 4571
  *buf = 4U;
#line 4572
  *(buf + 1UL) = 2U;
#line 4573
  *(buf + 2UL) = 0U;
#line 4574
  *(buf + 3UL) = 0U;
#line 4576
  retval = mg_send_ex_cmd(chip, 71, (int )ms_card->mg_entry_num);
#line 4577
  if (retval != 0) {
#line 4578
    set_sense_type(chip, lun, 7);
#line 4579
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_ICV", 4579);
#line 4580
    goto GetICVFinish;
  } else {

  }
#line 4583
  retval = ms_transfer_data(chip, 8, 2, 2, 128, 0, 0, (void *)buf + 4U, 1024);
#line 4585
  if (retval != 0) {
#line 4586
    set_sense_type(chip, lun, 7);
#line 4587
    rtsx_clear_ms_error(chip);
#line 4588
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_ICV", 4588);
#line 4589
    goto GetICVFinish;
  } else {

  }
#line 4591
  tmp___0 = check_ms_err(chip);
#line 4591
  if (tmp___0 != 0) {
#line 4592
    set_sense_type(chip, lun, 7);
#line 4593
    rtsx_clear_ms_error(chip);
#line 4594
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_get_ICV", 4594);
#line 4595
    return (1);
  } else {

  }
#line 4598
  __min1 = 1028;
#line 4598
  tmp___1 = scsi_bufflen(srb);
#line 4598
  __min2 = (int )tmp___1;
#line 4598
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4599
  rtsx_stor_set_xfer_buf(buf, (unsigned int )bufflen, srb);
  GetICVFinish: 
#line 4602
  kfree((void const   *)buf);
#line 4603
  return (retval);
}
}
#line 4606 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int mg_set_ICV(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;
  int bufflen ;
  int i ;
  unsigned int lun ;
  u8 *buf ;
  void *tmp ;
  int __min1 ;
  int __min2 ;
  unsigned int tmp___0 ;
  int tmp___1 ;

  {
#line 4608
  ms_card = & chip->ms_card;
#line 4614
  lun = (unsigned int )(srb->device)->lun;
#line 4615
  buf = (u8 *)0U;
#line 4617
  ms_cleanup_work(chip);
#line 4619
  retval = ms_switch_clock(chip);
#line 4620
  if (retval != 0) {
#line 4621
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_ICV", 4621);
#line 4622
    return (1);
  } else {

  }
#line 4625
  tmp = kmalloc(1028UL, 208U);
#line 4625
  buf = (u8 *)tmp;
#line 4626
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 4627
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_ICV", 4627);
#line 4628
    return (10);
  } else {

  }
#line 4631
  __min1 = 1028;
#line 4631
  tmp___0 = scsi_bufflen(srb);
#line 4631
  __min2 = (int )tmp___0;
#line 4631
  bufflen = __min1 < __min2 ? __min1 : __min2;
#line 4632
  rtsx_stor_get_xfer_buf(buf, (unsigned int )bufflen, srb);
#line 4634
  retval = mg_send_ex_cmd(chip, 70, (int )ms_card->mg_entry_num);
#line 4635
  if (retval != 0) {
#line 4636
    if (ms_card->mg_auth == 0) {
#line 4637
      if (((int )*(buf + 5UL) & 192) != 0) {
#line 4638
        set_sense_type(chip, lun, 11);
      } else {
#line 4641
        set_sense_type(chip, lun, 14);
      }
    } else {
#line 4644
      set_sense_type(chip, lun, 14);
    }
#line 4646
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "mg_set_ICV", 4646);
#line 4647
    goto SetICVFinish;
  } else {

  }
#line 4651
  i = 0;
#line 4651
  goto ldv_39205;
  ldv_39204: 
#line 4652
  __const_udelay(214750UL);
#line 4654
  chip->ci = 0;
#line 4656
  rtsx_add_cmd(chip, 1, 64833, 255, 13);
#line 4658
  rtsx_add_cmd(chip, 1, 64834, 255, 128);
#line 4659
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 4662
  trans_dma_enable(1, chip, 512U, 32);
#line 4664
  rtsx_add_cmd(chip, 1, 64835, 255, 133);
#line 4666
  rtsx_add_cmd(chip, 2, 64835, 64, 64);
#line 4669
  rtsx_send_cmd_no_wait(chip);
#line 4671
  retval = rtsx_transfer_data(chip, 8, (void *)(buf + ((unsigned long )(i * 512) + 4UL)),
                              512UL, 0, 1, 3000);
#line 4673
  if (retval < 0) {
#line 4673
    goto _L;
  } else {
#line 4673
    tmp___1 = check_ms_err(chip);
#line 4673
    if (tmp___1 != 0) {
      _L: /* CIL Label */ 
#line 4674
      rtsx_clear_ms_error(chip);
#line 4675
      if (ms_card->mg_auth == 0) {
#line 4676
        if (((int )*(buf + 5UL) & 192) != 0) {
#line 4677
          set_sense_type(chip, lun, 11);
        } else {
#line 4679
          set_sense_type(chip, lun, 14);
        }
      } else {
#line 4682
        set_sense_type(chip, lun, 14);
      }
#line 4685
      retval = 1;
#line 4686
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "mg_set_ICV", 4686);
#line 4687
      goto SetICVFinish;
    } else {

    }
  }
#line 4651
  i = i + 1;
  ldv_39205: ;
#line 4651
  if (i <= 1) {
#line 4653
    goto ldv_39204;
  } else {

  }

  SetICVFinish: 
#line 4711
  kfree((void const   *)buf);
#line 4712
  return (retval);
}
}
#line 4717 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
void ms_cleanup_work(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  struct _ddebug descriptor___0 ;
  struct device *tmp___1 ;
  long tmp___2 ;

  {
#line 4719
  ms_card = & chip->ms_card;
#line 4721
  if (((int )ms_card->ms_type & 255) == 1) {
#line 4722
    if ((unsigned int )ms_card->seq_mode != 0U) {
#line 4723
      descriptor.modname = "rts5208";
#line 4723
      descriptor.function = "ms_cleanup_work";
#line 4723
      descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 4723
      descriptor.format = "MS Pro: stop transmission\n";
#line 4723
      descriptor.lineno = 4723U;
#line 4723
      descriptor.flags = 0U;
#line 4723
      tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 4723
      if (tmp___0 != 0L) {
#line 4723
        tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4723
        __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "MS Pro: stop transmission\n");
      } else {

      }
#line 4724
      mspro_stop_seq_mode(chip);
#line 4725
      ms_card->cleanup_counter = 0;
    } else {

    }
#line 4727
    if (((int )ms_card->ms_type & 255) == 1 && ((int )ms_card->ms_type & 1024) != 0) {
#line 4728
      rtsx_write_register(chip, 64832, 4, 0);
    } else {

    }
  } else
#line 4733
  if (((int )ms_card->ms_type & 255) != 1 && (unsigned int )ms_card->delay_write.delay_write_flag != 0U) {
#line 4734
    descriptor___0.modname = "rts5208";
#line 4734
    descriptor___0.function = "ms_cleanup_work";
#line 4734
    descriptor___0.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c";
#line 4734
    descriptor___0.format = "MS: delay write\n";
#line 4734
    descriptor___0.lineno = 4734U;
#line 4734
    descriptor___0.flags = 0U;
#line 4734
    tmp___2 = ldv__builtin_expect((long )descriptor___0.flags & 1L, 0L);
#line 4734
    if (tmp___2 != 0L) {
#line 4734
      tmp___1 = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 4734
      __dynamic_dev_dbg(& descriptor___0, (struct device  const  *)tmp___1, "MS: delay write\n");
    } else {

    }
#line 4735
    ms_delay_write(chip);
#line 4736
    ms_card->cleanup_counter = 0;
  } else {

  }
#line 4738
  return;
}
}
#line 4741 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int ms_power_off_card3v3(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 4745
  retval = disable_card_clock(chip, 8);
#line 4746
  if (retval != 0) {
#line 4747
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_power_off_card3v3", 4747);
#line 4748
    return (1);
  } else {

  }
#line 4751
  if (chip->asic_code != 0) {
#line 4752
    retval = ms_pull_ctl_disable(chip);
#line 4753
    if (retval != 0) {
#line 4754
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_power_off_card3v3", 4754);
#line 4755
      return (1);
    } else {

    }
  } else {
#line 4758
    retval = rtsx_write_register(chip, 64541, 48, 16);
#line 4761
    if (retval != 0) {
#line 4762
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_power_off_card3v3", 4762);
#line 4763
      return (retval);
    } else {

    }
  }
#line 4766
  retval = rtsx_write_register(chip, 64853, 8, 0);
#line 4767
  if (retval != 0) {
#line 4768
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "ms_power_off_card3v3", 4768);
#line 4769
    return (retval);
  } else {

  }
#line 4771
  if (chip->ft2_fast_mode == 0) {
#line 4772
    retval = card_power_off(chip, 8);
#line 4773
    if (retval != 0) {
#line 4774
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                  "ms_power_off_card3v3", 4774);
#line 4775
      return (1);
    } else {

    }
  } else {

  }
#line 4779
  return (0);
}
}
#line 4782 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c"
int release_ms_card(struct rtsx_chip *chip ) 
{ 
  struct ms_info *ms_card ;
  int retval ;

  {
#line 4784
  ms_card = & chip->ms_card;
#line 4788
  ms_card->delay_write.delay_write_flag = 0U;
#line 4790
  ms_card->pro_under_formatting = 0;
#line 4792
  chip->card_ready = (unsigned int )chip->card_ready & 247U;
#line 4793
  chip->card_fail = (unsigned int )chip->card_fail & 247U;
#line 4794
  chip->card_wp = (unsigned int )chip->card_wp & 247U;
#line 4796
  ms_free_l2p_tbl(chip);
#line 4798
  memset((void *)(& ms_card->raw_sys_info), 0, 96UL);
#line 4800
  memset((void *)(& ms_card->raw_model_name), 0, 48UL);
#line 4803
  retval = ms_power_off_card3v3(chip);
#line 4804
  if (retval != 0) {
#line 4805
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.c",
                "release_ms_card", 4805);
#line 4806
    return (1);
  } else {

  }
#line 4809
  return (0);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/ms.o.c.prepared"
int ldv_scsi_add_host_with_dma_69(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_75(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 1093 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx_card.h"
__inline static void rtsx_clear_spi_error(struct rtsx_chip *chip ) 
{ 


  {
#line 1095
  rtsx_write_register(chip, 64852, 17, 17);
#line 1096
  return;
}
}
#line 30 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
__inline static void spi_set_err_code(struct rtsx_chip *chip , u8 err_code ) 
{ 
  struct spi_info *spi ;

  {
#line 32
  spi = & chip->spi;
#line 34
  spi->err_code = err_code;
#line 35
  return;
}
}
#line 37 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int spi_init(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 41
  retval = rtsx_write_register(chip, 64914, 255, 2);
#line 43
  if (retval != 0) {
#line 44
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init", 44);
#line 45
    return (retval);
  } else {

  }
#line 47
  retval = rtsx_write_register(chip, 64916, 3, 1);
#line 49
  if (retval != 0) {
#line 50
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init", 50);
#line 51
    return (retval);
  } else {

  }
#line 54
  return (0);
}
}
#line 57 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int spi_set_init_para(struct rtsx_chip *chip ) 
{ 
  struct spi_info *spi ;
  int retval ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 59
  spi = & chip->spi;
#line 62
  retval = rtsx_write_register(chip, 64919, 255, (int )((unsigned char )((int )spi->clk_div >> 8)));
#line 64
  if (retval != 0) {
#line 65
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 65);
#line 66
    return (retval);
  } else {

  }
#line 68
  retval = rtsx_write_register(chip, 64918, 255, (int )((unsigned char )spi->clk_div));
#line 70
  if (retval != 0) {
#line 71
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 71);
#line 72
    return (retval);
  } else {

  }
#line 75
  retval = switch_clock(chip, spi->spi_clock);
#line 76
  if (retval != 0) {
#line 77
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 77);
#line 78
    return (1);
  } else {

  }
#line 81
  retval = select_card(chip, 128);
#line 82
  if (retval != 0) {
#line 83
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 83);
#line 84
    return (1);
  } else {

  }
#line 87
  retval = rtsx_write_register(chip, 64873, 16, 16);
#line 89
  if (retval != 0) {
#line 90
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 90);
#line 91
    return (retval);
  } else {

  }
#line 93
  retval = rtsx_write_register(chip, 64853, 16, 16);
#line 95
  if (retval != 0) {
#line 96
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 96);
#line 97
    return (retval);
  } else {

  }
#line 100
  tmp = get_current();
#line 100
  tmp->task_state_change = 0UL;
#line 100
  __ret = 1L;
#line 100
  switch (8UL) {
  case 1UL: 
#line 100
  tmp___0 = get_current();
#line 100
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 100
  goto ldv_38113;
  case 2UL: 
#line 100
  tmp___1 = get_current();
#line 100
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 100
  goto ldv_38113;
  case 4UL: 
#line 100
  tmp___2 = get_current();
#line 100
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 100
  goto ldv_38113;
  case 8UL: 
#line 100
  tmp___3 = get_current();
#line 100
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 100
  goto ldv_38113;
  default: 
#line 100
  __xchg_wrong_size();
  }
  ldv_38113: 
#line 100
  schedule_timeout(2L);
#line 102
  retval = spi_init(chip);
#line 103
  if (retval != 0) {
#line 104
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_set_init_para", 104);
#line 105
    return (1);
  } else {

  }
#line 108
  return (0);
}
}
#line 111 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int sf_polling_status(struct rtsx_chip *chip , int msec ) 
{ 
  int retval ;

  {
#line 115
  chip->ci = 0;
#line 117
  rtsx_add_cmd(chip, 1, 64896, 255, 5);
#line 118
  rtsx_add_cmd(chip, 1, 64912, 255, 134);
#line 120
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 123
  retval = rtsx_send_cmd(chip, 0, msec);
#line 124
  if (retval < 0) {
#line 125
    rtsx_clear_spi_error(chip);
#line 126
    spi_set_err_code(chip, 6);
#line 127
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "sf_polling_status", 127);
#line 128
    return (1);
  } else {

  }
#line 131
  return (0);
}
}
#line 134 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int sf_enable_write(struct rtsx_chip *chip , u8 ins ) 
{ 
  struct spi_info *spi ;
  int retval ;

  {
#line 136
  spi = & chip->spi;
#line 139
  if ((unsigned int )spi->write_en == 0U) {
#line 140
    return (0);
  } else {

  }
#line 142
  chip->ci = 0;
#line 144
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 145
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 147
  rtsx_add_cmd(chip, 1, 64912, 255, 128);
#line 149
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 152
  retval = rtsx_send_cmd(chip, 0, 100);
#line 153
  if (retval < 0) {
#line 154
    rtsx_clear_spi_error(chip);
#line 155
    spi_set_err_code(chip, 1);
#line 156
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "sf_enable_write", 156);
#line 157
    return (1);
  } else {

  }
#line 160
  return (0);
}
}
#line 163 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int sf_disable_write(struct rtsx_chip *chip , u8 ins ) 
{ 
  struct spi_info *spi ;
  int retval ;

  {
#line 165
  spi = & chip->spi;
#line 168
  if ((unsigned int )spi->write_en == 0U) {
#line 169
    return (0);
  } else {

  }
#line 171
  chip->ci = 0;
#line 173
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 174
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 176
  rtsx_add_cmd(chip, 1, 64912, 255, 128);
#line 178
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 181
  retval = rtsx_send_cmd(chip, 0, 100);
#line 182
  if (retval < 0) {
#line 183
    rtsx_clear_spi_error(chip);
#line 184
    spi_set_err_code(chip, 1);
#line 185
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "sf_disable_write", 185);
#line 186
    return (1);
  } else {

  }
#line 189
  return (0);
}
}
#line 192 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static void sf_program(struct rtsx_chip *chip , u8 ins , u8 addr_mode , u32 addr ,
                       u16 len ) 
{ 


  {
#line 195
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 196
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 198
  rtsx_add_cmd(chip, 1, 64902, 255, (int )((unsigned char )len));
#line 199
  rtsx_add_cmd(chip, 1, 64903, 255, (int )((unsigned char )((int )len >> 8)));
#line 200
  if ((unsigned int )addr_mode != 0U) {
#line 201
    rtsx_add_cmd(chip, 1, 64897, 255, (int )((unsigned char )addr));
#line 202
    rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )(addr >> 8)));
#line 204
    rtsx_add_cmd(chip, 1, 64899, 255, (int )((unsigned char )(addr >> 16)));
#line 206
    rtsx_add_cmd(chip, 1, 64912, 255, 132);
  } else {
#line 209
    rtsx_add_cmd(chip, 1, 64912, 255, 130);
  }
#line 212
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 213
  return;
}
}
#line 216 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int sf_erase(struct rtsx_chip *chip , u8 ins , u8 addr_mode , u32 addr ) 
{ 
  int retval ;

  {
#line 220
  chip->ci = 0;
#line 222
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 223
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 225
  if ((unsigned int )addr_mode != 0U) {
#line 226
    rtsx_add_cmd(chip, 1, 64897, 255, (int )((unsigned char )addr));
#line 227
    rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )(addr >> 8)));
#line 229
    rtsx_add_cmd(chip, 1, 64899, 255, (int )((unsigned char )(addr >> 16)));
#line 231
    rtsx_add_cmd(chip, 1, 64912, 255, 129);
  } else {
#line 234
    rtsx_add_cmd(chip, 1, 64912, 255, 128);
  }
#line 237
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 240
  retval = rtsx_send_cmd(chip, 0, 100);
#line 241
  if (retval < 0) {
#line 242
    rtsx_clear_spi_error(chip);
#line 243
    spi_set_err_code(chip, 1);
#line 244
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "sf_erase", 244);
#line 245
    return (1);
  } else {

  }
#line 248
  return (0);
}
}
#line 251 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int spi_init_eeprom(struct rtsx_chip *chip ) 
{ 
  int retval ;
  int clk ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 256
  if (chip->asic_code != 0) {
#line 257
    clk = 30;
  } else {
#line 259
    clk = 2;
  }
#line 261
  retval = rtsx_write_register(chip, 64919, 255, 0);
#line 262
  if (retval != 0) {
#line 263
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 263);
#line 264
    return (retval);
  } else {

  }
#line 266
  retval = rtsx_write_register(chip, 64918, 255, 39);
#line 267
  if (retval != 0) {
#line 268
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 268);
#line 269
    return (retval);
  } else {

  }
#line 272
  retval = switch_clock(chip, clk);
#line 273
  if (retval != 0) {
#line 274
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 274);
#line 275
    return (1);
  } else {

  }
#line 278
  retval = select_card(chip, 128);
#line 279
  if (retval != 0) {
#line 280
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 280);
#line 281
    return (1);
  } else {

  }
#line 284
  retval = rtsx_write_register(chip, 64873, 16, 16);
#line 286
  if (retval != 0) {
#line 287
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 287);
#line 288
    return (retval);
  } else {

  }
#line 290
  retval = rtsx_write_register(chip, 64853, 16, 16);
#line 292
  if (retval != 0) {
#line 293
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 293);
#line 294
    return (retval);
  } else {

  }
#line 297
  tmp = get_current();
#line 297
  tmp->task_state_change = 0UL;
#line 297
  __ret = 1L;
#line 297
  switch (8UL) {
  case 1UL: 
#line 297
  tmp___0 = get_current();
#line 297
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 297
  goto ldv_38162;
  case 2UL: 
#line 297
  tmp___1 = get_current();
#line 297
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 297
  goto ldv_38162;
  case 4UL: 
#line 297
  tmp___2 = get_current();
#line 297
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 297
  goto ldv_38162;
  case 8UL: 
#line 297
  tmp___3 = get_current();
#line 297
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 297
  goto ldv_38162;
  default: 
#line 297
  __xchg_wrong_size();
  }
  ldv_38162: 
#line 297
  schedule_timeout(2L);
#line 299
  retval = rtsx_write_register(chip, 64914, 255, 67);
#line 301
  if (retval != 0) {
#line 302
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 302);
#line 303
    return (retval);
  } else {

  }
#line 305
  retval = rtsx_write_register(chip, 64916, 3, 1);
#line 307
  if (retval != 0) {
#line 308
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_init_eeprom", 308);
#line 309
    return (retval);
  } else {

  }
#line 312
  return (0);
}
}
#line 315 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
static int spi_eeprom_program_enable(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 319
  chip->ci = 0;
#line 321
  rtsx_add_cmd(chip, 1, 64901, 255, 134);
#line 322
  rtsx_add_cmd(chip, 1, 64896, 255, 19);
#line 323
  rtsx_add_cmd(chip, 1, 64912, 255, 129);
#line 325
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 328
  retval = rtsx_send_cmd(chip, 0, 100);
#line 329
  if (retval < 0) {
#line 330
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_eeprom_program_enable", 330);
#line 331
    return (1);
  } else {

  }
#line 334
  return (0);
}
}
#line 337 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_erase_eeprom_chip(struct rtsx_chip *chip ) 
{ 
  int retval ;

  {
#line 341
  retval = spi_init_eeprom(chip);
#line 342
  if (retval != 0) {
#line 343
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_chip", 343);
#line 344
    return (1);
  } else {

  }
#line 347
  retval = spi_eeprom_program_enable(chip);
#line 348
  if (retval != 0) {
#line 349
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_chip", 349);
#line 350
    return (1);
  } else {

  }
#line 353
  chip->ci = 0;
#line 355
  rtsx_add_cmd(chip, 1, 64855, 1, 0);
#line 356
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 357
  rtsx_add_cmd(chip, 1, 64896, 255, 18);
#line 358
  rtsx_add_cmd(chip, 1, 64901, 255, 132);
#line 359
  rtsx_add_cmd(chip, 1, 64912, 255, 129);
#line 361
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 364
  retval = rtsx_send_cmd(chip, 0, 100);
#line 365
  if (retval < 0) {
#line 366
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_chip", 366);
#line 367
    return (1);
  } else {

  }
#line 370
  retval = rtsx_write_register(chip, 64855, 1, 1);
#line 371
  if (retval != 0) {
#line 372
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_chip", 372);
#line 373
    return (retval);
  } else {

  }
#line 376
  return (0);
}
}
#line 379 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_erase_eeprom_byte(struct rtsx_chip *chip , u16 addr ) 
{ 
  int retval ;

  {
#line 383
  retval = spi_init_eeprom(chip);
#line 384
  if (retval != 0) {
#line 385
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_byte", 385);
#line 386
    return (1);
  } else {

  }
#line 389
  retval = spi_eeprom_program_enable(chip);
#line 390
  if (retval != 0) {
#line 391
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_byte", 391);
#line 392
    return (1);
  } else {

  }
#line 395
  chip->ci = 0;
#line 397
  rtsx_add_cmd(chip, 1, 64855, 1, 0);
#line 398
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 399
  rtsx_add_cmd(chip, 1, 64896, 255, 7);
#line 400
  rtsx_add_cmd(chip, 1, 64897, 255, (int )((unsigned char )addr));
#line 401
  rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )((int )addr >> 8)));
#line 402
  rtsx_add_cmd(chip, 1, 64901, 255, 70);
#line 403
  rtsx_add_cmd(chip, 1, 64912, 255, 129);
#line 405
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 408
  retval = rtsx_send_cmd(chip, 0, 100);
#line 409
  if (retval < 0) {
#line 410
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_byte", 410);
#line 411
    return (1);
  } else {

  }
#line 414
  retval = rtsx_write_register(chip, 64855, 1, 1);
#line 415
  if (retval != 0) {
#line 416
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_eeprom_byte", 416);
#line 417
    return (retval);
  } else {

  }
#line 420
  return (0);
}
}
#line 424 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_read_eeprom(struct rtsx_chip *chip , u16 addr , u8 *val ) 
{ 
  int retval ;
  u8 data ;
  struct task_struct *tmp ;
  long volatile   __ret ;
  struct task_struct *tmp___0 ;
  struct task_struct *tmp___1 ;
  struct task_struct *tmp___2 ;
  struct task_struct *tmp___3 ;

  {
#line 429
  retval = spi_init_eeprom(chip);
#line 430
  if (retval != 0) {
#line 431
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_eeprom", 431);
#line 432
    return (1);
  } else {

  }
#line 435
  chip->ci = 0;
#line 437
  rtsx_add_cmd(chip, 1, 64855, 1, 0);
#line 438
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 439
  rtsx_add_cmd(chip, 1, 64896, 255, 6);
#line 440
  rtsx_add_cmd(chip, 1, 64897, 255, (int )((unsigned char )addr));
#line 441
  rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )((int )addr >> 8)));
#line 442
  rtsx_add_cmd(chip, 1, 64901, 255, 70);
#line 443
  rtsx_add_cmd(chip, 1, 64902, 255, 1);
#line 444
  rtsx_add_cmd(chip, 1, 64912, 255, 133);
#line 446
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 449
  retval = rtsx_send_cmd(chip, 0, 100);
#line 450
  if (retval < 0) {
#line 451
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_eeprom", 451);
#line 452
    return (1);
  } else {

  }
#line 455
  tmp = get_current();
#line 455
  tmp->task_state_change = 0UL;
#line 455
  __ret = 1L;
#line 455
  switch (8UL) {
  case 1UL: 
#line 455
  tmp___0 = get_current();
#line 455
  __asm__  volatile   ("xchgb %b0, %1\n": "+q" (__ret), "+m" (tmp___0->state): : "memory",
                       "cc");
#line 455
  goto ldv_38194;
  case 2UL: 
#line 455
  tmp___1 = get_current();
#line 455
  __asm__  volatile   ("xchgw %w0, %1\n": "+r" (__ret), "+m" (tmp___1->state): : "memory",
                       "cc");
#line 455
  goto ldv_38194;
  case 4UL: 
#line 455
  tmp___2 = get_current();
#line 455
  __asm__  volatile   ("xchgl %0, %1\n": "+r" (__ret), "+m" (tmp___2->state): : "memory",
                       "cc");
#line 455
  goto ldv_38194;
  case 8UL: 
#line 455
  tmp___3 = get_current();
#line 455
  __asm__  volatile   ("xchgq %q0, %1\n": "+r" (__ret), "+m" (tmp___3->state): : "memory",
                       "cc");
#line 455
  goto ldv_38194;
  default: 
#line 455
  __xchg_wrong_size();
  }
  ldv_38194: 
#line 455
  schedule_timeout(1L);
#line 456
  retval = rtsx_read_register(chip, 64904, & data);
#line 457
  if (retval != 0) {
#line 458
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_eeprom", 458);
#line 459
    return (retval);
  } else {

  }
#line 462
  if ((unsigned long )val != (unsigned long )((u8 *)0U)) {
#line 463
    *val = data;
  } else {

  }
#line 465
  retval = rtsx_write_register(chip, 64855, 1, 1);
#line 466
  if (retval != 0) {
#line 467
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_eeprom", 467);
#line 468
    return (retval);
  } else {

  }
#line 471
  return (0);
}
}
#line 474 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_write_eeprom(struct rtsx_chip *chip , u16 addr , u8 val ) 
{ 
  int retval ;

  {
#line 478
  retval = spi_init_eeprom(chip);
#line 479
  if (retval != 0) {
#line 480
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_eeprom", 480);
#line 481
    return (1);
  } else {

  }
#line 484
  retval = spi_eeprom_program_enable(chip);
#line 485
  if (retval != 0) {
#line 486
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_eeprom", 486);
#line 487
    return (1);
  } else {

  }
#line 490
  chip->ci = 0;
#line 492
  rtsx_add_cmd(chip, 1, 64855, 1, 0);
#line 493
  rtsx_add_cmd(chip, 1, 64859, 1, 0);
#line 494
  rtsx_add_cmd(chip, 1, 64896, 255, 5);
#line 495
  rtsx_add_cmd(chip, 1, 64897, 255, (int )val);
#line 496
  rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )addr));
#line 497
  rtsx_add_cmd(chip, 1, 64899, 255, (int )((unsigned char )((int )addr >> 8)));
#line 498
  rtsx_add_cmd(chip, 1, 64901, 255, 78);
#line 499
  rtsx_add_cmd(chip, 1, 64912, 255, 129);
#line 501
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 504
  retval = rtsx_send_cmd(chip, 0, 100);
#line 505
  if (retval < 0) {
#line 506
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_eeprom", 506);
#line 507
    return (1);
  } else {

  }
#line 510
  retval = rtsx_write_register(chip, 64855, 1, 1);
#line 511
  if (retval != 0) {
#line 512
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_eeprom", 512);
#line 513
    return (retval);
  } else {

  }
#line 516
  return (0);
}
}
#line 520 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_get_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct spi_info *spi ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;
  int __min1 ;
  unsigned int tmp___1 ;
  int __min2 ;
  unsigned int tmp___2 ;

  {
#line 522
  spi = & chip->spi;
#line 524
  descriptor.modname = "rts5208";
#line 524
  descriptor.function = "spi_get_status";
#line 524
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c";
#line 524
  descriptor.format = "spi_get_status: err_code = 0x%x\n";
#line 524
  descriptor.lineno = 525U;
#line 524
  descriptor.flags = 0U;
#line 524
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 524
  if (tmp___0 != 0L) {
#line 524
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 524
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "spi_get_status: err_code = 0x%x\n",
                      (int )spi->err_code);
  } else {

  }
#line 527
  tmp___1 = scsi_bufflen(srb);
#line 527
  __min1 = (int )tmp___1;
#line 527
  __min2 = 1;
#line 527
  rtsx_stor_set_xfer_buf(& spi->err_code, (unsigned int )(__min1 < __min2 ? __min1 : __min2),
                         srb);
#line 528
  tmp___2 = scsi_bufflen(srb);
#line 528
  scsi_set_resid(srb, (int )(tmp___2 - 1U));
#line 530
  return (0);
}
}
#line 533 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_set_parameter(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  struct spi_info *spi ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 535
  spi = & chip->spi;
#line 537
  spi_set_err_code(chip, 0);
#line 539
  if (chip->asic_code != 0) {
#line 540
    spi->spi_clock = ((int )*(srb->cmnd + 8UL) << 8) | (int )*(srb->cmnd + 9UL);
  } else {
#line 542
    spi->spi_clock = (int )*(srb->cmnd + 3UL);
  }
#line 544
  spi->clk_div = (u16 )((int )((short )((int )*(srb->cmnd + 4UL) << 8)) | (int )((short )*(srb->cmnd + 5UL)));
#line 545
  spi->write_en = *(srb->cmnd + 6UL);
#line 547
  descriptor.modname = "rts5208";
#line 547
  descriptor.function = "spi_set_parameter";
#line 547
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c";
#line 547
  descriptor.format = "spi_set_parameter: spi_clock = %d, clk_div = %d, write_en = %d\n";
#line 547
  descriptor.lineno = 548U;
#line 547
  descriptor.flags = 0U;
#line 547
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 547
  if (tmp___0 != 0L) {
#line 547
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 547
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "spi_set_parameter: spi_clock = %d, clk_div = %d, write_en = %d\n",
                      spi->spi_clock, (int )spi->clk_div, (int )spi->write_en);
  } else {

  }
#line 550
  return (0);
}
}
#line 553 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_read_flash_id(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  u16 len ;
  u8 *buf ;
  void *tmp ;
  unsigned int tmp___0 ;

  {
#line 559
  spi_set_err_code(chip, 0);
#line 561
  len = (u16 )((int )((short )((int )*(srb->cmnd + 7UL) << 8)) | (int )((short )*(srb->cmnd + 8UL)));
#line 562
  if ((unsigned int )len > 512U) {
#line 563
    spi_set_err_code(chip, 2);
#line 564
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash_id", 564);
#line 565
    return (1);
  } else {

  }
#line 568
  retval = spi_set_init_para(chip);
#line 569
  if (retval != 0) {
#line 570
    spi_set_err_code(chip, 1);
#line 571
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash_id", 571);
#line 572
    return (1);
  } else {

  }
#line 575
  chip->ci = 0;
#line 577
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 580
  rtsx_add_cmd(chip, 1, 64896, 255, (int )*(srb->cmnd + 3UL));
#line 581
  rtsx_add_cmd(chip, 1, 64899, 255, (int )*(srb->cmnd + 4UL));
#line 582
  rtsx_add_cmd(chip, 1, 64898, 255, (int )*(srb->cmnd + 5UL));
#line 583
  rtsx_add_cmd(chip, 1, 64897, 255, (int )*(srb->cmnd + 6UL));
#line 584
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 586
  rtsx_add_cmd(chip, 1, 64903, 255, (int )*(srb->cmnd + 7UL));
#line 587
  rtsx_add_cmd(chip, 1, 64902, 255, (int )*(srb->cmnd + 8UL));
#line 589
  if ((unsigned int )len == 0U) {
#line 590
    if ((unsigned int )*(srb->cmnd + 9UL) != 0U) {
#line 591
      rtsx_add_cmd(chip, 1, 64912, 255, 129);
    } else {
#line 594
      rtsx_add_cmd(chip, 1, 64912, 255, 128);
    }
  } else
#line 598
  if ((unsigned int )*(srb->cmnd + 9UL) != 0U) {
#line 599
    rtsx_add_cmd(chip, 1, 64912, 255, 133);
  } else {
#line 602
    rtsx_add_cmd(chip, 1, 64912, 255, 131);
  }
#line 607
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 610
  retval = rtsx_send_cmd(chip, 0, 100);
#line 611
  if (retval < 0) {
#line 612
    rtsx_clear_spi_error(chip);
#line 613
    spi_set_err_code(chip, 1);
#line 614
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash_id", 614);
#line 615
    return (1);
  } else {

  }
#line 618
  if ((unsigned int )len != 0U) {
#line 619
    tmp = kmalloc((size_t )len, 208U);
#line 619
    buf = (u8 *)tmp;
#line 620
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 621
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_read_flash_id", 621);
#line 622
      return (10);
    } else {

    }
#line 625
    retval = rtsx_read_ppbuf(chip, buf, (int )len);
#line 626
    if (retval != 0) {
#line 627
      spi_set_err_code(chip, 3);
#line 628
      kfree((void const   *)buf);
#line 629
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_read_flash_id", 629);
#line 630
      return (1);
    } else {

    }
#line 633
    tmp___0 = scsi_bufflen(srb);
#line 633
    rtsx_stor_set_xfer_buf(buf, tmp___0, srb);
#line 634
    scsi_set_resid(srb, 0);
#line 636
    kfree((void const   *)buf);
  } else {

  }
#line 639
  return (0);
}
}
#line 642 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_read_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  unsigned int index ;
  unsigned int offset ;
  u8 ins ;
  u8 slow_read ;
  u32 addr ;
  u16 len ;
  u8 *buf ;
  void *tmp ;
  u16 pagelen ;

  {
#line 645
  index = 0U;
#line 645
  offset = 0U;
#line 651
  spi_set_err_code(chip, 0);
#line 653
  ins = *(srb->cmnd + 3UL);
#line 654
  addr = (((unsigned int )*(srb->cmnd + 4UL) << 16) | ((unsigned int )*(srb->cmnd + 5UL) << 8)) | (unsigned int )*(srb->cmnd + 6UL);
#line 656
  len = (u16 )((int )((short )((int )*(srb->cmnd + 7UL) << 8)) | (int )((short )*(srb->cmnd + 8UL)));
#line 657
  slow_read = *(srb->cmnd + 9UL);
#line 659
  retval = spi_set_init_para(chip);
#line 660
  if (retval != 0) {
#line 661
    spi_set_err_code(chip, 1);
#line 662
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash", 662);
#line 663
    return (1);
  } else {

  }
#line 666
  tmp = kmalloc(256UL, 208U);
#line 666
  buf = (u8 *)tmp;
#line 667
  if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 668
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash", 668);
#line 669
    return (10);
  } else {

  }
#line 672
  goto ldv_38247;
  ldv_38246: 
#line 673
  pagelen = 256U - (unsigned int )((u16 )((unsigned char )addr));
#line 675
  if ((int )pagelen > (int )len) {
#line 676
    pagelen = len;
  } else {

  }
#line 678
  chip->ci = 0;
#line 680
  trans_dma_enable(2, chip, 256U, 16);
#line 682
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 684
  if ((unsigned int )slow_read != 0U) {
#line 685
    rtsx_add_cmd(chip, 1, 64897, 255, (int )((unsigned char )addr));
#line 687
    rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )(addr >> 8)));
#line 689
    rtsx_add_cmd(chip, 1, 64899, 255, (int )((unsigned char )(addr >> 16)));
#line 691
    rtsx_add_cmd(chip, 1, 64901, 255, 247);
  } else {
#line 694
    rtsx_add_cmd(chip, 1, 64898, 255, (int )((unsigned char )addr));
#line 696
    rtsx_add_cmd(chip, 1, 64899, 255, (int )((unsigned char )(addr >> 8)));
#line 698
    rtsx_add_cmd(chip, 1, 64900, 255, (int )((unsigned char )(addr >> 16)));
#line 700
    rtsx_add_cmd(chip, 1, 64901, 255, 255);
  }
#line 704
  rtsx_add_cmd(chip, 1, 64903, 255, (int )((unsigned char )((int )pagelen >> 8)));
#line 706
  rtsx_add_cmd(chip, 1, 64902, 255, (int )((unsigned char )pagelen));
#line 709
  rtsx_add_cmd(chip, 1, 64912, 255, 133);
#line 711
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 714
  rtsx_send_cmd_no_wait(chip);
#line 716
  retval = rtsx_transfer_data(chip, 0, (void *)buf, (size_t )pagelen, 0, 2, 10000);
#line 718
  if (retval < 0) {
#line 719
    kfree((void const   *)buf);
#line 720
    rtsx_clear_spi_error(chip);
#line 721
    spi_set_err_code(chip, 1);
#line 722
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_read_flash", 722);
#line 723
    return (1);
  } else {

  }
#line 726
  rtsx_stor_access_xfer_buf(buf, (unsigned int )pagelen, srb, & index, & offset, 0);
#line 729
  addr = (u32 )pagelen + addr;
#line 730
  len = (int )len - (int )pagelen;
  ldv_38247: ;
#line 672
  if ((unsigned int )len != 0U) {
#line 674
    goto ldv_38246;
  } else {

  }
#line 733
  scsi_set_resid(srb, 0);
#line 734
  kfree((void const   *)buf);
#line 736
  return (0);
}
}
#line 739 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_write_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 ins ;
  u8 program_mode ;
  u32 addr ;
  u16 len ;
  u8 *buf ;
  unsigned int index ;
  unsigned int offset ;
  void *tmp ;
  int first_byte ;
  void *tmp___0 ;
  void *tmp___1 ;
  u16 pagelen ;

  {
#line 746
  index = 0U;
#line 746
  offset = 0U;
#line 748
  spi_set_err_code(chip, 0);
#line 750
  ins = *(srb->cmnd + 3UL);
#line 751
  addr = (((unsigned int )*(srb->cmnd + 4UL) << 16) | ((unsigned int )*(srb->cmnd + 5UL) << 8)) | (unsigned int )*(srb->cmnd + 6UL);
#line 753
  len = (u16 )((int )((short )((int )*(srb->cmnd + 7UL) << 8)) | (int )((short )*(srb->cmnd + 8UL)));
#line 754
  program_mode = *(srb->cmnd + 9UL);
#line 756
  retval = spi_set_init_para(chip);
#line 757
  if (retval != 0) {
#line 758
    spi_set_err_code(chip, 1);
#line 759
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_flash", 759);
#line 760
    return (1);
  } else {

  }
#line 763
  if ((unsigned int )program_mode == 0U) {
#line 764
    tmp = kmalloc(4UL, 208U);
#line 764
    buf = (u8 *)tmp;
#line 765
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 766
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 766);
#line 767
      return (10);
    } else {

    }
#line 770
    goto ldv_38263;
    ldv_38262: 
#line 771
    retval = sf_enable_write(chip, 6);
#line 772
    if (retval != 0) {
#line 773
      kfree((void const   *)buf);
#line 774
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 774);
#line 775
      return (1);
    } else {

    }
#line 778
    rtsx_stor_access_xfer_buf(buf, 1U, srb, & index, & offset, 1);
#line 781
    chip->ci = 0;
#line 783
    rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 785
    rtsx_add_cmd(chip, 1, 64000, 255, (int )*buf);
#line 787
    sf_program(chip, (int )ins, 1, addr, 1);
#line 789
    retval = rtsx_send_cmd(chip, 0, 100);
#line 790
    if (retval < 0) {
#line 791
      kfree((void const   *)buf);
#line 792
      rtsx_clear_spi_error(chip);
#line 793
      spi_set_err_code(chip, 1);
#line 794
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 794);
#line 795
      return (1);
    } else {

    }
#line 798
    retval = sf_polling_status(chip, 100);
#line 799
    if (retval != 0) {
#line 800
      kfree((void const   *)buf);
#line 801
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 801);
#line 802
      return (1);
    } else {

    }
#line 805
    addr = addr + 1U;
#line 806
    len = (u16 )((int )len - 1);
    ldv_38263: ;
#line 770
    if ((unsigned int )len != 0U) {
#line 772
      goto ldv_38262;
    } else {

    }
#line 809
    kfree((void const   *)buf);
  } else
#line 811
  if ((unsigned int )program_mode == 1U) {
#line 812
    first_byte = 1;
#line 814
    retval = sf_enable_write(chip, 6);
#line 815
    if (retval != 0) {
#line 816
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 816);
#line 817
      return (1);
    } else {

    }
#line 820
    tmp___0 = kmalloc(4UL, 208U);
#line 820
    buf = (u8 *)tmp___0;
#line 821
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 822
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 822);
#line 823
      return (10);
    } else {

    }
#line 826
    goto ldv_38267;
    ldv_38266: 
#line 827
    rtsx_stor_access_xfer_buf(buf, 1U, srb, & index, & offset, 1);
#line 830
    chip->ci = 0;
#line 832
    rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 834
    rtsx_add_cmd(chip, 1, 64000, 255, (int )*buf);
#line 836
    if (first_byte != 0) {
#line 837
      sf_program(chip, (int )ins, 1, addr, 1);
#line 838
      first_byte = 0;
    } else {
#line 840
      sf_program(chip, (int )ins, 0, 0U, 1);
    }
#line 843
    retval = rtsx_send_cmd(chip, 0, 100);
#line 844
    if (retval < 0) {
#line 845
      kfree((void const   *)buf);
#line 846
      rtsx_clear_spi_error(chip);
#line 847
      spi_set_err_code(chip, 1);
#line 848
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 848);
#line 849
      return (1);
    } else {

    }
#line 852
    retval = sf_polling_status(chip, 100);
#line 853
    if (retval != 0) {
#line 854
      kfree((void const   *)buf);
#line 855
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 855);
#line 856
      return (1);
    } else {

    }
#line 859
    len = (u16 )((int )len - 1);
    ldv_38267: ;
#line 826
    if ((unsigned int )len != 0U) {
#line 828
      goto ldv_38266;
    } else {

    }
#line 862
    kfree((void const   *)buf);
#line 864
    retval = sf_disable_write(chip, 4);
#line 865
    if (retval != 0) {
#line 866
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 866);
#line 867
      return (1);
    } else {

    }
#line 870
    retval = sf_polling_status(chip, 100);
#line 871
    if (retval != 0) {
#line 872
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 872);
#line 873
      return (1);
    } else {

    }
  } else
#line 875
  if ((unsigned int )program_mode == 2U) {
#line 876
    tmp___1 = kmalloc(256UL, 208U);
#line 876
    buf = (u8 *)tmp___1;
#line 877
    if ((unsigned long )buf == (unsigned long )((u8 *)0U)) {
#line 878
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 878);
#line 879
      return (3);
    } else {

    }
#line 882
    goto ldv_38271;
    ldv_38270: 
#line 883
    pagelen = 256U - (unsigned int )((u16 )((unsigned char )addr));
#line 885
    if ((int )pagelen > (int )len) {
#line 886
      pagelen = len;
    } else {

    }
#line 888
    retval = sf_enable_write(chip, 6);
#line 889
    if (retval != 0) {
#line 890
      kfree((void const   *)buf);
#line 891
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 891);
#line 892
      return (1);
    } else {

    }
#line 895
    chip->ci = 0;
#line 897
    trans_dma_enable(1, chip, 256U, 16);
#line 898
    sf_program(chip, (int )ins, 1, addr, (int )pagelen);
#line 900
    rtsx_send_cmd_no_wait(chip);
#line 902
    rtsx_stor_access_xfer_buf(buf, (unsigned int )pagelen, srb, & index, & offset,
                              1);
#line 905
    retval = rtsx_transfer_data(chip, 0, (void *)buf, (size_t )pagelen, 0, 1, 100);
#line 907
    if (retval < 0) {
#line 908
      kfree((void const   *)buf);
#line 909
      rtsx_clear_spi_error(chip);
#line 910
      spi_set_err_code(chip, 1);
#line 911
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 911);
#line 912
      return (1);
    } else {

    }
#line 915
    retval = sf_polling_status(chip, 100);
#line 916
    if (retval != 0) {
#line 917
      kfree((void const   *)buf);
#line 918
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_write_flash", 918);
#line 919
      return (1);
    } else {

    }
#line 922
    addr = (u32 )pagelen + addr;
#line 923
    len = (int )len - (int )pagelen;
    ldv_38271: ;
#line 882
    if ((unsigned int )len != 0U) {
#line 884
      goto ldv_38270;
    } else {

    }
#line 926
    kfree((void const   *)buf);
  } else {
#line 928
    spi_set_err_code(chip, 2);
#line 929
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_flash", 929);
#line 930
    return (1);
  }
#line 933
  return (0);
}
}
#line 936 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_erase_flash(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 ins ;
  u8 erase_mode ;
  u32 addr ;

  {
#line 942
  spi_set_err_code(chip, 0);
#line 944
  ins = *(srb->cmnd + 3UL);
#line 945
  addr = (((unsigned int )*(srb->cmnd + 4UL) << 16) | ((unsigned int )*(srb->cmnd + 5UL) << 8)) | (unsigned int )*(srb->cmnd + 6UL);
#line 947
  erase_mode = *(srb->cmnd + 9UL);
#line 949
  retval = spi_set_init_para(chip);
#line 950
  if (retval != 0) {
#line 951
    spi_set_err_code(chip, 1);
#line 952
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_flash", 952);
#line 953
    return (1);
  } else {

  }
#line 956
  if ((unsigned int )erase_mode == 0U) {
#line 957
    retval = sf_enable_write(chip, 6);
#line 958
    if (retval != 0) {
#line 959
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_erase_flash", 959);
#line 960
      return (1);
    } else {

    }
#line 963
    retval = sf_erase(chip, (int )ins, 1, addr);
#line 964
    if (retval != 0) {
#line 965
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_erase_flash", 965);
#line 966
      return (1);
    } else {

    }
  } else
#line 968
  if ((unsigned int )erase_mode == 1U) {
#line 969
    retval = sf_enable_write(chip, 6);
#line 970
    if (retval != 0) {
#line 971
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_erase_flash", 971);
#line 972
      return (1);
    } else {

    }
#line 975
    retval = sf_erase(chip, (int )ins, 0, 0U);
#line 976
    if (retval != 0) {
#line 977
      _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                  "spi_erase_flash", 977);
#line 978
      return (1);
    } else {

    }
  } else {
#line 981
    spi_set_err_code(chip, 2);
#line 982
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_erase_flash", 982);
#line 983
    return (1);
  }
#line 986
  return (0);
}
}
#line 989 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c"
int spi_write_flash_status(struct scsi_cmnd *srb , struct rtsx_chip *chip ) 
{ 
  int retval ;
  u8 ins ;
  u8 status ;
  u8 ewsr ;

  {
#line 994
  ins = *(srb->cmnd + 3UL);
#line 995
  status = *(srb->cmnd + 4UL);
#line 996
  ewsr = *(srb->cmnd + 5UL);
#line 998
  retval = spi_set_init_para(chip);
#line 999
  if (retval != 0) {
#line 1000
    spi_set_err_code(chip, 1);
#line 1001
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_flash_status", 1001);
#line 1002
    return (1);
  } else {

  }
#line 1005
  retval = sf_enable_write(chip, (int )ewsr);
#line 1006
  if (retval != 0) {
#line 1007
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_flash_status", 1007);
#line 1008
    return (1);
  } else {

  }
#line 1011
  chip->ci = 0;
#line 1013
  rtsx_add_cmd(chip, 1, 64859, 1, 1);
#line 1016
  rtsx_add_cmd(chip, 1, 64896, 255, (int )ins);
#line 1017
  rtsx_add_cmd(chip, 1, 64901, 255, 247);
#line 1019
  rtsx_add_cmd(chip, 1, 64903, 255, 0);
#line 1020
  rtsx_add_cmd(chip, 1, 64902, 255, 1);
#line 1021
  rtsx_add_cmd(chip, 1, 64000, 255, (int )status);
#line 1022
  rtsx_add_cmd(chip, 1, 64912, 255, 130);
#line 1024
  rtsx_add_cmd(chip, 2, 64912, 64, 64);
#line 1027
  retval = rtsx_send_cmd(chip, 0, 100);
#line 1028
  if (retval != 0) {
#line 1029
    rtsx_clear_spi_error(chip);
#line 1030
    spi_set_err_code(chip, 1);
#line 1031
    _rtsx_trace(chip, "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.c",
                "spi_write_flash_status", 1031);
#line 1032
    return (1);
  } else {

  }
#line 1035
  return (0);
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/spi.o.c.prepared"
int ldv_scsi_add_host_with_dma_75(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 1 "<compiler builtins>"
__inline static long ldv__builtin_expect(long exp , long c ) ;
#line 23 "include/linux/string.h"
extern char *strncpy(char * , char const   * , __kernel_size_t  ) ;
#line 59
extern char *strrchr(char const   * , int  ) ;
#line 156 "include/linux/string.h"
__inline static char const   *kbasename(char const   *path ) 
{ 
  char const   *tail ;
  char *tmp ;

  {
#line 158
  tmp = strrchr(path, 47);
#line 158
  tail = (char const   *)tmp;
#line 159
  return ((unsigned long )tail != (unsigned long )((char const   *)0) ? tail + 1UL : path);
}
}
#line 35 "include/linux/timekeeping.h"
extern void getnstimeofday64(struct timespec * ) ;
#line 795 "include/scsi/scsi_host.h"
int ldv_scsi_add_host_with_dma_81(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) ;
#line 146 "/work/ldvuser/mutilin/launch/inst/current/envs/linux-4.2-rc1.tar.xz/linux-4.2-rc1/drivers/staging/rts5208/rtsx.h"
__inline static void get_current_time(u8 *timeval_buf , int buf_len ) 
{ 
  struct timespec ts64 ;
  u32 tv_usec ;

  {
#line 151
  if ((unsigned long )timeval_buf == (unsigned long )((u8 *)0U) || buf_len <= 7) {
#line 152
    return;
  } else {

  }
#line 154
  getnstimeofday64(& ts64);
#line 156
  tv_usec = (u32 )(ts64.tv_nsec / 1000L);
#line 158
  *timeval_buf = (unsigned char )(ts64.tv_sec >> 24);
#line 159
  *(timeval_buf + 1UL) = (unsigned char )(ts64.tv_sec >> 16);
#line 160
  *(timeval_buf + 2UL) = (unsigned char )(ts64.tv_sec >> 8);
#line 161
  *(timeval_buf + 3UL) = (unsigned char )ts64.tv_sec;
#line 162
  *(timeval_buf + 4UL) = (unsigned char )(tv_usec >> 24);
#line 163
  *(timeval_buf + 5UL) = (unsigned char )(tv_usec >> 16);
#line 164
  *(timeval_buf + 6UL) = (unsigned char )(tv_usec >> 8);
#line 165
  *(timeval_buf + 7UL) = (unsigned char )tv_usec;
#line 166
  return;
}
}
#line 8 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/trace.c"
void _rtsx_trace(struct rtsx_chip *chip , char const   *file , char const   *func ,
                 int line ) 
{ 
  struct trace_msg_t *msg ;
  struct _ddebug descriptor ;
  struct device *tmp ;
  long tmp___0 ;

  {
#line 11
  msg = (struct trace_msg_t *)(& chip->trace_msg) + (unsigned long )chip->msg_idx;
#line 13
  file = kbasename(file);
#line 14
  descriptor.modname = "rts5208";
#line 14
  descriptor.function = "_rtsx_trace";
#line 14
  descriptor.filename = "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/trace.c";
#line 14
  descriptor.format = "[%s][%s]:[%d]\n";
#line 14
  descriptor.lineno = 14U;
#line 14
  descriptor.flags = 0U;
#line 14
  tmp___0 = ldv__builtin_expect((long )descriptor.flags & 1L, 0L);
#line 14
  if (tmp___0 != 0L) {
#line 14
    tmp = rtsx_dev((struct rtsx_chip  const  *)chip);
#line 14
    __dynamic_dev_dbg(& descriptor, (struct device  const  *)tmp, "[%s][%s]:[%d]\n",
                      file, func, line);
  } else {

  }
#line 16
  strncpy((char *)(& msg->file), file, 31UL);
#line 17
  strncpy((char *)(& msg->func), func, 63UL);
#line 18
  msg->line = (unsigned short )line;
#line 19
  get_current_time((u8 *)(& msg->timeval_buf), 16);
#line 20
  msg->valid = 1U;
#line 22
  chip->msg_idx = chip->msg_idx + 1;
#line 23
  if (chip->msg_idx > 63) {
#line 24
    chip->msg_idx = 0;
  } else {

  }
#line 25
  return;
}
}
#line 75 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/dscv/ri/08_1a/drivers/staging/rts5208/trace.o.c.prepared"
int ldv_scsi_add_host_with_dma_81(struct Scsi_Host *shost , struct device *dev , struct device *dma_dev ) 
{ 
  ldv_func_ret_type ldv_func_res ;
  int tmp ;

  {
#line 79
  tmp = scsi_add_host_with_dma(shost, dev, dma_dev);
#line 79
  ldv_func_res = tmp;
#line 81
  if (ldv_func_res == 0) {
#line 82
    ldv_state_variable_3 = 1;
#line 82
    ldv_initialize_scsi_host_template_3();
  } else {

  }
#line 86
  return (ldv_func_res);
}
}
#line 8 "/home/ldvuser/ldv/inst/kernel-rules/verifier/sv-comp.h"
extern void *memset(void * , int  , size_t  ) ;
#line 12 "/home/ldvuser/ldv/inst/kernel-rules/verifier/rcv.h"
__inline static void ldv_error(void) 
{ 


  {
  ERROR: ;
#line 14
  __VERIFIER_error();
}
}
#line 7 "/home/ldvuser/ldv/inst/kernel-rules/kernel-model/ERR.inc"
bool ldv_is_err(void const   *ptr ) 
{ 


  {
#line 10
  return ((unsigned long )ptr > 2012UL);
}
}
#line 14 "/home/ldvuser/ldv/inst/kernel-rules/kernel-model/ERR.inc"
void *ldv_err_ptr(long error ) 
{ 


  {
#line 17
  return ((void *)(2012L - error));
}
}
#line 21 "/home/ldvuser/ldv/inst/kernel-rules/kernel-model/ERR.inc"
long ldv_ptr_err(void const   *ptr ) 
{ 


  {
#line 24
  return ((long )(2012UL - (unsigned long )ptr));
}
}
#line 28 "/home/ldvuser/ldv/inst/kernel-rules/kernel-model/ERR.inc"
bool ldv_is_err_or_null(void const   *ptr ) 
{ 
  bool tmp ;
  int tmp___0 ;

  {
#line 31
  if ((unsigned long )ptr == (unsigned long )((void const   *)0)) {
#line 31
    tmp___0 = 1;
  } else {
#line 31
    tmp = ldv_is_err(ptr);
#line 31
    if ((int )tmp) {
#line 31
      tmp___0 = 1;
    } else {
#line 31
      tmp___0 = 0;
    }
  }
#line 31
  return ((bool )tmp___0);
}
}
#line 7 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
int ldv_module_refcounter  =    1;
#line 10 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
void ldv_module_get(struct module *module ) 
{ 


  {
#line 13
  if ((unsigned long )module != (unsigned long )((struct module *)0)) {
#line 15
    ldv_module_refcounter = ldv_module_refcounter + 1;
  } else {

  }
#line 16
  return;
}
}
#line 20 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
int ldv_try_module_get(struct module *module ) 
{ 
  int module_get_succeeded ;

  {
#line 25
  if ((unsigned long )module != (unsigned long )((struct module *)0)) {
#line 28
    module_get_succeeded = ldv_undef_int();
#line 30
    if (module_get_succeeded == 1) {
#line 32
      ldv_module_refcounter = ldv_module_refcounter + 1;
#line 34
      return (1);
    } else {
#line 39
      return (0);
    }
  } else {

  }
#line 41
  return (0);
}
}
#line 45 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
void ldv_module_put(struct module *module ) 
{ 


  {
#line 48
  if ((unsigned long )module != (unsigned long )((struct module *)0)) {
#line 50
    if (ldv_module_refcounter <= 1) {
#line 50
      ldv_error();
    } else {

    }
#line 52
    ldv_module_refcounter = ldv_module_refcounter - 1;
  } else {

  }
#line 54
  return;
}
}
#line 57 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
void ldv_module_put_and_exit(void) 
{ 


  {
#line 59
  ldv_module_put((struct module *)1);
  LDV_STOP: ;
#line 61
  goto LDV_STOP;
}
}
#line 65 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
unsigned int ldv_module_refcount(void) 
{ 


  {
#line 68
  return ((unsigned int )(ldv_module_refcounter + -1));
}
}
#line 72 "/work/ldvuser/mutilin/launch/work/current--X--drivers/--X--defaultlinux-4.2-rc1.tar.xz--X--08_1a--X--cpachecker/linux-4.2-rc1.tar.xz/csd_deg_dscv/7085/dscv_tempdir/rule-instrumentor/08_1a/common-model/ldv_common_model.c"
void ldv_check_final_state(void) 
{ 


  {
#line 75
  if (ldv_module_refcounter != 1) {
#line 75
    ldv_error();
  } else {

  }
#line 79
  return;
}
}
